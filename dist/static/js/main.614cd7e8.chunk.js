(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t){e.exports={FIREBASE_API_KEY:"AIzaSyA_KHXFqKk-IwtpaQQ8yPHzZUQVcPj8nh0",FIREBASE_APP_ID:"1:943507420902:web:3235c53c4819733c12ad27",MESSAGING_SENDER_ID:"943507420902",AUTH_DOMAIN:"comparemyhelper.firebaseapp.com",PROJECT_ID:"comparemyhelper",STORAGE_BUCKET:"comparemyhelper.appspot.com",REACT_APP_STRIPE_KEY:"pk_test_51IPs17FDnJ8TWcoKlw8jCBw7eqGYikCgmvZvdBiROKfvgmUTcOQfJNrKG3iaDv4VOpPkhV1GR9vVyU0hEqyvmbJ800fOkWiyXe",GOOGLE_MAPS_API_KEY:"AIzaSyAG4N6GONCjaMkk-QnJw1eHeConkKFrzGY",MAPBOX_TOKEN:"pk.eyJ1IjoiYWxrYWsyMiIsImEiOiJja2xyenNkOWwwNWIzMnhvZ3FxdjMxeXlkIn0.5Eclccm8YZaDz58d35Widw"}},479:function(e,t){},503:function(e,t,n){},614:function(e,t,n){},631:function(e,t){},633:function(e,t){},673:function(e,t){},674:function(e,t){},849:function(e,t,n){"use strict";n.r(t);var c={};n.r(c),n.d(c,"fetchDistance",(function(){return te})),n.d(c,"fetchUser",(function(){return ne})),n.d(c,"fetchSubcategoriesName",(function(){return ce})),n.d(c,"fetchQuestionsName",(function(){return ae})),n.d(c,"submitVendor",(function(){return se})),n.d(c,"submitVendorCategories",(function(){return re}));var a=n(2),s=n(0),r=n.n(s),o=n(43),i=n.n(o),l=n(14),d=n(67),u=(n(502),n(456)),j=(n(503),n(11)),b=n.n(j),m=n(15),h=n(13),O=n(78),f=n(16),p=(n(504),n(200)),x=(n(505),n(102)),v=n.n(x),g={apiKey:v.a.FIREBASE_API_KEY,authDomain:v.a.AUTH_DOMAIN,projectId:v.a.PROJECT_ID,storageBucket:v.a.STORAGE_BUCKET,messagingSenderId:v.a.MESSAGING_SENDER_ID,appId:v.a.FIREBASE_APP_ID};p.a.apps.length||p.a.initializeApp(g),console.log("AUTH",g);var y=p.a.auth(),N=new p.a.auth.GoogleAuthProvider,w=new p.a.auth.FacebookAuthProvider,S=n(19),k=n.n(S),_=n(96),C=Object(_.a)(),E=k.a.create({baseURL:"https://maps.googleapis.com/maps/api/distancematrix"}),I="SET_ALERT",A="REMOVE_ALERT",R="LOGGED_IN_USER",T="LOGOUT",D="fetch_user",L="CREATE_CATEGORY",q="FETCH_CATEGORIES",P="EDIT_CATEGORY",U="DELETE_CATEGORY",F="CREATE_SUBCATEGORY",V="FETCH_SUBCATEGORIES",Y="EDIT_SUBCATEGORY",M="DELETE_SUBCATEGORY",B="CREATE_QUESTION",G="FETCH_QUESTIONS",Q="EDIT_QUESTION",H="DELETE_QUESTION",z="CREATE_SUBCAT_QUESTION",K="FETCH_SUBCAT_QUESTIONS",J="EDIT_SUBCAT_QUESTION",X="DELETE_SUBCAT_QUESTION",W="FETCH_CATEGORIES_NAME",Z="FETCH_SUBCATEGORIES_NAME",$="FETCH_QUESTIONS_NAME",ee="http://localhost:5000",te=function(){return function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,E.get("/json?origins");case 2:n=e.sent,t({type:"fetch_distance",payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ne=function(){return function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("/api/current_user");case 2:n=e.sent,t({type:D,payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ce=function(){return function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(ee,"/api/subcategory"));case 2:n=e.sent,t({type:Z,payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ae=function(){return function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(ee,"/api/questions"));case 2:n=e.sent,t({type:$,payload:n.data});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},se=function(e,t){return function(){var t=Object(m.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("values from vendor action creator:",e),t.next=3,k.a.post("".concat(ee,"/api/vendor"),e);case 3:c=t.sent,n({type:"submit_vendor",payload:c.data});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},re=function(e,t){return function(){var t=Object(m.a)(b.a.mark((function t(n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k.a.post("".concat(ee,"/api/vendorcategories"),e);case 2:t.sent,window.location.href="/";case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},oe=n(10),ie=n(18),le="http://localhost:5000",de=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(le,"/api/categories"));case 2:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ue=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(le,"/api/category/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),je=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(le,"/api/category"),t,{headers:{authtoken:n}});case 2:e.sent,C.push("/admin/categories/categorieslist");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),be=function(){var e=Object(m.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.put("".concat(le,"/api/category/").concat(t),n,{headers:{authtoken:c}});case 2:a=e.sent,console.log("Response from edit",a),C.push("/admin/categories/categorieslist");case 5:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),me=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("auth and slug",t,n),e.next=3,k.a.delete("".concat(le,"/api/category/").concat(t),{headers:{authtoken:n}});case 3:e.sent,C.push("/admin/categories/categorieslist");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),he=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(le,"/api/category/subcat/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Oe="http://localhost:5000",fe=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(Oe,"/api/subcategory"),t,{headers:{authtoken:n}});case 2:e.sent,C.push("/admin/subcategories/subcategorieslist");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),pe=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Oe,"/api/subcategories"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),xe=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Oe,"/api/subcategory/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(m.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Formvalues from edit subcategory",n),e.next=3,k.a.put("".concat(Oe,"/api/subcategory/").concat(t),n,{headers:{authtoken:c}});case 3:a=e.sent,console.log("Response from edit subcat",a),C.push("/admin/subcategories/subcategorieslist");case 6:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),ge=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.delete("".concat(Oe,"/api/subcategory/").concat(t),{headers:{authtoken:n}});case 2:C.push("/admin/subcategories/subcategorieslist");case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ye=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Oe,"/api/subcategories/vendor/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(e){var t=Object(s.useState)([]),n=Object(oe.a)(t,2),c=n[0],r=n[1];Object(s.useEffect)((function(){pe().then((function(e){return r(e.data)}))}),[]);return Object(a.jsx)("div",{children:c.map((function(t){if(t.category._id&&t.category._id===e.categoryValue)return Object(a.jsx)("div",{className:"mb-1",children:Object(a.jsxs)(ie.a,{to:"/vendorcat/".concat(t.slug),children:[t.name," "]})},t._id)}))})},we=n(334),Se=(n(371),n(139)),ke=n(140),_e=n(148),Ce=n(147),Ee=n(459),Ie=n(284),Ae=n.n(Ie),Re=n(201),Te=n(112),De=n(281),Le=n(37),qe=n.n(Le),Pe=n(153),Ue=(Pe.a.Option,function(){var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(""),o=Object(oe.a)(r,2),i=(o[0],o[1]);return Object(s.useEffect)((function(){pe().then((function(e){return c(e.data)}))}),[]),Object(a.jsxs)("select",{name:"subcategory",className:"form-control mt-3 mb-3 ml-4 font-weight-bold h6",style:{height:"50px"},onChange:function(e){return i(e)},children:[Object(a.jsx)("option",{value:"",children:"Select a Sub Category"}),n&&n.map((function(e){return Object(a.jsx)("option",{value:e._id,children:e.name},e._id)}))]})}),Fe=function(e){Object(_e.a)(n,e);var t=Object(Ce.a)(n);function n(e){var c;return Object(Se.a)(this,n),(c=t.call(this,e)).handleChange=function(e){c.setState({address:e})},c.handleSelect=function(e){Object(Ie.geocodeByAddress)(e).then((function(t){Object(Ie.getLatLng)(t[0]).then((function(n){console.log("Success",n),c.setState({address:e}),console.log("Results",t)}))})).catch((function(e){return console.error("Error",e)}))},c.searchOptions={componentRestrictions:{country:["gb"]}},c.state={address:""},c}return Object(ke.a)(n,[{key:"render",value:function(){return Object(a.jsxs)(Re.a,{justify:"center",children:[Object(a.jsx)(Te.a,{span:5,children:Object(a.jsx)(Ae.a,{value:this.state.address,onChange:this.handleChange,onSelect:this.handleSelect,searchOptions:this.searchOptions,children:function(e){var t=e.getInputProps,n=e.suggestions,c=e.getSuggestionItemProps,s=e.loading;return Object(a.jsxs)(Te.a,{style:{position:"static",display:"inline-block"},children:[Object(a.jsx)("input",Object(h.a)({},t({placeholder:"Search a Location ...",className:"location-search-input mt-3 mb-3 font-weight-bold h6",style:{height:"50px",width:"100%"}}))),Object(a.jsxs)(Te.a,{span:32,style:{position:"absolute",zIndex:1},className:"autocomplete-dropdown-container",children:[s&&Object(a.jsx)("div",{children:"Loading..."}),n.map((function(e,t){var n=e.active?"suggestion-item--active":"suggestion-item",s=e.active?{backgroundColor:"#fafafa",cursor:"pointer"}:{backgroundColor:"#ffffff",cursor:"pointer"};return Object(a.jsx)(Te.a,Object(h.a)(Object(h.a)({span:32},c(e,{className:n,style:s})),{},{children:Object(a.jsx)("span",{children:e.description})}),t+"_"+e.id)}))]})]})}})}),Object(a.jsx)(Te.a,{span:5,children:Object(a.jsx)(Ue,{})}),Object(a.jsx)(Te.a,{span:1,className:"h3 mt-3",style:{marginLeft:"50px"},children:Object(a.jsx)(De.a,{})})]})}}]),n}(s.Component),Ve=Object(Ee.GoogleApiWrapper)({apiKey:v.a.GOOGLE_MAPS_API_KEY})(Fe),Ye=n(886),Me=n(882),Be=n(460),Ge=n.n(Be),Qe=function(e){var t=e.text;return Object(a.jsx)(Ge.a,{options:{strings:t,autoStart:!0,loop:!0}})},He=(Ye.a.Meta,function(){var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=t[0],c=t[1];Object(s.useEffect)((function(){r()}),[]);var r=function(){de().then((function(e){return c(e.data)}))};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("section",{className:"feature-class",id:"features",children:Object(a.jsx)(Te.a,{className:"font-weight-bold mt-2",children:Object(a.jsx)(Ve,{})})}),Object(a.jsx)("section",{className:"content-section",children:Object(a.jsx)(Re.a,{children:n&&n.map((function(e){if(e._id)return Object(a.jsxs)(Te.a,{span:8,className:"main-class font-weight-bold p-1 d-flex",children:[Object(a.jsx)(Te.a,{span:8,push:1,children:Object(a.jsx)(ie.a,{to:"/vendordetails/".concat(e.slug),className:"font-weight-bold h5  text-dark ml-2",children:e.name})}),Object(a.jsx)(Te.a,{span:12,className:"btn btn-raised font-weight-bold mt-2",children:Object(a.jsx)(Ne,{categoryValue:e._id})}),Object(a.jsx)(Te.a,{span:8,className:"ml-4",children:Object(a.jsx)(Me.a,{src:e.imgURL,size:100,className:"category-img"})})]},e._id)}))})}),Object(a.jsx)("section",{className:"testimonial-section",children:Object(a.jsx)(Re.a,{align:"middle",children:Object(a.jsx)(Te.a,{span:24,className:"jumbotron-fluid font-weight-bold h1 text-danger mb-1 d-flex justify-content-center",children:Object(a.jsx)(Qe,{text:["We will find the best helper for your needs","Compare the price to find the most affordable helper","So easy to use that you will have your help sorted in minutes"]})})})})]})});var ze=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(He,{})})},Ke="http://localhost:5000",Je=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(Ke,"/api/vendor"),t,{headers:{authtoken:n}});case 2:e.sent,C.push("/vendor/vendorcatlist");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Xe=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Ke,"/api/vendors"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),We=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Ke,"/api/vendors/count/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("user from actions",t),e.next=3,k.a.get("".concat(Ke,"/api/vendors/user/").concat(t),{page:n});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),$e=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Ke,"/api/vendor/").concat(t));case 2:return n=e.sent,console.log("Category from getvendorcategory",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(m.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("auth and id",t,n),e.next=3,k.a.delete("".concat(Ke,"/api/vendor/").concat(t),{headers:{authtoken:n}});case 3:c=e.sent,console.log("value of RES",c),C.push("/vendor/vendorcatlist");case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),tt=function(){var e=Object(m.a)(b.a.mark((function e(t,n,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.put("".concat(Ke,"/api/vendor/").concat(t),n,{headers:{authtoken:c}});case 2:e.sent,C.push("/vendor/vendorcatlist");case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),nt=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(Ke,"/api/vendors"),{order:t,page:n});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ct=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Ke,"/api/vendors/total"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),at=function(){var e=Object(m.a)(b.a.mark((function e(t,n,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(Ke,"/api/vendor/rating/").concat(t),{star:n},{headers:{authtoken:c}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),st=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Ke,"/api/vendors/related/").concat(t));case 2:return n=e.sent,console.log("vendors from getRelatedVendors",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),rt=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(Ke,"/api/search/filters"),t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ot=n(149),it=n(489),lt=n(889),dt=n(185),ut=n.n(dt),jt=function(e){if(e&&e.ratings){var t=e&&e.ratings,n=[],c=t.length;t.map((function(e){return n.push(e.star)}));var s=5*n.reduce((function(e,t){return e+t}),0)/(5*c);return Object(a.jsx)("div",{className:"d-flex justify-content-center  pt-1 pb-3",children:Object(a.jsxs)("span",{children:[Object(a.jsx)(ut.a,{rating:s,starDimension:"20px",starSpacing:"2px",starRatedColor:"red",editing:!1})," ","(",e.ratings.length,")"]})})}},bt=n(53),mt=n.n(bt),ht=Ye.a.Meta,Ot=function(e){var t=e.vendor,n=Object(l.d)((function(e){return Object(h.a)({},e)})),c=(n.user,n.cart,Object(s.useState)([])),r=Object(oe.a)(c,2),o=r[0],i=(r[1],Object(s.useState)("Click to add")),d=Object(oe.a)(i,2),u=d[0],j=d[1],b=t._id,m=t.vendorInfoId,O=t.images,f=(t.description,t.subcategories),p=t.price,x=t.pricetype,v=Object(l.c)();Object(s.useEffect)((function(){g()}),[]);var g=function(){f.map((function(e){e._id}))};return Object(a.jsxs)("div",{className:"border rounded m-2",children:[t&&t.ratings&&t.ratings.length>0?jt(t):Object(a.jsx)("div",{className:"d-flex justify-content-center mt-1 mb-3",children:'"No rating yet"'}),Object(a.jsx)(Ye.a,{cover:Object(a.jsx)("img",{src:O&&O.length?O[0].url:"",style:{height:"180px",objectFit:"cover"}}),actions:[Object(a.jsxs)(ie.a,{to:"/vendordetails/".concat(b),children:[Object(a.jsx)(it.a,{className:"text-warning"})," ",Object(a.jsx)("br",{}),"View Vendor Details"]}),Object(a.jsx)(ot.a,{title:u,children:Object(a.jsxs)("a",{onClick:function(){var e=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.push(Object(h.a)(Object(h.a)({},t),{},{count:1}));var n=mt.a.uniqWith(e,mt.a.isEqual);console.log(n),localStorage.setItem("cart",JSON.stringify(n)),j("Added"),v({type:"ADD_TO_CART",payload:n}),v({type:"SET_VISIBLE",payload:!0})}},children:[Object(a.jsx)(lt.a,{className:"text-info"}),Object(a.jsx)("br",{}),"Select Vendor"]})})],children:Object(a.jsx)(ht,{title:"".concat(m.name,"-\xa3").concat(p," ").concat(x),description:o})})]})},ft=n(878),pt=function(e){var t=e.count;return Object(a.jsx)("div",{className:"row pb-5",children:function(){for(var e=[],n=0;n<t;n++)e.push(Object(a.jsx)(Ye.a,{className:"col col-md-4",children:Object(a.jsx)(ft.a,{active:!0})},n));return e}()})},xt=n(874),vt=function(){var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(oe.a)(r,2),i=o[0],l=o[1],d=Object(s.useState)(1),u=Object(oe.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)(0),h=Object(oe.a)(m,2),O=h[0],f=h[1];Object(s.useEffect)((function(){p()}),[j]),Object(s.useEffect)((function(){ct().then((function(e){return f(e.data)}))}),[]);var p=function(){l(!0),nt("desc",j).then((function(e){return c(e.data)})),l(!1)};return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"container",children:i?Object(a.jsx)(pt,{count:4}):Object(a.jsx)("div",{className:"row mb-2",children:n.map((function(e){return Object(a.jsx)("div",{className:"col col-md-4",children:Object(a.jsx)(Ot,{vendor:e})},e._id)}))})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("nav",{className:"col col-md-4 offset-md-4 pt-5 p-3 d-flex justify-content-center",children:Object(a.jsx)(xt.a,{current:j,total:O/3*10,onChange:function(e){return b(e)}})})})]})},gt=function(){return Object(a.jsx)("nav",{className:"navbar mt-3 navlist",children:Object(a.jsxs)("ul",{className:"nav flex-column font-weight-bold ",children:[Object(a.jsx)("li",{className:"nav-item mb-3",children:Object(a.jsx)(ie.a,{to:"/admin/categories/categorieslist",children:"CATEGORIES"})}),Object(a.jsx)("li",{className:"nav-item mb-3",children:Object(a.jsx)(ie.a,{to:"/admin/subcategories/subcategorieslist",children:"SUB CATEGORIES"})}),Object(a.jsx)("li",{className:"nav-item mb-3",children:Object(a.jsx)(ie.a,{to:"/admin/questions/questionslist",children:"QUESTIONS"})}),Object(a.jsx)("li",{className:"nav-item mb-3",children:Object(a.jsx)(ie.a,{to:"/admin/subcatquestions/subcatquestionslist",children:"SUB CATEGORY QUESTIONS"})}),Object(a.jsx)("li",{className:"nav-item mb-3",children:Object(a.jsx)(ie.a,{to:"/vendor/vendorsinfolist",children:"VENDORS"})}),Object(a.jsx)("li",{className:"nav-item mb-3",children:Object(a.jsx)(ie.a,{to:"/vendor/vendorcatlist",children:"VENDOR CATEGORIES"})}),Object(a.jsx)("li",{className:"nav-item mb-3",children:Object(a.jsx)(ie.a,{to:"/vendor/vendorpassword",children:"VENDOR PASSWORD"})}),Object(a.jsx)("li",{className:"nav-item mb-3",children:Object(a.jsx)(ie.a,{to:"/user/userpassword",children:"USER PASSWORD "})}),Object(a.jsx)("li",{className:"nav-item mb-3",children:Object(a.jsx)(ie.a,{to:"/admin/timeslot/listslots",children:"MANAGE TIMESLOTS"})}),Object(a.jsx)("li",{className:"nav-item mb-3",children:Object(a.jsx)(ie.a,{to:"/admin/areas/listareas",children:"UPLOAD AREAS"})})]})})},yt=n(890),Nt=n(891),wt=Ye.a.Meta,St=function(e){var t=e.cat,n=t.vendorInfoId,c=t.description,s=(t.category,t.subcategories,t.images),r=t._id;return Object(a.jsx)(Ye.a,{cover:Object(a.jsx)("img",{src:s&&s.length?s[0].url:"",style:{height:"150px",objectFit:"cover"}}),actions:[Object(a.jsx)(ie.a,{to:"/vendor/vendoredit/".concat(r),children:Object(a.jsx)(yt.a,{className:"text-warning"})}),Object(a.jsx)(ie.a,{to:"/vendor/vendorcatdelete/".concat(r),children:Object(a.jsx)(Nt.a,{className:"text-danger"})})],children:Object(a.jsx)(wt,{title:n.name,description:"".concat(c&&c.substring(0,50),"....")})})},kt=function(){var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(oe.a)(r,2),i=o[0],l=o[1];Object(s.useEffect)((function(){d()}),[]);var d=function(){l(!0),Xe().then((function(e){c(e.data),l(!1)})).catch((function(e){l(!1),console.log(e)}))};return Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"row ml-0 text-align-top",children:[Object(a.jsx)("div",{className:"col-md-2 mt-2 ",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-10",children:[i?Object(a.jsx)("h4",{children:"Loading...."}):Object(a.jsx)("h4",{className:"font-weight-bold",children:"All Vendor Categories"}),Object(a.jsx)("div",{className:"row",children:n.map((function(e){return Object(a.jsx)("div",{className:"col col-md-4",children:Object(a.jsx)(St,{cat:e})},e._id)}))})]})]})})},_t=function(e){return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col d-flex justify-content-center admin-class",children:[Object(a.jsx)("div",{className:"ml-3",children:Object(a.jsx)(ie.a,{to:e.addRoute,children:"Add New"})}),Object(a.jsx)("div",{className:"ml-3",children:Object(a.jsx)(ie.a,{to:"/admin/dashboard",className:"d-flex justify-content-center admin-class",children:"Admin"})})]})})})},Ct=function(e){var t=e.input,n=e.label,c=e.meta;return console.log("meta",c),Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"form-group mb-0 first-class",children:[Object(a.jsx)("label",{className:"col-lg-label font-weight-bold",children:n}),Object(a.jsxs)("div",{className:"col-lg-12",children:[Object(a.jsx)("input",Object(h.a)({className:"form-control"},t)),Object(a.jsx)("div",{className:"text-danger",children:c.touched&&c.error})]})]})})},Et=function(e){var t=e.handleSubmit,n=e.name,c=e.setName,s=e.imgURL,r=e.setImgURL;return Object(a.jsxs)("form",{onSubmit:t,children:[Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("div",{className:"row mt-2",children:Object(a.jsxs)("div",{className:"col col-md-12",children:[Object(a.jsx)("label",{className:" admin-class",children:"Name"}),Object(a.jsx)("input",{type:"text",name:"name",className:"form-control",placeholder:"Enter Category",onChange:function(e){return c(e.target.value)},value:n,autoFocus:!0}),Object(a.jsx)("label",{className:"admin-class mt-2",children:"Image Link"}),Object(a.jsx)("input",{type:"text",name:"imgURL",className:"form-control",placeholder:"Enter Image Link",onChange:function(e){return r(e.target.value)},value:s})]})})}),Object(a.jsx)("div",{className:"d-flex justify-content-center mt-2  ",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold ",name:"category",children:"Save"})})]})},It=function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t=Object(s.useState)(""),n=Object(oe.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)(""),i=Object(oe.a)(o,2),d=i[0],u=i[1],j=Object(s.useState)(!1),b=Object(oe.a)(j,2),m=b[0],O=b[1];return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-6",children:[Object(a.jsx)(_t,{addRoute:"/admin/categories/categoriescreate"}),Object(a.jsxs)("section",{className:"vendor-center",children:[m?Object(a.jsx)("h2",{children:"Loading...."}):Object(a.jsx)("h2",{className:"card-header font-weight-bold",children:" Add New Categories "}),Object(a.jsx)("div",{className:"card  mb-2",children:Object(a.jsx)("div",{className:" card-body mb-1 ",children:Object(a.jsx)(Et,{handleSubmit:function(t){t.preventDefault(),O(!0),je({name:c,imgURL:d},e.token).then((function(e){O(!1),r(""),u(""),f.b.success("Successfully created ".concat(e.data.name))})).catch((function(e){console.log(e),O(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.response)}))},name:c,setName:r,imgURL:d,setImgURL:u})})})]})]})]})},At=function(e){var t=e.keyword,n=e.setKeyword;return Object(a.jsx)("div",{className:"pt-4 ",children:Object(a.jsx)("input",{type:"search",placeholder:"Enter a keyword",value:t,className:"form-control mb-4",onChange:function(e){e.preventDefault(),n(e.target.value.toLowerCase())}})})},Rt=function(){var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(oe.a)(r,2),i=(o[0],o[1]),l=Object(s.useState)(""),d=Object(oe.a)(l,2),u=d[0],j=d[1];Object(s.useEffect)((function(){h()}),[]);var h=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),de().then((function(e){return c(e.data)})),i(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-9 category",children:[Object(a.jsx)(_t,{addRoute:"/admin/categories/categoriescreate"}),n?Object(a.jsx)("h2",{className:"card-header font-weight-bold mt-2",children:"Categories"}):Object(a.jsx)("h2",{children:"Loading....."}),Object(a.jsx)(At,{keyword:u,setKeyword:j}),Object(a.jsx)("div",{className:"container-fluid category-center",children:Object(a.jsxs)("div",{className:" row",children:[Object(a.jsx)("div",{className:" col col-md-4",children:Object(a.jsx)("h5",{className:"float-center font-weight-bold",children:" Category Name"})}),Object(a.jsx)("div",{className:"col col-md-4",children:Object(a.jsx)("h5",{className:"float-center font-weight-bold",children:"  Image URL"})})]})}),Object(a.jsx)("form",{children:n.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(u)).map((function(e){if(e.name)return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-4 mb-2  category",children:e.name}),Object(a.jsx)("div",{className:"col col-md-4 mb-2 category",children:e.imgURL}),Object(a.jsxs)("div",{className:"col-md-2 mb-1",children:[Object(a.jsx)(ie.a,{to:"/admin/categories/categoriesedit/".concat(e.slug),className:"btn btn-primary  mr-1 ",children:Object(a.jsx)(yt.a,{})}),Object(a.jsx)(ie.a,{to:"/admin/categories/categoriesdelete/".concat(e.slug),className:"btn btn-danger mr-1 ",children:Object(a.jsx)(Nt.a,{})})]})]},e._id)}))})]})]})},Tt=function(e){e.history;var t=e.match,n=Object(l.d)((function(e){return Object(h.a)({},e)})).user,c=Object(s.useState)(!1),r=Object(oe.a)(c,2),o=r[0],i=r[1],d=Object(s.useState)(""),u=Object(oe.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)(""),O=Object(oe.a)(m,2),p=O[0],x=O[1],v=t.params.slug;Object(s.useEffect)((function(){g()}),[]);var g=function(){ue(v).then((function(e){b(e.data.name),x(e.data.imgURL)}))};return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-6",children:[Object(a.jsx)(_t,{addRoute:"/admin/categories/categoriescreate"}),Object(a.jsxs)("section",{className:"vendor-center",children:[o?Object(a.jsx)("h1",{children:"Loading...."}):Object(a.jsx)("h1",{className:"card-header font-weight-bold",children:" Edit Categories "}),Object(a.jsx)("div",{className:"card  mb-2",children:Object(a.jsx)("div",{className:" card-body mb-1 ",children:Object(a.jsx)(Et,{handleSubmit:function(e){e.preventDefault(),i(!0),be(v,{name:j,imgURL:p},n.token).then((function(e){i(!1),b(""),x(""),f.b.success("".concat(e.data.name," is updated successfully"))})).catch((function(e){console.log(e),i(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.response)}))},name:j,setName:b,imgURL:p,setImgURL:x})})})]})]})]})},Dt=function(e){return i.a.createPortal(Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-md-12",children:Object(a.jsx)("div",{onClick:e.onDismiss,className:"modal-fade",tabIndex:"-1",role:"dialog",children:Object(a.jsx)("div",{onClick:function(e){return e.stopPropagation()},className:"modal-dialog modal-dialog-centered",role:"document",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsx)("div",{className:"modal-header",children:Object(a.jsx)("h4",{className:"modal-title font-weight-bold text-align-center",children:e.title})}),Object(a.jsx)("div",{className:"modal-body",children:Object(a.jsx)("h5",{children:e.content})}),Object(a.jsx)("div",{className:"modal-footer",children:e.actions})]})})})})})}),document.querySelector("#modal"))},Lt=function(e){var t=Object(l.d)((function(e){return Object(h.a)({},e)})).user,n=Object(s.useState)(!1),c=Object(oe.a)(n,2),o=(c[0],c[1]),i=Object(s.useState)([]),d=Object(oe.a)(i,2),u=(d[0],d[1]),j=e.match.params.slug;Object(s.useEffect)((function(){b()}),[]);var b=function(){de().then((function(e){return u(e.data)}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(_t,{addRoute:"/admin/categories/categoriescreate"}),Object(a.jsx)(Dt,{title:"Delete a Category",content:j?"Are you sure you want to delete the category: ".concat(j):"Are you sure you want to delete this category?",actions:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){o(!0),me(j,t.token).then((function(e){o(!1),f.b.success("Category deleted successfully: ".concat(j)),b()})).catch((function(e){console.log(e),o(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.message)}))},type:"submit",className:" btn btn-danger primary-button mr-3",children:"Yes"}),Object(a.jsx)(ie.a,{to:"/admin/categories/categoriesList",type:"button",className:"btn btn-secondary primary-button",children:"No"})]}),onDismiss:function(){return C.push("/admin/categories/categorieslist")}})]})},qt=function(e){var t=e.handleSubmit,n=e.category,c=e.setCategory,r=e.name,o=e.setName,i=Object(s.useState)([]),l=Object(oe.a)(i,2),d=l[0],u=l[1];Object(s.useEffect)((function(){j()}),[]);var j=function(){de().then((function(e){return u(e.data)}))};return Object(a.jsxs)("form",{onSubmit:t,children:[Object(a.jsxs)("div",{className:"form-group row",children:[Object(a.jsxs)("div",{className:"col col-md-12",children:[Object(a.jsx)("label",{className:"admin-class",children:"Select a Category"}),Object(a.jsxs)("select",{className:"form-control",name:"category",onChange:function(e){return c(e.target.value)},children:[Object(a.jsx)("option",{children:"Select a category"}),d.length>0&&d.map((function(e){return Object(a.jsxs)("option",{value:e._id,selected:e._id===n,children:[e.name," "]},e._id)}))]})]}),Object(a.jsxs)("div",{className:"col col-md-12",children:[Object(a.jsx)("label",{className:" admin-class mt-2",children:"Name"}),Object(a.jsx)("input",{type:"text",name:"name",className:"form-control",placeholder:"Enter Sub Category",onChange:function(e){return o(e.target.value)},value:r})]})]}),Object(a.jsx)("div",{className:"d-flex justify-content-center mt-2  ",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold ",name:"category",children:"Save"})})]})},Pt=function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t=Object(s.useState)(""),n=Object(oe.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)(""),i=Object(oe.a)(o,2),d=i[0],u=i[1],j=Object(s.useState)(!1),b=Object(oe.a)(j,2),m=b[0],O=b[1];return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-9",children:[Object(a.jsx)(_t,{addRoute:"/admin/subcategories/subcategoriescreate"}),m?Object(a.jsx)("h2",{children:"Loading...."}):Object(a.jsx)("h2",{className:"category-head font-weight-bold card-header",children:" Add New Sub Category"}),Object(a.jsx)("div",{className:"card  mb-2",children:Object(a.jsx)("div",{className:" card-body mb-1 ",children:Object(a.jsx)(qt,{handleSubmit:function(t){t.preventDefault(),O(!0),fe({category:c,name:d},e.token).then((function(e){O(!1),r(""),u(""),f.b.success("Successfully added sub category: ".concat(e.data.name))})).catch((function(e){console.log(e),O(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.response)}))},category:c,setCategory:r,name:d,setName:u})})})]})]})},Ut=function(){var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=(t[0],t[1]),c=Object(s.useState)([]),r=Object(oe.a)(c,2),o=r[0],i=r[1],l=Object(s.useState)(""),d=Object(oe.a)(l,2),u=d[0],j=d[1];Object(s.useEffect)((function(){b(),m()}),[]);var b=function(){de().then((function(e){return n(e.data)}))},m=function(){pe().then((function(e){return i(e.data)}))};return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col-md-2",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col-md-9",children:[Object(a.jsx)(_t,{addRoute:"/admin/subcategories/subcategoriescreate"}),o?Object(a.jsx)("h2",{className:"card-header font-weight-bold mt-2",children:"Sub Categories"}):Object(a.jsx)("h2",{children:"Loading....."}),Object(a.jsx)(At,{keyword:u,setKeyword:j}),Object(a.jsxs)("div",{className:"container category-center",children:[Object(a.jsxs)("div",{className:"row mb-2",children:[Object(a.jsx)("div",{className:"col col-md-4",children:Object(a.jsx)("h5",{className:"font-weight-bold",children:" Category "})}),Object(a.jsx)("div",{className:"col col-md-4 ",children:Object(a.jsx)("h5",{className:"font-weight-bold",children:"  Sub Category "})})]}),Object(a.jsx)("form",{children:o.filter(function(e){return function(t){return t.name.toLowerCase().includes(e)}}(u)).map((function(e){if(e._id)return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-4 category",children:e.category.name}),Object(a.jsx)("div",{className:"col col-md-4 text-align-right category",children:e.name}),Object(a.jsxs)("div",{className:"col-md-4 mb-1",children:[Object(a.jsx)(ie.a,{to:"/admin/subcategories/subcategoriesedit/".concat(e.slug),className:"btn btn-primary  mr-1 ",children:Object(a.jsx)(yt.a,{})}),Object(a.jsx)(ie.a,{to:"/admin/subcategories/subcategoriesdelete/".concat(e.slug),className:"btn btn-danger mr-1",children:Object(a.jsx)(Nt.a,{})})]})]},e._id)}))})]})]})]})},Ft=function(e){var t=Object(l.d)((function(e){return Object(h.a)({},e)})).user,n=Object(s.useState)(!1),c=Object(oe.a)(n,2),o=(c[0],c[1]),i=Object(s.useState)([]),d=Object(oe.a)(i,2),u=d[0],j=d[1],b=e.match.params.slug;console.log("Slug",e.match.params),Object(s.useEffect)((function(){m()}),[]);var m=function(){pe().then((function(e){return j(e.data)}))},O=function(){o(!0),ge(b,t.token).then((function(e){o(!1),f.b.success("Sub catgeory deleted successfully: ".concat(b)),m()})).catch((function(e){o(!1),console.log(e),400===e.response?f.b.error(e.response.data):f.b.error(e.message)}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(_t,{addRoute:"/admin/subcategories/subcategoriescreate"}),Object(a.jsx)(Dt,{title:"Delete a SubCategory",content:u?"Are you sure you want to delete the subcategory: ".concat(b):"Are you sure you want to delete this subcategory?",actions:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("button",{onClick:O,type:"submit",className:" btn btn-danger primary-button mr-3",children:"Yes"}),Object(a.jsx)(ie.a,{to:"/admin/subcategories/subcategoriesList",type:"button",className:"btn btn-secondary primary-button",children:"No"})]}),onDismiss:function(){return C.push("/admin/subcategories/subcategorieslist")}})]})},Vt=function(e){var t=e.match,n=(e.history,Object(l.d)((function(e){return Object(h.a)({},e)})).user),c=Object(s.useState)(""),r=Object(oe.a)(c,2),o=r[0],i=r[1],d=Object(s.useState)(""),u=Object(oe.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)(!1),O=Object(oe.a)(m,2),p=O[0],x=O[1],v=t.params.slug;Object(s.useEffect)((function(){g()}),[]);var g=function(){xe(v).then((function(e){console.log("value from res",e.data),i(e.data.category),b(e.data.name)}))};return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-9",children:[Object(a.jsx)(_t,{addRoute:"/admin/subcategories/subcategoriescreate"}),p?Object(a.jsx)("h1",{children:"Loading......"}):Object(a.jsx)("h1",{className:"category-head font-weight-bold card-header",children:"Edit Sub Categories "}),console.log("category from subcat",o,j),Object(a.jsx)("div",{className:"card  mb-2",children:Object(a.jsx)("div",{className:" card-body mb-1 ",children:Object(a.jsx)(qt,{handleSubmit:function(e){e.preventDefault(),x(!0),console.log("VALUES from subcat",v,o,j),ve(v,{name:j,category:o},n.token).then((function(e){x(!1),b(""),f.b.success("Subcategory updated successfully:".concat(e.data.name))})).catch((function(e){console.log(e),x(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.response)}))},category:o,setCategory:i,name:j,setName:b})})})]})]})},Yt=n(871),Mt=n(879),Bt=n(129),Gt=n(892),Qt=n(488),Ht=function(e){var t=e.handleSubmit,n=e.question,c=e.setQuestion,s=e.options,r=e.setOptions,o=Yt.a.useForm();Object(oe.a)(o,1)[0];return Object(a.jsx)("div",{children:Object(a.jsx)("section",{className:"vendor-center",children:Object(a.jsx)("div",{className:"card mt-2",children:Object(a.jsx)("div",{className:"card-body admin-class",children:Object(a.jsxs)(Yt.a,{name:"question-form",autoComplete:"off",onFinish:t,onFinishFailed:function(e){console.log("Failed:",e)},layout:"vertical",children:[Object(a.jsx)(Yt.a.Item,{name:"question",size:"large",label:"Question",onChange:function(e){return c(e.target.value)},setFieldsValue:n,rules:[{required:!0,Message:"Please enter the question"}],children:Object(a.jsx)(Mt.a,{})}),Object(a.jsx)(Yt.a.List,{name:"options",children:function(e,t){var n=t.add,c=t.remove;return Object(a.jsxs)(a.Fragment,{children:[e.map((function(e,t){return Object(a.jsxs)(Yt.a.Item,{children:[Object(a.jsx)(Yt.a.Item,Object(h.a)(Object(h.a)({},e),{},{label:"Option",size:"large",name:[e.name,"option"],fieldKey:[e.fieldKey,"option"],onChange:function(e){return r(e.target.value)},setFieldsValue:s,rules:[{required:!0,message:"Please enter an option"}],children:Object(a.jsx)(Mt.a,{style:{width:"100%"}})})),Object(a.jsx)(Gt.a,{onClick:function(){return c(e.name)}})]},t)})),Object(a.jsx)(Yt.a.Item,{children:Object(a.jsx)(Bt.a,{type:"dashed",onClick:function(){return n()},block:!0,icon:Object(a.jsx)(Qt.a,{}),children:"Add options"})})]})}}),Object(a.jsx)(Yt.a.Item,{children:Object(a.jsx)(Bt.a,{type:"primary",htmlType:"submit",children:"Submit"})})]})})})})})},zt="http://localhost:5000",Kt=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("In questions action creator",t),e.next=3,k.a.post("".concat(zt,"/api/question"),t,{headers:{authtoken:n}});case 3:e.sent,C.push("/admin/questions/questionslist");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Jt=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(zt,"/api/questions"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Xt=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(zt,"/api/question/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Wt=function(){var e=Object(m.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.delete("".concat(zt,"/api/question/").concat(t),{headers:{authtoken:n}});case 2:c=e.sent,console.log("Response from delete question:",c.data),C.push("/admin/questions/questionslist");case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Zt=function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t=Object(s.useState)(""),n=Object(oe.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)([]),i=Object(oe.a)(o,2),d=i[0],u=i[1],j=Object(s.useState)(!1),b=Object(oe.a)(j,2),m=b[0],O=b[1];return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-10",children:[Object(a.jsx)(_t,{addRoute:function(){return"/admin/questions/questionscreate"}}),m?Object(a.jsx)("h2",{children:"Loading..."}):Object(a.jsx)("h2",{className:"category-head font-weight-bold card-header",children:"Add Questions "}),Object(a.jsx)(Ht,{handleSubmit:function(t){t.preventDefault(),O(!0),Kt({question:c,options:d},e.token).then((function(e){O(!1),r(""),u(""),f.b.success("Question is created successfully!!!!")})).catch((function(e){console.log(e),f.b.error("Category creation failed !!!!!")}))},question:c,setQuestion:r,options:d,setOptions:u})]})]})},$t=n(47),en=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(h.a)(Object(h.a)({},e),mt.a.mapKeys(t.payload,"_id"));case W:return Object(h.a)(Object(h.a)({},e),{},{categoryName:t.payload});case P:case L:return Object(h.a)(Object(h.a)({},e),{},Object($t.a)({},t.payload.id,t.payload));case U:var n=t.data;return e.filter((function(e){return e.id!==n}));default:return e}},tn=function(){var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(oe.a)(r,2),i=o[0],l=o[1];Object(s.useEffect)((function(){d()}),[]);var d=function(){l(!0),Jt().then((function(e){return c(e.data)})),l(!1)};return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-9",children:[Object(a.jsx)(_t,{addRoute:"/admin/questions/questionscreate"}),i?Object(a.jsx)("h2",{children:"Loading...."}):Object(a.jsx)("h2",{className:"font-weight-bold",children:"List Questions "}),Object(a.jsxs)("div",{className:"container mt-2",children:[Object(a.jsxs)("div",{className:"row p-3 bg-light ",children:[Object(a.jsx)("div",{className:"col col-md-6 ",children:Object(a.jsx)("h5",{className:"font-weight-bold text-left",children:" Question"})}),Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)("h5",{className:"font-weight-bold text-left",children:" Options"})})]}),Object(a.jsx)("div",{className:"card",children:Object(a.jsx)("form",{children:n&&n.map((function(e){return Object(a.jsxs)("div",{className:"row mt-1",children:[Object(a.jsx)("div",{className:"col col-md-6 question",children:Object(a.jsxs)("p",{children:[" ",e.question]})}),Object(a.jsx)("div",{className:"col col-md-3 question",children:e.options&&e.options.map((function(e){return Object(a.jsx)("p",{children:e},e.option)}))}),Object(a.jsxs)("div",{className:" col col-md-3 float-right ",children:[Object(a.jsx)(ie.a,{to:"/admin/questions/questionsedit/".concat(e._id),className:"btn btn-primary  mr-1",children:Object(a.jsx)(yt.a,{})}),Object(a.jsx)(ie.a,{to:"/admin/questions/questionsdelete/".concat(e._id),className:"btn btn-danger mr-1",children:Object(a.jsx)(Nt.a,{})})]})]},e._id)}))})})]})]})]})})},nn=function(e){var t=e.match,n=Object(l.d)((function(e){return Object(h.a)({},e)})).user,c=Object(s.useState)(""),r=Object(oe.a)(c,2),o=r[0],i=r[1],d=Object(s.useState)([]),u=Object(oe.a)(d,2),j=u[0],O=u[1],p=Object(s.useState)(!1),x=Object(oe.a)(p,2),v=x[0],g=x[1];Object(s.useEffect)((function(){y()}),[]);var y=function(){g(!0),Xt(t.params.id).then((function(e){i(e.data.question),O(e.data.options),g(!1)})).catch((function(e){console.log(e),g(!1),f.b.error("Could not find the question record:".concat(e.message))}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(_t,{addRoute:"/admin/questions/questionscreate"}),v?Object(a.jsx)("h2",{children:"Loading...."}):Object(a.jsx)("h2",{className:"category-head font-weight-bold card-header",children:"Edit Question"}),Object(a.jsx)(Ht,{handleSubmit:function(e){var c,a;e.preventDefault(),g(!0),(c=t.params.id,a={question:o.question,options:o.options},n.token,function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.put("".concat(zt,"/api/questions/").concat(c),a);case 2:e.sent,C.push("/admin/questions/questionslist");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){g(!1),i(""),O(""),f.b.success("".concat(e.data.question," has been updated successfully!!!!"))})).catch((function(e){console.log(e),g(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.response)}))},question:o,setQuestion:i,options:j,setOptions:O})]})},cn=function(e){var t=e.match,n=Object(l.d)((function(e){return Object(h.a)({},e)})).user,c=Object(s.useState)([]),o=Object(oe.a)(c,2),i=(o[0],o[1]),d=Object(s.useState)(""),u=Object(oe.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)(!1),O=Object(oe.a)(m,2),p=O[0],x=O[1];Object(s.useEffect)((function(){v(),g()}),[]);var v=function(){Jt().then((function(e){return i(e.data)}))},g=function(){Xt(t.params.id).then((function(e){return b(e.data)})).catch((function(e){console.log(e),x(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.message)}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(_t,{addRoute:"/admin/questions/questionscreate"}),p?Object(a.jsx)("h2",{children:'"Loading....." '}):Object(a.jsx)(Dt,{title:"Delete a Question",content:j?"Are you sure you want to delete the question: ".concat(j.question):"Are you sure you want to delete this question?",actions:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("button",{onClick:void Wt(t.params.id,n.token).then((function(e){x(!1),f.b.success("Question deleted successfully for ".concat(t.params.id)),v()})).catch((function(e){console.log(e),x(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.message)})),type:"submit",className:" btn btn-danger primary-button mr-3",children:"Yes"}),Object(a.jsx)(ie.a,{to:"/admin/questions/questionsList",type:"button",className:"btn btn-secondary primary-button",children:"No"})]}),onDismiss:function(){return C.push("/admin/categories/categorieslist")}})]})},an=(Pe.a.Option,function(){Object(l.d)((function(e){return Object(h.a)({},e)})).user;var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)([]),o=Object(oe.a)(r,2),i=o[0],d=o[1],u=Object(s.useState)([]),j=Object(oe.a)(u,2),b=j[0],m=j[1],O=Object(s.useState)(!1),f=Object(oe.a)(O,2),p=(f[0],f[1]),x=Object(s.useState)(""),v=Object(oe.a)(x,2),g=(v[0],v[1]),y=Object(s.useState)(""),N=Object(oe.a)(y,2),w=(N[0],N[1]),S=Object(s.useState)(""),k=Object(oe.a)(S,2),_=(k[0],k[1],Object(s.useState)([])),C=Object(oe.a)(_,2),E=C[0];C[1];Object(s.useEffect)((function(){I(),A()}),[]);var I=function(){p(!0),de().then((function(e){return c(e.data)})),p(!1)},A=function(){p(!0),Jt().then((function(e){return m(e.data)})),p(!1)};return Object(a.jsx)("div",{children:Object(a.jsx)("section",{className:"question-center mb-2",children:Object(a.jsx)("div",{className:"card",children:Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("form",{onSubmit:function(e){console.log(e)},children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("div",{className:" col col-md-12",children:[Object(a.jsx)("label",{className:"font-weight-bold h6 mt-2",children:"Select a Category "}),Object(a.jsxs)("select",{name:"category",className:"form-control",onChange:function(e){e.preventDefault(),g(e.target.value),he(e.target.value).then((function(e){return d(e.data)})).catch((function(e){console.log(e)}))},children:[Object(a.jsx)("option",{value:"",children:"Select a Category"}),n&&n.map((function(e){return Object(a.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]}),Object(a.jsxs)("div",{className:"col col-md-12",children:[Object(a.jsx)("label",{className:"admin-class mt-1 mb-1",children:"Select a Sub category"}),Object(a.jsxs)("select",{name:"subcategory",className:"form-control",onChange:function(e){return w(e)},children:[Object(a.jsx)("option",{value:"",children:"Select a Sub Category"}),i&&i.map((function(e){return Object(a.jsx)("option",{value:e._id,children:e.name},e._id)}))]})]})]}),Object(a.jsx)("div",{children:E.map((function(e,t){return Object(a.jsx)("div",{className:"row form-group",children:Object(a.jsx)("div",{className:"col col-md-12 mt-0",children:Object(a.jsxs)("select",{name:e,className:"form-control",value:"question".concat(t+1),label:"question #".concat(t+1),children:[Object(a.jsx)("option",{value:"",children:"Select a Question"}),b&&b.map((function(e){return Object(a.jsx)("option",{value:e._id,children:e.question},e._id)}))]})})},t)}))}),Object(a.jsx)("div",{className:"d-flex justify-content-center mt-2",children:Object(a.jsx)("button",{type:"Submit",className:"btn btn-primary font-weight-bold",children:" Submit"})})]})})})})})}),sn="http://localhost:5000",rn=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(sn,"/api/subcatquestions"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),on=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(sn,"/api/subcatquestions/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ln=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.patch("".concat(sn,"/api/subcatquestions/").concat(t),n);case 2:e.sent,C.push("/admin/subcatquestions/subcatquestionslist");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),dn=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.delete("".concat(sn,"/api/subcatquestions/").concat(t));case 2:e.sent,C.push("/admin/subcatquestions/subcatquestionslist");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),un=void 0,jn=function(){var e=Object(s.useState)(""),t=Object(oe.a)(e,2),n=(t[0],t[1],Object(s.useState)(!1)),c=Object(oe.a)(n,2);c[0],c[1];return Object(a.jsxs)("div",{children:[Object(a.jsx)(_t,{addRoute:"/admin/subcatquestions/subcatquestionscreate"}),Object(a.jsx)("h2",{className:"category-head font-weight-bold card-header",children:" Add New Subcategory Questions"}),Object(a.jsx)(an,{onSubmit:function(e){console.log("From ONSUBMIT in subcat questions create",un.props),un.props.addSubcatQuestion(e)}})]})},bn=function(e){Object(_e.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(Se.a)(this,n),t.apply(this,arguments)}return Object(ke.a)(n,[{key:"componentDidMount",value:function(){this.props.fetchSubcatQuestion(this.props.match.params.id)}},{key:"addRoute",value:function(){return"/admin/subcatquestions/subcatquestionscreate"}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(_t,{addRoute:this.addRoute}),Object(a.jsx)("h1",{children:" Edit Subcategory Questions"})]})}}]),n}(s.Component),mn=Object(l.b)((function(e,t){return console.log("state from subcat question edit PPP"),{subquestion:e.subquestions[t.match.params.id]}}),{fetchSubcatQuestion:on,editSubcatQuestion:ln})(bn),hn=function(e){Object(_e.a)(n,e);var t=Object(Ce.a)(n);function n(){return Object(Se.a)(this,n),t.apply(this,arguments)}return Object(ke.a)(n,[{key:"componentDidMount",value:function(){console.log("Props from CDM NNN:",this.props),on(this.props.match.params.id)}},{key:"addRoute",value:function(){return"/admin/subcatquestions/subcatquestionscreate"}},{key:"renderActions",value:function(){var e=this;return Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){return e.props.deleteSubcatQuestion(e.props.match.params.id)},type:"submit",className:" btn btn-danger primary-button mr-3",children:"Yes"}),Object(a.jsx)(ie.a,{to:"/admin/subcatquestions/subcatquestionslist",type:"button",className:"btn btn-secondary primary-button",children:"No"})]})}},{key:"renderContent",value:function(){return this.props.subquestions?"Are you sure you want to delete the subcategory questions for: ".concat(this.props.subquestions.subcategory.name):"Are you sure you want to delete this subcategory questions?"}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{children:Object(a.jsx)(_t,{addRoute:this.addRoute})}),Object(a.jsx)(Dt,{title:"Delete a SubCategory Question",content:this.renderContent(),actions:this.renderActions(),onDismiss:function(){return C.push("/admin/subcategories/subcategorieslist")}})]})}}]),n}(s.Component),On=Object(l.b)((function(e,t){return console.log("State from mapState subcat questions NNN",e),console.log("Own props from mapState NNN",t),{subquestions:e.subquestion[t.match.params.id]}}),{fetchSubcatQuestion:on,deleteSubcatQuestion:dn})(hn),fn=function(){var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(oe.a)(r,2),i=o[0],l=o[1];Object(s.useEffect)((function(){d()}),[]);var d=function(){l(!0),rn().then((function(e){return c(e.data)})),l(!1)};return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-10 category",children:[Object(a.jsx)(_t,{addRoute:function(){return"/admin/subcatquestions/subcatquestionscreate"}}),i?Object(a.jsx)("h2",{children:"Loading...."}):Object(a.jsx)("h2",{className:"category-head font-weight-bold ",children:" Subcategory Questions "}),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsxs)("div",{className:"row p-3 bg-light ",children:[Object(a.jsx)("div",{className:"col col-md-2 ",children:Object(a.jsx)("h5",{className:"font-weight-bold text-left",children:" Category"})}),Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)("h5",{className:"font-weight-bold text-left mr-2",children:" Sub Category"})}),Object(a.jsx)("div",{className:"col col-md-4",children:Object(a.jsx)("h5",{className:"font-weight-bold text-align-left mr-2",children:" Questions/ Options"})})]}),Object(a.jsx)("form",{children:n&&n.map((function(e){if(e._id)return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2 category text-left",children:Object(a.jsxs)("p",{children:[" ",e.category.name]})}),Object(a.jsx)("div",{className:"col col-md-4 category text-left",children:e.questions.map((function(e){return Object(a.jsxs)("div",{className:" category text-align-center",children:[Object(a.jsxs)("p",{className:"font-weight-bold",children:["  ",e.question]}),e.options.map((function(e){return Object(a.jsx)("div",{className:"options",children:Object(a.jsxs)("p",{children:["   ",e]})},e)}))]},e._id)}))}),Object(a.jsxs)("div",{className:"col-md-4 mb-1",children:[Object(a.jsx)(ie.a,{to:"/admin/subcatquestions/subcatquestionsedit/".concat(e._id),className:"btn btn-primary  mr-1 ",children:Object(a.jsx)(yt.a,{})}),Object(a.jsx)(ie.a,{to:"/admin/subcatquestions/subcatquestionsdelete/".concat(e._id),className:"btn btn-danger mr-1 ",children:Object(a.jsx)(Nt.a,{})})]})]},e.category._id)}))})]})]})]})},pn="http://localhost:5000",xn=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(pn,"/api/timeslot"),t,{headers:{authtoken:n}});case 2:e.sent,C.push("/admin/timeslot/listslots");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),vn=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(pn,"/api/timeslots"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),gn=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(pn,"/api/timeslot/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),yn=function(){var e=Object(m.a)(b.a.mark((function e(t,n,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.put("".concat(pn,"/api/timeslot/").concat(t),n,{headers:{authtoken:c}});case 2:e.sent,C.push("/admin/timeslot/listslots");case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),Nn=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.delete("".concat(pn,"/api/timeslot/").concat(t),{headers:{authtoken:n}});case 2:e.sent,C.push("/admin/timeslot/listslots");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),wn=function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t=Object(s.useState)(""),n=Object(oe.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)(""),i=Object(oe.a)(o,2),d=i[0],u=i[1],j=Object(s.useState)(!1),b=Object(oe.a)(j,2),m=(b[0],b[1]);return Object(a.jsxs)("div",{className:"row mt-5",children:[Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-8 mt-2",children:[Object(a.jsx)("h1",{className:"font-weight-bold d-flex justify-content-center mb-4",children:"Add New Timeslots"}),Object(a.jsxs)("form",{onSubmit:function(t){t.preventDefault(),m(!0),xn({startslot:c,endslot:d},e.token).then((function(e){m(!1),r(""),u(""),f.b.success("Successfully created timeslot")})).catch((function(e){console.log(e),m(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.response)}))},children:[Object(a.jsxs)("div",{className:"row d-flex justify-content-center mb-4",children:[Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)("input",{type:"text",name:"startslot",className:"form-control",placeholder:"Start Slot",onChange:function(e){return r(e.target.value)},value:c,autoFocus:!0})}),Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)("input",{type:"text",name:"endslot",className:"form-control",placeholder:"End Slot",onChange:function(e){return u(e.target.value)},value:d})})]}),Object(a.jsx)("div",{className:" d-flex justify-content-center mt-3  ",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold ",name:"timeslot",children:"Save"})})]})]})]})},Sn=function(){var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(oe.a)(r,2),i=(o[0],o[1]);Object(s.useEffect)((function(){l()}),[]);var l=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i(!0),vn().then((function(e){return c(e.data)})),i(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-9",children:[Object(a.jsx)(_t,{addRoute:"/admin/timeslot/timeslotcreate"}),n?Object(a.jsx)("h2",{className:"card-header font-weight-bold mt-2",children:"Timeslots"}):Object(a.jsx)("h2",{children:"Loading....."}),Object(a.jsxs)("div",{className:"container-fluid category-center",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-4",children:Object(a.jsx)("h5",{className:"font-weight-bold d-flex justify-content-center",children:"Start Slot"})}),Object(a.jsx)("div",{className:"col col-md-4",children:Object(a.jsx)("h5",{className:"font-weight-bold d-flex justify-content-center",children:"End Slot"})})]}),Object(a.jsx)("form",{children:n&&n.map((function(e){return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-4 category mb-2",children:e.startSlot}),Object(a.jsx)("div",{className:"col col-md-4 category mb-2",children:e.endSlot}),Object(a.jsxs)("div",{className:"col-md-2 mb-1",children:[Object(a.jsx)(ie.a,{to:"/admin/timeslot/editslot/".concat(e._id),className:"btn btn-primary  mr-1 ",children:Object(a.jsx)(yt.a,{})}),Object(a.jsx)(ie.a,{to:"/admin/timeslot/deleteslot/".concat(e._id),className:"btn btn-danger mr-1 ",children:Object(a.jsx)(Nt.a,{})})]})]},e._id)}))})]})]})]})},kn=function(e){var t=e.match,n=Object(l.d)((function(e){return Object(h.a)({},e)})).user,c=Object(s.useState)(""),r=Object(oe.a)(c,2),o=r[0],i=r[1],d=Object(s.useState)(""),u=Object(oe.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)(!1),O=Object(oe.a)(m,2),p=(O[0],O[1]),x=t.params.id;Object(s.useEffect)((function(){v()}),[]);var v=function(){gn(x).then((function(e){i(e.data.startSlot),b(e.data.endSlot)}))};return Object(a.jsxs)("div",{className:"row mt-5",children:[Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-8 mt-2",children:[Object(a.jsx)("h1",{className:"font-weight-bold d-flex justify-content-center mb-4",children:"Edit Timeslots"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),p(!0),yn(x,{startSlot:o,endSlot:j},n.token).then((function(e){p(!1),f.b.success("timeslot is updated successfully"),i(""),b("")})).catch((function(e){console.log(e),p(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.response)}))},children:[Object(a.jsxs)("div",{className:"row d-flex justify-content-center mb-4",children:[Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)("input",{type:"text",name:"startslot",className:"form-control",placeholder:"Start Slot",onChange:function(e){return i(e.target.value)},value:o,autoFocus:!0})}),Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)("input",{type:"text",name:"endslot",className:"form-control",placeholder:"End Slot",onChange:function(e){return b(e.target.value)},value:j})})]}),Object(a.jsx)("div",{className:" d-flex justify-content-center mt-3  ",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold ",name:"timeslot",children:"Edit"})})]})]})]})},_n=function(e){var t=Object(l.d)((function(e){return Object(h.a)({},e)})).user,n=Object(s.useState)(!1),c=Object(oe.a)(n,2),o=(c[0],c[1]),i=Object(s.useState)([]),d=Object(oe.a)(i,2),u=(d[0],d[1]),j=e.match.params.id;console.log("PROPS",e.match.params),Object(s.useEffect)((function(){b()}),[]);var b=function(){vn().then((function(e){return u(e.data)}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(_t,{addRoute:"/admin/timeslot/timeslotcreate"}),Object(a.jsx)(Dt,{title:"Delete a Timeslot",content:j?"Are you sure you want to delete the timeslot":"Are you sure you want to delete this timeslot?",actions:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){o(!0),Nn(j,t.token).then((function(e){o(!1),f.b.success("Timeslot deleted successfully"),b()})).catch((function(e){console.log(e),o(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.message)}))},type:"submit",className:" btn btn-danger primary-button mr-3",children:"Yes"}),Object(a.jsx)(ie.a,{to:"/admin/timeslot/listslots",type:"button",className:"btn btn-secondary primary-button",children:"No"})]}),onDismiss:function(){return C.push("/admin/timeslot/listslots")}})]})},Cn="http://localhost:5000",En=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Cn,"/api/areas"),{headers:{authtoken:t}});case 2:e.sent;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),In=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Cn,"/api/areas/list"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),An=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Cn,"/api/areas/listcities"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Rn=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),e.next=3,k.a.get("".concat(Cn,"/api/areas/listcounties/").concat(t));case 3:return n=e.sent,console.log("IN fetch county",n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tn=function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t=Object(s.useState)([]),n=Object(oe.a)(t,2),c=(n[0],n[1]),r=Object(s.useState)(!1),o=Object(oe.a)(r,2),i=o[0],d=o[1];return Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col col-md-12 d-flex justify-content-center mb-5",children:Object(a.jsxs)("button",{type:"submit",className:"btn btn-primary  mt-5",onClick:function(t){t.preventDefault(),En(e.token).then((function(e){d(!0),c(e.data),d(!1)}))},children:[" ",i?Object(a.jsx)("h5",{children:"Loading Areas...."}):Object(a.jsx)("h5",{className:"font-weight-bold",children:"UPLOAD AREAS"})]})})})},Dn=function(){var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(oe.a)(r,2),i=o[0],l=o[1];Object(s.useEffect)((function(){l(!0),In().then((function(e){c(e.data),l(!1)}))}),[]);return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-9",children:[Object(a.jsx)(Tn,{}),i?Object(a.jsx)("h1",{children:"Loading areas..."}):Object(a.jsx)("h1",{children:" List of Areas"}),Object(a.jsxs)("div",{className:"container-fluid category-center",children:[Object(a.jsxs)("div",{className:" row",children:[Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)("h6",{className:"font-weight-bold mb-2",children:"City"})}),Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)("h6",{className:"font-weight-bold mb-2",children:" County"})}),Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)("h6",{className:"font-weight-bold mb-2",children:" Country"})})]}),Object(a.jsx)("form",{children:n&&n.map((function(e){return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-3 mb-2 d-flex justify-content-center",children:e.city}),Object(a.jsx)("div",{className:"col col-md-3 mb-2 d-flex justify-content-center",children:e.county}),Object(a.jsx)("div",{className:"col col-md-3 mb-2 d-flex justify-content-center",children:e.country})]},e._id)}))})]})]})]})},Ln=n(877),qn=n(884),Pn=n(893),Un=n(894),Fn=n(895),Vn=n(896),Yn=n(897),Mn=n(898),Bn=n(899),Gn=(n(608),n.p+"static/media/cmh_new.feca33ef.png"),Qn=n(483),Hn=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return Object(h.a)({},e)})).search;console.log("Search",{search:t});var n=t.text,c=Object(O.g)(),s=function(e){e.preventDefault(),c.push("/shop?".concat(n))};return Object(a.jsxs)("form",{className:"form-inline my-2 my-lg-0",onSubmit:s,children:[Object(a.jsx)("input",{type:"search",placeholder:"Search",value:n,className:"form-control mr-sm-2",onChange:function(t){e({type:"SEARCH_QUERY",payload:{text:t.target.value}})}}),Object(a.jsx)(De.a,{onClick:s,className:"float-center",style:{cursor:"pointer"}})]})},zn=Ln.a.SubMenu,Kn=function(){var e=Object(s.useState)("home"),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(l.c)(),o=Object(O.g)(),i=Object(l.d)((function(e){return Object(h.a)({},e)})),d=i.user,u=i.cart,j=function(e){c(e.key)};return Object(a.jsx)("div",{children:Object(a.jsx)("header",{children:Object(a.jsx)("section",{className:"header-section",id:"title",children:Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark",children:[Object(a.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(a.jsx)("span",{className:"navbar-toggler-icon"},"span1")}),Object(a.jsx)("div",{className:"collapse navbar-collapse ",id:"navbarSupportedContent",children:Object(a.jsxs)("ul",{className:"nav navbar-nav navbar-center",children:[Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("a",{className:"nav-link font-weight-bold",href:"/contact",children:"Contact"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("a",{className:"nav-link font-weight-bold",href:"/newletter",children:"Newsletter"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)("a",{className:"nav-link font-weight-bold",href:"/download",children:"Download"})})]})}),Object(a.jsxs)(Ln.a,{onClick:j,selectedKeys:[n],mode:"horizontal",className:"font-weight-bold menu d-flex p-1 mr-5",children:[Object(a.jsx)(Ln.a.Item,{icon:Object(a.jsx)(Pn.a,{}),children:Object(a.jsx)(ie.a,{to:"/",children:"Home "})},"home"),Object(a.jsx)(Ln.a.Item,{icon:Object(a.jsx)(Un.a,{}),children:Object(a.jsx)(ie.a,{to:"/shop",children:"Shop"})},"shop"),Object(a.jsx)(Ln.a.Item,{icon:Object(a.jsx)(lt.a,{}),children:Object(a.jsx)(ie.a,{to:"/cart",children:Object(a.jsx)(qn.a,{count:u.length,offset:[9,0],children:"Cart"})})},"cart")]}),Object(a.jsxs)(Ln.a,{onClick:j,selectedKeys:[n],mode:"horizontal",className:"font-weight-bold menu fontname ",children:[!d&&Object(a.jsx)(Ln.a.Item,{icon:Object(a.jsx)(Fn.a,{}),children:Object(a.jsx)(ie.a,{to:"/login",children:"Login"})},"login"),!d&&Object(a.jsx)(Ln.a.Item,{icon:Object(a.jsx)(Vn.a,{}),children:Object(a.jsx)(ie.a,{to:"/vendorregister",children:"Vendor Registration"})},"vendorregistration"),!d&&Object(a.jsx)(Ln.a.Item,{icon:Object(a.jsx)(Yn.a,{}),children:Object(a.jsx)(ie.a,{to:"/register",children:"Register"})},"register"),d&&Object(a.jsxs)(zn,{icon:Object(a.jsx)(Mn.a,{}),className:"float-right",title:d.email&&d.email.split("@")[0],children:[d&&"subscriber"===d.role&&Object(a.jsx)(Ln.a.Item,{children:Object(a.jsx)(ie.a,{to:"/user/history",children:"Dashboard"})},"userdashboard"),d&&"vendor"===d.role&&Object(a.jsx)(Ln.a.Item,{children:Object(a.jsx)(ie.a,{to:"/vendor/dashboard",children:"Dashboard"})},"vendordashboard"),d&&"admin"===d.role&&Object(a.jsx)(Ln.a.Item,{children:Object(a.jsx)(ie.a,{to:"/admin/dashboard",children:"Dashboard"})},"admindashbboard"),Object(a.jsx)(Ln.a.Item,{icon:Object(a.jsx)(Bn.a,{}),onClick:function(){Qn.a.auth().signOut(),r({type:T,payload:null}),window.localStorage.removeItem("user"),o.push("/login")},children:"Logout"},"logout")]},"SubMenu"),Object(a.jsx)("span",{className:"float-left p-1",children:Object(a.jsx)(Hn,{})},"searchbarSpan")]})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"pull-left col-sm-12",children:Object(a.jsx)("img",{src:Gn,alt:"Compare my Helper",className:"float-left header-img"})})})]})})})})};var Jn=n(58),Xn=n(487),Wn=n(873),Zn=n(887),$n=n(202),ec=n(94),tc=n(900),nc=n(901),cc=function(e){var t=e.starClicked,n=e.numberOfStars,c=e.selected;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ut.a,{changeRating:function(){return t(n)},numberOfStars:n,starDimension:"20px",starSpacing:"2px",rating:n,starHoverColor:"#1d2d50",starRatedColor:c?"#1d2d50":"#929699"}),Object(a.jsx)("br",{})]})},ac=n(463),sc=n.n(ac),rc=Ln.a.SubMenu,oc=(Ln.a.ItemGroup,function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return Object(h.a)({},e)})).search,n=Object(s.useRef)(!1),c=Object(s.useState)([]),r=Object(oe.a)(c,2),o=r[0],i=r[1],d=Object(s.useState)(!1),u=Object(oe.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)(void 0),O=Object(oe.a)(m,2),f=O[0],p=O[1],x=Object(s.useState)(!1),v=Object(oe.a)(x,2),g=v[0],y=v[1],N=Object(s.useState)([]),w=Object(oe.a)(N,2),S=w[0],k=w[1],_=Object(s.useState)([]),C=Object(oe.a)(_,2),E=C[0],I=C[1],A=Object(s.useState)([]),R=Object(oe.a)(A,2),T=R[0],D=R[1],L=Object(s.useState)([]),q=Object(oe.a)(L,2),P=q[0],U=q[1],F=Object(s.useState)(""),V=Object(oe.a)(F,2),Y=V[0],M=V[1],B=Object(s.useState)([]),G=Object(oe.a)(B,2),Q=G[0],H=G[1],z=Object(s.useState)(null),K=Object(oe.a)(z,2),J=(K[0],K[1]),X=t.text;Object(s.useEffect)((function(){W(),Z(),$()}),[]);var W=function(){b(!0),We(12).then((function(e){return i(e.data)})),b(!1)},Z=function(){return de().then((function(e){return k(e.data)}))},$=function(){return pe().then((function(e){return U(e.data)}))};Object(s.useEffect)((function(){if(n.current){var e=setTimeout((function(){ee({query:X}),X||W()}),300);return function(){return clearTimeout(e)}}n.current=!0}),[X]);var ee=function(e){rt(e).then((function(e){i(e.data)})).catch((function(e){console.log("filter catch : "+e)}))};Object(s.useEffect)((function(){n.current?(ce(),window.scrollTo({top:0,left:0,behavior:"smooth"})):n.current=!0}),[g]);var te=function(t){e({type:"SEARCH_QUERY",payload:{text:""}});var n=Object(Jn.a)(E),c=t.target.value,a=n.indexOf(c);-1===a?n.push(c):n.splice(a,1),I(n),setTimeout((function(){y(!g)}),300)},ne=function(t){e({type:"SEARCH_QUERY",payload:{text:""}});var n=Object(Jn.a)(T),c=n.indexOf(t);-1===c?n.push(t):n.splice(c,1),D(n),setTimeout((function(){y(!g)}),300)},ce=function(){console.log(f),ee({query:X,price:f,category:E,stars:T,sub:Y})};return Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"row mt-2",children:[Object(a.jsxs)("div",{className:"col col-md-3 mt-2",children:[Object(a.jsx)("h4",{children:"Search/Filter"}),Object(a.jsx)("hr",{}),Object(a.jsxs)(Ln.a,{defaultOpenKeys:["1","2","3","4","5"],mode:"inline",children:[Object(a.jsx)(rc,{title:Object(a.jsx)("span",{className:"h6",children:"Area"}),children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-10",children:Object(a.jsx)(sc.a,{apiKey:"AIzaSyAG4N6GONCjaMkk-QnJw1eHeConkKFrzGY",onPlaceSelected:function(e){var t;J(t=e),H((function(e){return[].concat(Object(Jn.a)(e),[t])}))},className:"ml-3 w-100"})}),Object(a.jsx)("div",{className:"col col-md-10",children:Object(a.jsx)("div",{className:"pl-4 pr-4",children:Object(Jn.a)(Q).map((function(e){return Object(a.jsx)(Xn.a,{color:"blue",className:"p-1 m-1",style:{cursor:"pointer"},children:e.formatted_address},e.place_id)}))})})]})},"1"),Object(a.jsx)(rc,{title:Object(a.jsx)("span",{className:"h6",children:"Price"}),children:Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-9",children:Object(a.jsx)(Wn.a,{className:"ml-4 mt-2",tipFormatter:function(e){return"\xa3".concat(e)},range:!0,value:void 0==f?[0,0]:f,onChange:function(t){e({type:"SEARCH_QUERY",payload:{text:""}}),p(t),setTimeout((function(){y(!g)}),300)},max:"500"})}),Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(ot.a,{title:"Clear Price",children:Object(a.jsx)(Bt.a,{size:"small",shape:"circle",type:"dashed",onClick:function(){e({type:"SEARCH_QUERY",payload:{text:""}}),p(void 0),setTimeout((function(){y(!g)}),300)},icon:Object(a.jsx)(ec.a,{className:"d-block",style:{fontSize:"medium"}})})})}),Object(a.jsx)("div",{className:"col-md-12 mt-1 mb-1",children:Object(a.jsxs)("b",{className:"text-primary ml-4",children:[" ",f?"\xa3".concat(f[0]," - \xa3").concat(f[1]):""," "]})})]})},"2"),Object(a.jsx)(rc,{title:Object(a.jsxs)("span",{className:"h6",children:[Object(a.jsx)(tc.a,{})," Categories"]}),children:Object(a.jsx)("div",{style:{marginTop:"-10px"},children:S&&S.map((function(e){return Object(a.jsx)("div",{className:"pt-2 fixedHeight overflowScroll",children:Object(a.jsx)(Zn.a,{className:"pb-2 pl-4 pr-4",onChange:te,value:e._id,name:"category",checked:E.includes(e._id),children:e.name})},e._id)}))})},"3"),Object(a.jsx)(rc,{title:Object(a.jsxs)("span",{className:"h6 mt-2",children:[Object(a.jsx)(nc.a,{style:{marginTop:"-2px"}})," Rating",Object(a.jsx)(ot.a,{title:"Clear Ratings",children:Object(a.jsx)(Bt.a,{size:"small",shape:"circle",type:"dashed",onClick:function(){e({type:"SEARCH_QUERY",payload:{text:""}}),D([]),setTimeout((function(){y(!g)}),300)},style:{float:"right",top:"10px",paddingLeft:"3px"},icon:Object(a.jsx)(ec.a,{className:"d-block",style:{fontSize:"medium"}})})})]}),children:Object(a.jsx)("div",{style:{marginTop:"-10px"},children:Object(a.jsxs)("div",{className:"pr-4 pl-4 pb-2",children:[Object(a.jsx)(cc,{starClicked:ne,numberOfStars:5,selected:Object(Jn.a)(T).indexOf(5)>-1}),Object(a.jsx)(cc,{starClicked:ne,numberOfStars:4,selected:Object(Jn.a)(T).indexOf(4)>-1}),Object(a.jsx)(cc,{starClicked:ne,numberOfStars:3,selected:Object(Jn.a)(T).indexOf(3)>-1}),Object(a.jsx)(cc,{starClicked:ne,numberOfStars:2,selected:Object(Jn.a)(T).indexOf(2)>-1}),Object(a.jsx)(cc,{starClicked:ne,numberOfStars:1,selected:Object(Jn.a)(T).indexOf(1)>-1})]})})},"4"),Object(a.jsx)(rc,{title:Object(a.jsxs)("span",{className:"h6 mt-2",children:[Object(a.jsx)(tc.a,{})," Sub Category",Object(a.jsx)(ot.a,{title:"Clear Sub Category",children:Object(a.jsx)(Bt.a,{size:"small",shape:"circle",type:"dashed",onClick:function(t){e({type:"SEARCH_QUERY",payload:{text:""}}),M(""),setTimeout((function(){y(!g)}),300),t.preventDefault()},style:{float:"right",top:"10px",paddingLeft:"3px"},icon:Object(a.jsx)(ec.a,{className:"d-block",style:{fontSize:"medium"}})})})]}),children:Object(a.jsx)("div",{className:"pl-4 pr-4",children:P&&P.map((function(t){return Object(a.jsx)(Xn.a,{color:"".concat(t._id==Y._id?"#1d2d50":""),onClick:function(){return function(t){console.log(t),e({type:"SEARCH_QUERY",payload:{text:""}}),M(t),setTimeout((function(){y(!g)}),300)}(t)},className:"p-1 m-1",style:{cursor:"pointer"},children:t.name},t._id)}))})},"5")]})]}),Object(a.jsxs)("div",{className:"col col-md-9",children:[j?Object(a.jsx)("h4",{className:"text-danger",children:"Loading..."}):Object(a.jsx)("h4",{children:"Vendors"}),o.length<1&&Object(a.jsx)($n.a,{description:Object(a.jsx)("b",{children:'"Sorry, we couldn\'t find any results !"'})}),Object(a.jsx)("div",{className:"col col-md-12",children:Object(a.jsx)("div",{className:"row",children:o.map((function(e){return Object(a.jsx)("div",{className:"col col-md-4",style:{cursor:"pointer"},children:Object(a.jsx)(Ot,{vendor:e})},e._id)}))})}),Object(a.jsx)("div",{})]})]})})}),ic=n(485),lc=n(194),dc=function(e){var t=e.v;console.log("VALUE OF V",t);var n=Object(l.c)();return Object(a.jsx)("tbody",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("div",{style:{width:"100px",height:"auto"},children:t.images.length?Object(a.jsx)(ic.a,{small:t.images[0].url,large:t.images[0].url}):""})}),Object(a.jsxs)("td",{children:[t.vendorInfoId.name," "]}),Object(a.jsxs)("td",{children:[t.subcategories[0].name," "]}),Object(a.jsx)("td",{children:t.vendorInfoId.city}),Object(a.jsxs)("td",{children:[" \xa3",t.price," , ",t.pricetype]}),Object(a.jsx)("td",{children:t.bookingDate}),Object(a.jsx)("td",{children:t.bookingSlots&&t.bookingSlots.map((function(e){return e.tstimeslot&&e.tstimeslot.map((function(e){return Object(a.jsxs)("p",{children:[e.startSlot,"- ",e.endSlot]},e._id)}))}))}),Object(a.jsx)("td",{children:Object(a.jsx)("input",{type:"number",style:{width:"80px"},className:"form-control",value:t.count,onChange:function(e){var c=[],a=e.target.value<1?1:e.target.value;"undefined"!==typeof window&&(localStorage.getItem("cart")&&(c=JSON.parse(localStorage.getItem("cart"))),c.map((function(e,n){e._id===t._id&&(c[n].count=a)})),localStorage.setItem("cart",JSON.stringify(c)),n({type:"ADD_TO_CART",payload:c}))}})}),Object(a.jsx)("td",{className:"font-weight-bold",children:Object(a.jsx)(lc.a,{className:"text-danger pointer mt-3 ml-3",onClick:function(){console.log(t._id);var e=[];"undefined"!==typeof window&&localStorage.getItem("cart")&&(e=JSON.parse(localStorage.getItem("cart"))),e.map((function(n,c){n._id===t._id&&e.splice(c,1)})),localStorage.setItem("cart",JSON.stringify(e)),n({type:"ADD_TO_CART",payload:e})}})})]})})},uc="http://localhost:5000",jc=function(){var e=Object(m.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(uc,"/user/cart"),{cart:t},{headers:{authtoken:n}});case 2:return c=e.sent,console.log("VALUE OF CART FROM ACTION USER CART",c),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),bc=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(uc,"/user/cart"),{headers:{authtoken:t}});case 2:return n=e.sent,console.log("CART FROM GET",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),mc=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.delete("".concat(uc,"/user/cart"),{headers:{authtoken:t}});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),hc=function(e,t){if(window.localStorage.getItem("user")){var n=JSON.parse(localStorage.getItem("user"));n.token;n={_id:e._id,email:e.email,name:e.name,role:e.role,picture:e.picture,address:e.address,cart:e.cart,stripe_account_id:e.stripe_account_id,stripe_seller:e.stripe_seller,stripeSession:e.stripeSession,token:n.token},console.log("USERVAL NEW",n),localStorage.setItem("user",JSON.stringify(n)),t()}},Oc=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(uc,"/user/order"),{stripeResponse:t},{headers:{authtoken:n}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),fc=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(uc,"/user/order"),{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),pc=function(e){var t=e.history,n=Object(l.d)((function(e){return Object(h.a)({},e)})),c=n.user,s=n.cart;Object(l.c)();console.log("VALUE OF CART",s);return Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"row mt-2",children:[Object(a.jsxs)("div",{className:"col col-md-8",children:[Object(a.jsxs)("h4",{children:["Cart / ",s.length," Vendors"]}),s.length?Object(a.jsx)("div",{className:"table-responsive",children:Object(a.jsxs)("table",{className:"table table-bordered",children:[Object(a.jsx)("thead",{className:"thead-light",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Image"}),Object(a.jsx)("th",{scope:"col",children:"Name"}),Object(a.jsx)("th",{scope:"col",children:"Sub Catgeory"}),Object(a.jsx)("th",{scope:"col",children:"Area"}),Object(a.jsx)("th",{scope:"col",children:"Price"}),Object(a.jsx)("th",{scope:"col",children:"Booking Date"}),Object(a.jsx)("th",{scope:"col",children:" Booked Timeslots"}),Object(a.jsx)("th",{scope:"col",children:"Count"}),Object(a.jsx)("th",{scope:"col",children:" Remove"})]})}),s.map((function(e){return Object(a.jsx)(dc,{v:e},e._id)}))]})}):Object(a.jsxs)("p",{className:"h6",children:["No helper selected. ",Object(a.jsx)(ie.a,{to:"/shop",children:"Find a helper"})]})]}),Object(a.jsxs)("div",{className:"col col-md-4",children:[Object(a.jsx)("h4",{children:"Order Summary"}),Object(a.jsx)("hr",{}),Object(a.jsx)("p",{className:"font-weight-bold",children:"Selected Helper"}),s.map((function(e,t){return Object(a.jsx)("div",{children:Object(a.jsxs)("p",{children:[e.vendorInfoId.name,"  ",e.subcategories[0].name," =  \xa3",e.price*e.count]})},t)})),Object(a.jsx)("hr",{}),"Total : ",Object(a.jsxs)("b",{children:[" \xa3",s.reduce((function(e,t){return e+t.count*t.price}),0)]}),Object(a.jsx)("hr",{}),c?Object(a.jsx)("button",{onClick:function(){jc(s,c.token).then((function(e){console.log("Cart response ZZZ",e.data),e.data.ok&&t.push("/checkout")})).catch((function(e){return console.log(e)}))},className:"btn btn-sm btn-primary mt-2 font-weight-bold",disabled:!s.length,children:"Proceed to Checkout"}):Object(a.jsx)("button",{className:"btn btn-sm btn-secondary font-weight-bold mt-2",children:Object(a.jsx)(ie.a,{to:{pathname:"/login",state:{from:"cart"}},children:"Login to Checkout"})})]})]})})},xc=n(883),vc=function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return Object(h.a)({},e)})),n=t.cart,c=t.drawer;return Object(a.jsxs)(xc.a,{title:"Cart / ".concat(n.length," Helpers"),onClose:function(){e({type:"SET_VISIBLE",payload:!1})},visible:c,children:[n.map((function(e){return Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col",children:e.images[0]?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:e.images[0].url,style:{width:"100%",height:"60px",objectFit:"cover"}}),Object(a.jsxs)("p",{className:"bg-secondary font-weight-bold",children:[e.vendorInfoId.name," x ",e.count]})]}):Object(a.jsxs)(a.Fragment,{children:['"No image"',Object(a.jsxs)("p",{className:"background-secondary font-weight-bold",children:[e.vendorInfoId.name," x ",e.count]})]})})},e._id)})),Object(a.jsx)(ie.a,{to:"/cart",children:Object(a.jsx)("button",{className:"btn btn-primary btn-raised btn-block",onClick:function(){return e({type:"SET_VISIBLE",payload:!1})},children:"Go To Cart"})})]})},gc=n(272),yc="http://localhost:5000",Nc=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(yc,"/api/create-connect-account"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),wc=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("AUTHTOKEN FROM GETACCOUNT STATUS",t),e.next=3,k.a.post("".concat(yc,"/api/get-account-status"),{},{headers:{authtoken:t}});case 3:return n=e.sent,console.log("RES from get account status",n),e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Sc=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(yc,"/api/get-account-balance"),{},{headers:{authtoken:t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),kc=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(yc,"/api/payout-settings"),{},{headers:{authtoken:t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_c=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(yc,"/api/create-payment-intent"),{},{headers:{authtoken:t}});case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Cc=function(){var e=Object(m.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(yc,"/api/stripe-session-id"),{vendorId:n},{headers:{authtoken:t}});case 2:return c=e.sent,console.log("RES from STRIPE SESSION",c),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ec=function(){var e=Object(m.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("FROM stripe success action",n),e.next=3,k.a.post("".concat(yc,"/api/stripesuccess"),{vendor:n},{headers:{authtoken:t}});case 3:return c=e.sent,console.log("RES FROM STRIPE SESSION SUCCESS",c),e.abrupt("return",c);case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ic=function(e){e.history;var t=Object(s.useState)([]),n=Object(oe.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)(0),i=Object(oe.a)(o,2),d=i[0],u=i[1],j=Object(s.useState)([]),O=Object(oe.a)(j,2),p=(O[0],O[1],Object(l.c)()),x=Object(l.d)((function(e){return Object(h.a)({},e)})).user;Object(s.useEffect)((function(){bc(x.token).then((function(e){r(e.data.vendors),u(e.data.cartTotal)}))}),[]);var g=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.log("FROM CHECKOUT",x.token,c[0].vendor.userId),e.next=4,Cc(x.token,c[0].vendor.userId);case 4:return n=e.sent,console.log("SESSION ID",n.data.sessionId),e.next=8,Object(gc.a)(v.a.REACT_APP_STRIPE_KEY);case 8:e.sent.redirectToCheckout({sessionId:n.data.sessionId}).then((function(e){return console.log("RESULT",e)}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"row d-flex justify-content-center",children:Object(a.jsxs)("div",{className:"col col-md-6 ",children:[Object(a.jsx)("h4",{children:"Order Summary"}),Object(a.jsx)("hr",{}),Object(a.jsxs)("h4",{children:["Helpers - ",c.length]}),Object(a.jsx)("hr",{}),Object(a.jsx)("h4",{children:"Selected Helpers"}),c.map((function(e,t){return Object(a.jsx)("div",{children:Object(a.jsxs)("b",{className:"d-flex content-align-center h6",children:[" ",e.vendor.vendorInfoId.name," [",e.vendor.subcategories[0].name,"] X ",e.count," = ",e.vendor.price]})},t)})),Object(a.jsx)("hr",{}),Object(a.jsxs)("p",{className:"font-weight-bold h6",children:["Cart Total: ",d]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-6 mt-2",children:Object(a.jsx)("button",{className:"btn btn-primary mt-3",disabled:!c.length,onClick:g,children:"Place Order"})}),Object(a.jsx)("div",{className:"col col-md-6 mt-4",children:Object(a.jsx)("button",{className:"btn btn-primary",disabled:!c.length,onClick:function(){"undefined"!==typeof window&&localStorage.removeItem("cart"),p({type:"ADD_TO_CART",payload:[]}),mc(x.token).then((function(e){r([]),u(0),f.b.success("Cart is empty. Continue shopping...")}))},children:"Empty Cart"})})]})]})})},Ac=n(198),Rc=(n(614),n(902)),Tc=function(e){e.history;var t=Object(l.c)(),n=Object(l.d)((function(e){return Object(h.a)({},e)})).user,c=Object(s.useState)(!1),r=Object(oe.a)(c,2),o=r[0],i=r[1],d=Object(s.useState)(null),u=Object(oe.a)(d,2),j=u[0],O=u[1],f=Object(s.useState)(""),p=Object(oe.a)(f,2),x=p[0],v=p[1],g=Object(s.useState)(!0),y=Object(oe.a)(g,2),N=y[0],w=y[1],S=Object(s.useState)(!1),k=Object(oe.a)(S,2),_=k[0],C=k[1],E=Object(Ac.useStripe)(),I=Object(Ac.useElements)(),A=Object(s.useState)(0),R=Object(oe.a)(A,2),T=R[0],D=R[1];Object(s.useEffect)((function(){_c(n.token).then((function(e){console.log("Response from payement intent",e.data),C(e.data.clientSecret),D(e.data.cartTotal)}))}),[]);var L=function(){var e=Object(m.a)(b.a.mark((function e(c){var a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c.preventDefault(),v(!0),e.next=4,Cc(n.token,T);case 4:return a=e.sent,console.log("SESSION ID",a.data.sessionId),e.next=8,E.confirmCardPayment(_,{payment_method:{card:I.getElement(Ac.CardElement),billing_details:{name:c.target.name.value}}});case 8:s=e.sent,console.log("PAYLOAD",s),s.error?(O("Payment failed ".concat(s.error.message)),v(!1)):(Oc(s,n.token).then((function(e){e.data.ok&&("undefined"!==typeof window&&localStorage.removeItem("cart"),t({type:"ADD_TO_CART",payload:[]}),mc(n.token))})),console.log(JSON.stringify(s)),O(null),v(!1),i(!0));case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w(t.empty),O(t.error?t.error.message:"");case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:" pb-5",children:Object(a.jsx)(Ye.a,{actions:[Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Rc.a,{className:"text-info"})," ",Object(a.jsx)("br",{})," Total Payable: \xa3",T]})]})}),Object(a.jsxs)("form",{id:"payment-form",className:"stripe-form",onSubmit:L,children:[Object(a.jsx)(Ac.CardElement,{id:"card-element",options:{style:{base:{color:"#32325d",fontFamily:"Arial, sans-serif",fontSmoothing:"antialiased",fontSize:"16px","::placeholder":{color:"#32325d"}},invalid:{color:"#fa755a",iconColor:"#fa755a"}}},onChange:q}),Object(a.jsx)("button",{className:"stripe-button",disabled:x||N||o,children:Object(a.jsx)("span",{id:"button-text",children:x?Object(a.jsx)("div",{className:"spinner",id:"spinner"}):"Pay"})}),Object(a.jsx)("br",{}),j&&Object(a.jsx)("div",{className:"card-error",role:"alert",children:j}),Object(a.jsxs)("p",{className:o?"result-message":"result-message hidden",children:["Payment Successful. ",Object(a.jsx)(ie.a,{to:"/user/history",children:"View your Purchase History"})]})]})]})},Dc=(Object(gc.a)(v.a.REACT_APP_STRIPE_KEY),function(){return Object(a.jsxs)("div",{className:"container p-5",children:[Object(a.jsx)("h4",{children:"Complete your payment"}),console.log("IN stripe payment"),Object(a.jsx)("div",{className:"col col-md-8 offset-md-2",children:Object(a.jsx)(Tc,{})})]})}),Lc="http://localhost:5000",qc=function(){var e=Object(m.a)(b.a.mark((function e(t,n){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Lc,"/api/vendorcalendar/existing/").concat(t,"/").concat(n));case 2:return c=e.sent,console.log("Existing res ZZZZ",c),e.abrupt("return",c);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Pc=function(){var e=Object(m.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Before response",n),e.next=3,k.a.post("".concat(Lc,"/api/vendorcalendar/").concat(t),n,{headers:{authtoken:c}});case 3:a=e.sent,console.log("RES from Vendor Calendar",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),Uc=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Lc,"/api/vendorcalendar/").concat(t));case 2:return n=e.sent,console.log("Vendor Calendar values",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fc=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Lc,"/api/vendorcalendar/vendor/").concat(t));case 2:return n=e.sent,console.log("Vendor Calendar by vendor values",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Vc=function(){var e=Object(m.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Lc,"/api/vendorcalendar/vendor/date/").concat(t,"/").concat(n,"/").concat(c));case 2:return a=e.sent,console.log("Vendor calendar by date range",a),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),Yc=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Lc,"/api/vendorcalendar/single/").concat(t));case 2:return n=e.sent,console.log("Vendor Calendar values",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Mc=function(){var e=Object(m.a)(b.a.mark((function e(t,n,c,a){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.put("".concat(Lc,"/api/vendorcalendar/").concat(t,"/").concat(n),c,{headers:{authtoken:a}});case 2:s=e.sent,console.log("Response from edit",s);case 4:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}(),Bc=function(){var e=Object(m.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(Lc,"/api/vendorcalendar/bulkbook/").concat(t),n,{headers:{authtoken:c}});case 2:return a=e.sent,console.log("Response from bulk booking",a),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),Gc=function(){var e=Object(m.a)(b.a.mark((function e(t,n,c){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(Lc,"/api/vendorcalendar/bulkavail/").concat(t),n,{headers:{authtoken:c}});case 2:return a=e.sent,console.log("Response from bulk avail",a),e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),Qc=n(888),Hc=n(881),zc=n(273),Kc=function(e){var t,n=e.timeslotval,c=(e.index,e.day),r=e.currentslots,o=Object(l.d)((function(e){return Object(h.a)({},e)})).dayval,i=Object(l.d)((function(e){return Object(h.a)({},e)})).timeslotsval,d=Object(s.useState)([]),u=Object(oe.a)(d,2),j=(u[0],u[1],Object(s.useState)(!1)),b=Object(oe.a)(j,2),m=b[0],O=b[1],f=Object(l.c)(),p=[];return Object(a.jsx)("div",{children:Object(a.jsxs)("button",(t={className:"btn btn-primary btn-sm font-weight-bold",disabled:r.map((function(e){var t;return qe()(null===e||void 0===e?void 0:e.availability[0].start).format("DD/MM/YYYY")==c&&(null===e||void 0===e||null===(t=e.availability[0].timeslots)||void 0===t?void 0:t.some((function(e){return e._id==n._id})))})).includes(!0)},Object($t.a)(t,"className",r.map((function(e){var t;return qe()(null===e||void 0===e?void 0:e.availability[0].start).format("DD/MM/YYYY")==c&&(null===e||void 0===e||null===(t=e.availability[0].timeslots)||void 0===t?void 0:t.some((function(e){return e._id==n._id})))})).includes(!0)?"btn btn-secondary mb-1":c==o.dayval&&i.timeslotsval.some((function(e){return e.tstimeslot[0]._id==n._id}))?"btn btn-danger mb-1":"btn btn-primary mb-1"),Object($t.a)(t,"value",n._id),Object($t.a)(t,"onClick",(function(e){return function(e,t,n,c){e.preventDefault(),O(!m),localStorage.setItem("dayval",c),"undefined"!==typeof window&&(localStorage.getItem("timeslots")&&(Object(zc.a)("timeslots"),p=JSON.parse(localStorage.getItem("timeslots"))),p.push(Object(h.a)(Object(h.a)({},t),{},{count:1})));var a=mt.a.uniqWith(p,mt.a.isEqual);f({type:"SELECTED_DAY",payload:{dayval:c}}),f({type:"SELECTED_TIMESLOT",payload:{tsday:c,tstimeslot:a}})}(e,n,0,c)})),Object($t.a)(t,"children",[n.startSlot,"-",n.endSlot]),t),n._id)})},Jc=function(e){var t=e.match;console.log("Selected Date XXXX",t.params.vendor,t.params.selectedvalue);var n=Object(l.d)((function(e){return Object(h.a)({},e)})),c=n.dayval,r=n.timeslotsval,o=Object(s.useState)([]),i=Object(oe.a)(o,2),d=i[0],u=i[1],j=Object(s.useState)([]),b=Object(oe.a)(j,2),m=b[0],O=b[1],f=Object(s.useState)(!1),p=Object(oe.a)(f,2),x=(p[0],p[1]),v=Object(s.useState)("Click to add"),g=Object(oe.a)(v,2),y=(g[0],g[1]),N=Object(s.useState)(""),w=Object(oe.a)(N,2),S=w[0],k=w[1],_=[],C=Object(l.c)(),E=qe()(t.params.selectedvalue),I=qe()(E).add(6,"days");console.log("End date XXXX",I._d),Object(s.useEffect)((function(){x(!0),vn().then((function(e){return u(e.data)})),x(!1)}),[]),Object(s.useEffect)((function(){x(!0),Vc(t.params.vendor,E,I._d).then((function(e){return O(e.data)})),x(!1)}),[]),Object(s.useEffect)((function(){$e(t.params.vendor).then((function(e){return k(e.data)}))}),[]);console.log("VENDOR FROM SELECT VENDOR",t.params),console.log("Vendor NNNN",S);return Object(a.jsx)("form",{onSubmit:function(e,n,a,s){e.preventDefault(),console.log("VALUES FROM SLOT",e,a,n,s,t.params.vendor,t.params.selectedValue);var o=[];if("undefined"!==typeof window){localStorage.getItem("cart")&&(o=JSON.parse(localStorage.getItem("cart"))),o.push(Object(h.a)(Object(h.a)({},S),{},{bookingDate:c.dayval,bookingSlots:r.timeslotsval,count:r.timeslotsval.length}));var i=mt.a.uniqWith(o,mt.a.isEqual);console.log("VALUE OF CART",i),localStorage.setItem("cart",JSON.stringify(i)),y("Added"),C({type:"ADD_TO_CART",payload:i}),C({type:"SET_VISIBLE",payload:!0})}},children:Object(a.jsxs)("div",{className:"row",children:[function(){for(var e=0;e<6;e++)_.push(qe()(E).add(e,"days").format("DD/MM/YYYY"))}(),console.log("CALDATE",_),_&&_.map((function(e){return Object(a.jsx)("div",{className:"col col-md-2 d-flex justify-content-center",children:Object(a.jsx)(Ye.a,{title:e,children:d&&d.map((function(t,n){return Object(a.jsx)(Kc,{timeslotval:t,index:n,day:e,currentslots:m},n)}))})},e)})),Object(a.jsx)("div",{className:"col col-md-6 mt-2 d-flex justify-content-end",children:Object(a.jsx)("button",{className:"btn btn-primary ",type:"submit",children:"Add To Cart"})}),Object(a.jsx)("div",{className:"col col-md-6 mt-2 d-flex justify-content-start",children:Object(a.jsx)(ie.a,{to:"/bookvendor/".concat(t.params.vendor),type:"button",className:"btn btn-info",children:"Back to Calendar"})})]})})},Xc=function(e){var t=e.vendor,n=Object(s.useState)(qe()(new Date)),c=Object(oe.a)(n,2),r=c[0],o=c[1],i=Object(s.useState)(qe()(new Date)),l=Object(oe.a)(i,2),d=l[0],u=l[1];return Object(a.jsx)("div",{className:"row d-flex justify-content-center",children:Object(a.jsxs)("div",{className:"col col-md-6 font-weight-bold mb-2",children:[d?Object(a.jsx)(ie.a,{to:"/selectslot/".concat(t,"/").concat(d),className:"btn btn-danger mb-2 d-flex justify-content-center",children:"Book Timeslot"}):Object(a.jsx)("button",{className:"btn btn-secondary mb-2 d-flex justify-content-center",disabled:!0,children:"Book Timeslot"}),Object(a.jsx)(Qc.a,{message:"You selected date: ".concat(d)}),Object(a.jsx)(Hc.a,{value:r,onSelect:function(e){o(e),u(e)},onPanelChange:function(e){o(e)},disabledDate:function(e){return e&&e.valueOf()<qe()().subtract(NaN)}})]})})},Wc=function(e){var t=e.match,n=Object(s.useState)([]),c=Object(oe.a)(n,2),r=(c[0],c[1]),o=Object(s.useState)([]),i=Object(oe.a)(o,2),l=i[0],d=i[1],u=Object(s.useState)(!1),j=Object(oe.a)(u,2),b=j[0],m=j[1];console.log("MATCH",t.params.id),Object(s.useEffect)((function(){m(!0),vn().then((function(e){return r(e.data)})),m(!1)}),[]),Object(s.useEffect)((function(){m(!0),Fc(t.params.id).then((function(e){return d(e.data)})),m(!1)}),[]),console.log("VENDORCAL",l);return Object(a.jsx)("div",{className:"container-fluid category-center",children:Object(a.jsxs)("div",{className:"row d-flex justify-content-center mb-2",children:[b?Object(a.jsx)("h2",{children:"Loading...."}):Object(a.jsx)("h6",{className:"font-weight-bold ",children:"Select a date to Check Vendor Availability"}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col col-md-12 mt-2",children:Object(a.jsx)("form",{children:Object(a.jsx)(Xc,{vendor:t.params.id})})})})]})})},Zc=n(353),$c=function(e){var t=e.vendor,n=t.description,c=t.price,s=t.pricetype,r=t.category,o=t.vendorInfoId,i=t.subcategories;return Object(a.jsxs)("ul",{className:"list-group",children:[o&&Object(a.jsxs)("li",{className:"list-group-item",children:["Area"," "," ",Object(a.jsx)("span",{className:"label label-default label-pill float-right",children:o.city})]}),Object(a.jsxs)("li",{className:"list-group-item",children:["Price"," "," ",Object(a.jsxs)("span",{className:"label label-default label-pill float-right",children:["\xa3 ",c," ",s," "]})]}),Object(a.jsxs)("li",{className:"list-group-item",children:["About Me:"," "," ",Object(a.jsxs)("span",{className:"label label-default label-pill float-right",children:[n," "]})]}),r&&Object(a.jsxs)("li",{className:"list-group-item",children:["Category"," "," ",Object(a.jsx)(ie.a,{to:"/category/".concat(r._id),className:"label label-default label-pill  float-right",children:r.name})]}),i&&Object(a.jsxs)("li",{className:"list-group-item",children:["Sub Categories"," ",i.map((function(e){return Object(a.jsxs)(ie.a,{to:"/vendorcat/".concat(e.slug),className:"label label-default label-pill mr-2 float-right",children:[e.name," "]},e._id)}))]})]})},ea=n(880),ta=function(e){var t=e.children,n=Object(l.d)((function(e){return Object(h.a)({},e)})).user,c=Object(s.useState)(!1),r=Object(oe.a)(c,2),o=r[0],i=r[1],d=Object(O.g)(),u=Object(O.h)();console.log("children",{children:t});return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{onClick:function(){n&&n.token?i(!0):d.push({pathname:"/login",state:{from:"/vendordetails/".concat(u.id)}})},children:[Object(a.jsx)(nc.a,{className:"text-danger"})," ",Object(a.jsx)("br",{})," ",n?"Leave a rating":"Login to leave a rating"]}),Object(a.jsx)(ea.a,{title:"Leave a rating for the vendor",centered:!0,visible:o,onOk:function(){i(!1),f.b.success("Thank you for your review. It will appear on our website shortly")},onCancel:function(){i(!1)},children:t})]})},na=Zc.a.TabPane,ca=function(e){var t=e.vendor,n=e.onRatingClick,c=e.rating,s=Object(l.d)((function(e){return Object(h.a)({},e)})),r=(s.user,s.cart,Object(l.c)(),t._id),o=t.vendorInfoId,i=t.images;console.log("vendor from single vendor XXXX",t);return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-6",children:Object(a.jsx)(we.Carousel,{showArrows:!0,autoPlay:!0,infiniteLoop:!0,children:i&&i.map((function(e){return Object(a.jsx)("img",{src:e.url},e.public_id)}))})}),Object(a.jsxs)("div",{className:"col col-md-6 font-weight-bold h6",children:[t?Object(a.jsx)("h1",{className:"bg-info p-3",children:o.name}):Object(a.jsx)("h1",{children:"Loading..."}),t&&t.ratings&&t.ratings.length>0?jt(t):Object(a.jsx)("div",{className:"d-flex justify-content-center mt-1 mb-3",children:'"No rating yet"'}),Object(a.jsx)(Ye.a,{actions:[Object(a.jsxs)(ie.a,{to:"/bookvendor/".concat(r),children:[Object(a.jsx)(lt.a,{className:"text-info"}),Object(a.jsx)("br",{}),"Select Vendor"]}),Object(a.jsx)(ta,{children:Object(a.jsx)(ut.a,{starRatedColor:"red",noOfStars:5,rating:c,changeRating:n,name:r,isSelectable:!0})})],children:Object(a.jsx)($c,{vendor:t})})]}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)(Zc.a,{type:"card",children:Object(a.jsx)(na,{tab:"More Details",children:"For any further queries, please call us on XXXX-XXX-XXXX"},"1")})})]})},aa=function(e){var t=e.match,n=Object(l.d)((function(e){return Object(h.a)({},e)})).user,c=Object(s.useState)(""),r=Object(oe.a)(c,2),o=r[0],i=r[1],d=Object(s.useState)(!1),u=Object(oe.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)(0),O=Object(oe.a)(m,2),f=O[0],p=O[1],x=Object(s.useState)([]),v=Object(oe.a)(x,2),g=v[0],y=v[1],N=t.params.id;Object(s.useEffect)((function(){w()}),[N]),Object(s.useEffect)((function(){if(o.ratings&&n){var e=o.ratings.find((function(e){return e.postedBy.toString()===n._id.toString()}));e&&p(e.star)}}));var w=function(){b(!0),$e(N).then((function(e){i(e.data),st(e.data._id).then((function(e){return y(e.data)})),b(!1)})).catch((function(e){console.log(e)}))};return Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)("div",{className:"row pt-4",children:j?Object(a.jsx)("h1",{children:"Loading..."}):Object(a.jsx)(ca,{vendor:o,onRatingClick:function(e,t){p(e),console.log("rating VALUE before update",f,t,n.token),at(t,e,n.token).then((function(e){console.log("Rating after Update",e),w()}))},rating:f})}),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col pt-5 pb-5",children:[Object(a.jsx)("hr",{}),Object(a.jsx)("h4",{children:"Other Vendors in your area"}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"row pb-5 ",children:g.length?g.map((function(e){return Object(a.jsxs)("div",{className:"col col-md-4",children:[" ",Object(a.jsx)(Ot,{vendor:e})," "]},e._id)})):Object(a.jsx)("div",{className:"text-",children:" "})})]})})]})},sa=function(e){var t=e.match,n=Object(s.useState)([]),c=Object(oe.a)(n,2),r=c[0],o=c[1],i=Object(s.useState)([]),l=Object(oe.a)(i,2),d=l[0],u=l[1],j=Object(s.useState)(!1),b=Object(oe.a)(j,2),m=b[0],h=b[1],O=Object(s.useState)(1),p=Object(oe.a)(O,2),x=p[0],v=p[1],g=Object(s.useState)(0),y=Object(oe.a)(g,2),N=y[0];y[1];Object(s.useEffect)((function(){w(),S()}),[]);var w=function(){h(!0),xe(t.params.slug).then((function(e){return o(e.data)})),h(!1)},S=function(){h(!0),ye(t.params.slug).then((function(e){u(e.data),h(!1)})).catch((function(e){console.log(e),h(!1),f.b.error(e.message)}))};return Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"container-fluid",children:[m?Object(a.jsx)("h4",{className:"text-center p-3 mt-5 mb-5  jumbotron",children:"Loading...."}):Object(a.jsxs)("h4",{className:"float-center p-3 mt-5 mb-5 jumbotron",children:["We found ",d.length," ",r.name," in your area"]}),Object(a.jsx)("div",{className:"row ml-2",children:d.map((function(e){return Object(a.jsx)(Ot,{vendor:e},e._id)}))},d._id),Object(a.jsx)("div",{className:"row ",children:Object(a.jsx)("nav",{className:"col col-md-4 offset-md-4 pt-5 p-3 d-flex justify-content-center",children:Object(a.jsx)(xt.a,{current:x,total:N/3*10,onChange:function(e){return v(e)}})})})]})})},ra=n(903),oa=n(904),ia=n(905),la="http://localhost:5000",da=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(la,"/api/auth/createupdateuser"),{},{headers:{authtoken:t}});case 2:return n=e.sent,console.log("RES from CREATEUPDATE ACTION",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ua=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(la,"/api/auth/createupdatevendor"),{},{headers:{authtoken:t}});case 2:return n=e.sent,console.log("RES from CREATEUPDATE VENDOR",n),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ja=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(la,"/api/auth/currentuser"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ba=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(la,"/api/auth/adminuser"),{},{headers:{authtoken:t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ma=function(e){var t=e.history,n=Object(s.useState)(""),c=Object(oe.a)(n,2),r=c[0],o=c[1],i=Object(s.useState)(""),d=Object(oe.a)(i,2),u=d[0],j=d[1],O=Object(s.useState)(!1),p=Object(oe.a)(O,2),x=p[0],v=p[1],g=Object(l.c)(),S=Object(l.d)((function(e){return Object(h.a)({},e)})).user;Object(s.useEffect)((function(){t.location.state||S&&S.token&&t.push("/")}),[S,t]);var k=function(e){var n=t.location.state;n?t.push(n.from):"admin"===e.data.role?t.push("/admin/dashboard"):"vendor"===e.data.role?t.push("/vendor/dashboard"):t.push("/user/history")},_=function(){var e=Object(m.a)(b.a.mark((function e(t){var n,c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),v(!0),e.prev=2,e.next=5,y.signInWithEmailAndPassword(r,u);case 5:return n=e.sent,c=n.user,e.next=9,c.getIdTokenResult();case 9:a=e.sent,da(a.token).then((function(e){g({type:R,payload:{name:e.data.name,email:e.data.email,token:a.token,role:e.data.role,_id:e.data._id,address:e.data.address,createdAt:e.data.createdAt,stripe_account_id:e.data.stripe_account_id,stripe_seller:e.data.stripe_seller,stripeSession:e.data.stripeSession}});var t={name:e.data.name,email:e.data.email,token:a.token,_id:e.data._id,role:e.data.role,address:e.data.address,createdAt:e.data.createdAt,stripe_account_id:e.data.stripe_account_id,stripe_seller:e.data.stripe_seller,stripeSession:e.data.stripeSession};window.localStorage.setItem("user",JSON.stringify(t)),k(e)})).catch((function(e){return console.log(e)})),e.next=18;break;case 13:e.prev=13,e.t0=e.catch(2),console.log(e.t0),f.b.error(e.t0.message),v(!1);case 18:case"end":return e.stop()}}),e,null,[[2,13]])})));return function(t){return e.apply(this,arguments)}}(),C=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.signInWithPopup(N).then(function(){var e=Object(m.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,console.log("user from google",t.user),e.next=4,n.getIdTokenResult();case 4:c=e.sent,da(c.token).then((function(e){g({type:R,payload:{name:e.data.name,email:e.data.email,token:c.token,role:e.data.role,_id:e.data._id,address:e.data.address,createdAt:e.data.createdAt,stripe_account_id:e.data.stripe_account_id,stripe_seller:e.data.stripe_seller,stripeSession:e.data.stripeSession}});var t={name:e.data.name,email:e.data.email,token:c.token,_id:e.data._id,role:e.data.role,address:e.data.address,createdAt:e.data.createdAt,stripe_account_id:e.data.stripe_account_id,stripe_seller:e.data.stripe_seller,stripeSession:e.data.stripeSession};window.localStorage.setItem("user",JSON.stringify(t)),k(e)})).catch((function(e){console.log(e),f.b.error(e.message),v(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.signInWithPopup(w).then(function(){var e=Object(m.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,e.next=3,n.getIdTokenResult();case 3:c=e.sent,da(c.token).then((function(e){g({type:R,payload:{name:e.data.name,email:e.data.email,token:c.token,role:e.data.role,_id:e.data._id,address:e.data.address,createdAt:e.data.createdAt,stripe_account_id:e.data.stripe_account_id,stripe_seller:e.data.stripe_seller,stripeSession:e.data.stripeSession}});var t={name:e.data.name,email:e.data.email,token:c.token,_id:e.data._id,role:e.data.role,address:e.data.address,createdAt:e.data.createdAt,stripe_account_id:e.data.stripe_account_id,stripe_seller:e.data.stripe_seller,stripeSession:e.data.stripeSession};window.localStorage.setItem("user",JSON.stringify(t)),k(e)})).catch((function(e){console.log(e),f.b.error(e.message),v(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"container mt-5 ",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-md-8 offset-md-3",children:Object(a.jsxs)("div",{className:"card register-form",children:[Object(a.jsx)("div",{className:"card-header",children:x?Object(a.jsx)("h4",{children:"Loading...."}):Object(a.jsx)("h4",{children:"Login"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("form",{onSubmit:_,children:[Object(a.jsxs)("div",{className:"form-group font-weight-bold mb-1 question",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{type:"email",className:"form-control",value:r,onChange:function(e){return o(e.target.value)},autoFocus:!0})]}),Object(a.jsxs)("div",{className:"form-group font-weight-bold mb-2 question",children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",value:u,onChange:function(e){return j(e.target.value)}})]}),Object(a.jsxs)("div",{className:"row justify-content-center font-weight-bold mt-2 question",children:[Object(a.jsx)(Bt.a,{onClick:_,type:"primary",shape:"round",block:!0,icon:Object(a.jsx)(ra.a,{}),size:"large",disabled:!r||u.length<6,className:"mb-2 mt-2 font-weight-bold font-weight-bold question",children:"Login with Email and Password"}),Object(a.jsx)(Bt.a,{onClick:C,type:"danger",shape:"round",block:!0,icon:Object(a.jsx)(oa.a,{}),size:"large",className:"mb-2 mt-2 font-weight-bold question",children:"Login with Google"}),Object(a.jsx)(Bt.a,{onClick:E,type:"primary",shape:"round",block:!0,icon:Object(a.jsx)(ia.a,{}),size:"large",className:"mb-2 mt-2 font-weight-bold question",children:"Login with Facebook"}),Object(a.jsx)(ie.a,{to:"/forgot/password",className:"text-danger mt-2",children:"Forgot Password"})]})]})})]})})})})},ha=function(e){var t=e.history,n=Object(s.useState)(""),c=Object(oe.a)(n,2),r=c[0],o=c[1],i=Object(l.d)((function(e){return Object(h.a)({},e)})).user;Object(s.useEffect)((function(){i&&i.token&&t.push("/user/history")}),[i,t]);var d=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={url:"http://localhost:3000/registercomplete",handleCodeInApp:!0},e.next=4,y.sendSignInLinkToEmail(r,n);case 4:f.b.success("Email is send to ".concat(r,". Please check your email to complete registration.")),window.localStorage.setItem("emailForRegistration",r),o("");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"container mt-5 ",children:Object(a.jsx)("div",{className:"row mb-2",children:Object(a.jsx)("div",{className:"col-md-8 offset-md-3",children:Object(a.jsxs)("div",{className:"card register-form",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h1",{children:"Register"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("form",{onSubmit:d,children:[Object(a.jsxs)("div",{className:"form-group font-weight-bold mb-1",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{type:"email",className:"form-control",value:r,onChange:function(e){return o(e.target.value)},autoFocus:!0})]}),Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Register"})})]})})]})})})})},Oa=function(e){var t=e.history,n=Object(s.useState)(""),c=Object(oe.a)(n,2),r=c[0],o=c[1],i=Object(s.useState)(""),d=Object(oe.a)(i,2),u=d[0],j=d[1],O=Object(l.c)();Object(l.d)((function(e){return Object(h.a)({},e)})).user;Object(s.useEffect)((function(){o(window.localStorage.getItem("emailForRegistration"))}),[t]);var p=function(){var e=Object(m.a)(b.a.mark((function e(n){var c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),r&&u){e.next=4;break}return f.b.error("Email and password must be entered"),e.abrupt("return");case 4:if(!(u.length<6)){e.next=7;break}return f.b.error("Password must be minimum 6 characters"),e.abrupt("return");case 7:return e.prev=7,e.next=10,y.signInWithEmailLink(r,window.location.href);case 10:if(!e.sent.user.emailVerified){e.next=21;break}return window.localStorage.removeItem("emailForRegistration"),c=y.currentUser,e.next=16,c.updatePassword(u);case 16:return e.next=18,c.getIdTokenResult();case 18:a=e.sent,da(a.token).then((function(e){return O({type:R,payload:{name:e.data.name,email:e.data.email,token:a.token,role:e.data.role,_id:e.data._id}})})).catch((function(e){return console.log(e)})),t.push("/");case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(7),console.log(e.t0),f.b.error(e.t0.message);case 27:case"end":return e.stop()}}),e,null,[[7,23]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"container mt-5 ",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col-md-8 offset-md-3",children:Object(a.jsxs)("div",{className:"card register-form",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h1",{children:"Complete Registration"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("form",{onSubmit:p,children:[Object(a.jsxs)("div",{className:"form-group font-weight-bold",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{type:"email",className:"form-control",value:r,disabled:!0})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"password",children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",value:u,onChange:function(e){return j(e.target.value)}})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary float-center",children:" Register"})]})})]})})})})},fa=function(e){var t=e.history,n=Object(s.useState)(""),c=Object(oe.a)(n,2),r=c[0],o=c[1],i=Object(s.useState)(!1),d=Object(oe.a)(i,2),u=d[0],j=d[1],O=Object(l.d)((function(e){return Object(h.a)({},e)})).user;Object(s.useEffect)((function(){O&&O.token&&t.push("/")}),[O,t]);var p=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),j(!0),n={url:"http://localhost:3000/login",handleCodeInApp:!0},e.next=5,y.sendPasswordResetEmail(r,n).then((function(){o(""),j(!1),f.b.success("Check your email for password reset link")})).catch((function(e){j(!1),f.b.error(e.message),console.log("Error from forgot password",e)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsx)("div",{className:"container col-md-4 offset-md-4 ",children:Object(a.jsxs)("div",{className:"card register-form",children:[Object(a.jsx)("div",{className:"card-header",children:u?Object(a.jsx)("h4",{children:"Loading"}):Object(a.jsx)("h4",{children:"Forgot Password"})}),Object(a.jsx)("div",{children:Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("form",{onSubmit:p,children:[Object(a.jsx)("input",{type:"email",className:"form-control mb-3",value:r,onChange:function(e){return o(e.target.value)},placeholder:"Enter your email",autoFocus:!0}),Object(a.jsx)("div",{className:"row justify-content-center mb-2",children:Object(a.jsx)("button",{className:"btn btn-primary",disabled:!r,children:"Submit"})})]})})})]})})},pa=function(e){var t=e.history,n=Object(s.useState)(""),c=Object(oe.a)(n,2),r=c[0],o=c[1],i=Object(s.useState)(!1),d=Object(oe.a)(i,2),u=(d[0],d[1]),j=Object(l.c)(),O=Object(l.d)((function(e){return Object(h.a)({},e)})).user;Object(s.useEffect)((function(){O&&O.token&&t.push("/")}),[O,t]);var p=function(){var e=Object(m.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n={url:"http://localhost:3000/vendregistercomplete",handleCodeInApp:!0},console.log("CONFIG",n),e.next=5,y.sendSignInLinkToEmail(r,n);case 5:f.b.success("Email is send to ".concat(r,". Please check your email to complete registration.")),window.localStorage.setItem("emailForRegistration",r),o("");case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),x=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.signInWithPopup(N).then(function(){var e=Object(m.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,console.log("user from google",t.user),e.next=4,n.getIdTokenResult();case 4:c=e.sent,da(c.token).then((function(e){j({type:R,payload:{name:e.data.name,email:e.data.email,token:c.token,role:"vendor",_id:e.data._id,address:e.data.address,createdAt:e.data.createdAt,stripe_account_id:e.data.stripe_account_id,stripe_seller:e.data.stripe_seller,stripeSession:e.data.stripeSession}});var t={name:e.data.name,email:e.data.email,token:c.token,_id:e.data._id,role:"vendor",address:e.data.address,createdAt:e.data.createdAt,stripe_account_id:e.data.stripe_account_id,stripe_seller:e.data.stripe_seller,stripeSession:e.data.stripeSession};window.localStorage.setItem("user",JSON.stringify(t)),g(e)})).catch((function(e){console.log(e),f.b.error(e.message),u(!1)}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(m.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:y.signInWithPopup(w).then(function(){var e=Object(m.a)(b.a.mark((function e(t){var n,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.user,e.next=3,n.getIdTokenResult();case 3:c=e.sent,da(c.token).then((function(e){j({type:R,payload:{name:e.data.name,email:e.data.email,token:c.token,role:"vendor",_id:e.data._id,address:e.data.address,createdAt:e.data.createdAt,stripe_account_id:e.data.stripe_account_id,stripe_seller:e.data.stripe_seller,stripeSession:e.data.stripeSession}});var t={name:e.data.name,email:e.data.email,token:c.token,_id:e.data._id,role:"vendor",address:e.data.address,createdAt:e.data.createdAt,stripe_account_id:e.data.stripe_account_id,stripe_seller:e.data.stripe_seller,stripeSession:e.data.stripeSession};window.localStorage.setItem("user",JSON.stringify(t)),g(e)})).catch((function(e){console.log(e),f.b.error(e.message),u(!1)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e){var n=t.location.state;console.log("User PAGE",n),n?t.push(n.from):"admin"===e.data.role?t.push("/admin/dashboard"):"vendor"===e.data.role?t.push("/vendor/dashboard"):t.push("/user/history")};return Object(a.jsx)("div",{className:"container mt-5 ",children:Object(a.jsx)("div",{className:"row mb-2",children:Object(a.jsx)("div",{className:"col-md-8 offset-md-3",children:Object(a.jsxs)("div",{className:"card register-form",children:[Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("h1",{children:"Register"})}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("form",{onSubmit:p,children:[Object(a.jsxs)("div",{className:"form-group font-weight-bold mb-1",children:[Object(a.jsx)("label",{htmlFor:"email",children:"Email"}),Object(a.jsx)("input",{type:"email",className:"form-control",value:r,onChange:function(e){return o(e.target.value)},autoFocus:!0})]}),Object(a.jsx)("div",{className:"row justify-content-center",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary mt-3",children:"Register"})})]})}),Object(a.jsx)(Bt.a,{onClick:x,type:"danger",shape:"round",block:!0,icon:Object(a.jsx)(oa.a,{}),size:"large",className:"mb-2 mt-2 font-weight-bold question",children:"Login with Google"}),Object(a.jsx)(Bt.a,{onClick:v,type:"primary",shape:"round",block:!0,icon:Object(a.jsx)(ia.a,{}),size:"large",className:"mb-2 mt-2 font-weight-bold question",children:"Login with Facebook"})]})})})})},xa=function(e){var t=e.history,n=window.localStorage.getItem("emailForRegistration"),c=Object(s.useState)(n),r=Object(oe.a)(c,2),o=r[0],i=r[1],d=Object(s.useState)(""),u=Object(oe.a)(d,2),j=u[0],h=u[1],O=Object(s.useState)(!1),p=Object(oe.a)(O,2),x=(p[0],p[1],Object(l.c)());Object(s.useEffect)((function(){i(window.localStorage.getItem("emailForRegistration"))}),[t]);var v=function(){var e=Object(m.a)(b.a.mark((function e(n){var c,a,s,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),console.log("In handle SUBMIT",o,window.location.href),o&&j){e.next=5;break}return f.b.error("Email and password must be entered"),e.abrupt("return");case 5:if(!(j.length<6)){e.next=8;break}return f.b.error("Password must be minimum 6 characters"),e.abrupt("return");case 8:return e.prev=8,c=window.localStorage.getItem("emailForRegistration"),console.log("Before the result",c,window.location.href),c||(Object(zc.a)("email"),c=window.prompt("Please provide your email for confirmation")),e.next=14,y.signInWithEmailLink(c,window.location.href);case 14:if(a=e.sent,console.log("RESULT",a),!a.user.emailVerified){e.next=27;break}return window.localStorage.removeItem("emailForRegistration"),s=y.currentUser,e.next=21,s.updatePassword(j);case 21:return e.next=23,s.getIdTokenResult();case 23:r=e.sent,console.log("user",s,"idTokenResult",r),ua(r.token).then((function(e){return x({type:R,payload:{name:e.data.name,email:e.data.email,token:r.token,role:e.data.role,_id:e.data._id}})})).catch((function(e){return console.log(e)})),t.push("/");case 27:e.next=33;break;case 29:e.prev=29,e.t0=e.catch(8),console.log(e.t0),f.b.error(e.t0.message);case 33:case"end":return e.stop()}}),e,null,[[8,29]])})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"container mt-5 ",children:[console.log("In vendor register completion"),Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("div",{className:"col-md-8 offset-md-3",children:[Object(a.jsx)("h1",{children:"Complete Vendor Registration"}),Object(a.jsxs)("form",{onSubmit:v,children:[console.log("IN complete registration EMAIL",o),Object(a.jsxs)("div",{className:"form-group font-weight-bold",children:[Object(a.jsx)("label",{children:"Email"}),Object(a.jsx)("input",{type:"email",className:"form-control",value:o,disabled:!0})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Password"}),Object(a.jsx)("input",{type:"password",className:"form-control",placeholder:"Password",value:j,onChange:function(e){return h(e.target.value)},autoFocus:!0})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Complete Registration"})]})]})})]})},va=function(){return Object(a.jsx)("nav",{className:"navbar navbar-default navbar-top navlist mt-3",children:Object(a.jsxs)("ul",{className:"nav flex-column font-weight-bold ",children:[Object(a.jsx)("li",{className:"nav-item mb-2",children:Object(a.jsx)(ie.a,{to:"/user/history",className:"nav-link",children:"USER HISTORY"})}),Object(a.jsx)("li",{className:"nav-item mb-2",children:Object(a.jsx)(ie.a,{to:"/user/userpassword",className:"nav-link",children:"PASSWORD RESET"})})]})})},ga=Ye.a.Meta,ya=qn.a.Ribbon,Na=function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t=Object(s.useState)(0),n=Object(oe.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)(!1),i=Object(oe.a)(o,2),d=(i[0],i[1]);Object(s.useEffect)((function(){u()}),[]);var u=function(){Sc(e.token).then((function(e){return r(e.data)}))},j=function(){var t=Object(m.a)(b.a.mark((function t(){var n;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return d(!0),t.prev=1,t.next=4,kc(e.token);case 4:n=t.sent,window.location.href=n.data.url,d(!1),t.next=14;break;case 9:t.prev=9,t.t0=t.catch(1),console.log(t.t0),d(!1),f.b.error("Unable to access settings. Please try again");case 14:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(){return t.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"d-flex justify-content-around",children:[Object(a.jsx)(Ye.a,{children:Object(a.jsx)(ga,{avatar:Object(a.jsx)(Me.a,{children:e.name[0]}),title:e.name,description:"Joined on ".concat(qe()(e.createdAt).fromNow())})}),e&&e.stripe_seller&&e.stripe_seller.charges_enabled&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(ya,{text:"Account Balance",color:"blue",children:Object(a.jsx)(Ye.a,{className:"bg-light pt-1",children:c&&c.pending&&c.pending.map((function(e,t){return Object(a.jsx)("span",{className:"lead",children:(n=e,(n.amount/100).toLocaleString(n.currency,{style:"currency",currency:n.currency}))},t);var n}))})}),Object(a.jsx)(ya,{text:"Payout Settings",color:"silver",children:Object(a.jsx)(Ye.a,{className:"bg-light pointer",onClick:j,children:Object(a.jsx)(Mn.a,{className:"h5 pt-2"})})})]})]})},wa=function(e){var t=e.order;return Object(a.jsx)("div",{children:Object(a.jsxs)("p",{className:"mb-1",children:[Object(a.jsxs)("span",{className:"mr-2 h6",children:["Customer Id: ",t.session.customer]}),"  ",Object(a.jsxs)("span",{className:"mr-2 font-weight-bold h6",children:["Amount:",t.session.currency.toUpperCase(),"   ",100*t.session.amount_total]})," ","  ",Object(a.jsxs)("span",{className:"  mr-2 h6",children:["Payment Method: ",t.session.payment_method_types[0]]})," ",Object(a.jsxs)("span",{className:"  mr-2 h6",children:["Payment Status: ",t.session.payment_status.toUpperCase()]})," ",Object(a.jsxs)("span",{className:"badge-large bg-primary text-white h6",children:["Status: ",t.orderStatus]})]})})},Sa=n(101),ka=(n(807),Sa.StyleSheet.create({body:{paddingTop:35,paddingBottom:65,paddingHorizontal:35},title:{fontSize:24,textAlign:"center"},author:{fontSize:12,textAlign:"center",marginBottom:40},subtitle:{fontSize:18,margin:12},text:{margin:12,fontSize:14,textAlign:"justify"},image:{marginVertical:15,marginHorizontal:100},header:{fontSize:12,marginBottom:20,textAlign:"center",color:"grey"},footer:{padding:"100px",fontSize:12,marginBottom:20,textAlign:"center",color:"grey"},pageNumber:{position:"absolute",fontSize:12,bottom:30,left:0,right:0,textAlign:"center",color:"grey"}}),function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t=Object(s.useState)([]),n=Object(oe.a)(t,2),c=n[0],r=n[1];Object(s.useEffect)((function(){o()}),[]);var o=function(){fc(e.token).then((function(e){r(e.data),console.log(e.data)})).catch((function(e){console.log(e)}))},i=function(e){return Object(a.jsxs)("table",{className:"table table-bordered  h6",children:[Object(a.jsx)("thead",{className:"thead-light",children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{scope:"col",children:"Helper Name "}),Object(a.jsx)("th",{scope:"col",children:"Sub Category "}),Object(a.jsx)("th",{scope:"col",children:"Price "}),Object(a.jsx)("th",{scope:"col",children:"PriceType "}),Object(a.jsx)("th",{scope:"col",children:"Count "})]})}),Object(a.jsx)("tbody",{children:e.vendors.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)("b",{children:e.vendor.vendorInfoId.name})}),Object(a.jsx)("td",{children:Object(a.jsx)("b",{children:e.vendor.subcategories[0].name})}),Object(a.jsx)("td",{children:Object(a.jsx)("b",{children:e.vendor.price})}),Object(a.jsx)("td",{children:Object(a.jsx)("b",{children:e.vendor.pricetype})}),Object(a.jsx)("td",{children:Object(a.jsx)("b",{children:e.count})})]},t)}))})]})};return Object(a.jsxs)("div",{className:"container-fluid",children:[Object(a.jsx)("div",{className:"container-fluid bg-secondary p-5",children:Object(a.jsx)(Na,{})}),Object(a.jsxs)("div",{className:"row ml-0 text-align-top",children:[Object(a.jsx)("div",{className:"col-md-2",children:Object(a.jsx)(va,{})}),Object(a.jsxs)("div",{className:"col ",children:[c.length?Object(a.jsx)("h3",{children:" User Orders Details"}):Object(a.jsx)("h3",{children:" No  Orders"}),c.map((function(e,t){return Object(a.jsxs)("div",{className:"card m-5 p-3",children:[Object(a.jsx)(wa,{order:e}),i(e),Object(a.jsx)("div",{className:"row"})]},t)}))]})]})]})}),_a=function(){var e=Object(s.useState)(""),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(oe.a)(r,2),i=o[0];o[1];return Object(a.jsx)("div",{className:"container-fluid mt-2",children:Object(a.jsxs)("div",{className:"row ml-0 text-align-top",children:[Object(a.jsx)("div",{className:"col-md-3",children:Object(a.jsx)(va,{})}),Object(a.jsxs)("div",{className:"col-md-4",children:[i?Object(a.jsx)("h4",{className:"card-header",children:" Loading... "}):Object(a.jsx)("h4",{className:"card-header",children:" Reset Password "}),Object(a.jsx)("form",{children:Object(a.jsx)("div",{className:"card form-group",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("label",{className:"font-weight-bold category",children:"Update password"}),Object(a.jsx)("input",{type:"password",onChange:function(e){return c(e.target.value)},className:"form-control",placeholder:"Enter new password",value:n,disabled:i}),Object(a.jsx)("div",{className:"d-flex justify-content-center mt-2",children:Object(a.jsx)("button",{className:"btn btn-primary",disabled:!n||n.length<6||i,children:"Submit"})})]})})})]})]})})},Ca="http://localhost:5000",Ea=function(){var e=Object(m.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.post("".concat(Ca,"/api/vendorinfo"),t,{headers:{authtoken:n}});case 2:e.sent,C.push("/vendor/dashboard");case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),Ia=function(){var e=Object(m.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("".concat(Ca,"/api/vendorinfo/").concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Aa=function(){var e=Object(m.a)(b.a.mark((function e(t,n,c){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.put("".concat(Ca,"/api/vendorinfo/").concat(t),n,{headers:{authtoken:c}});case 2:e.sent,C.push("/vendor/dashboard");case 4:case"end":return e.stop()}}),e)})));return function(t,n,c){return e.apply(this,arguments)}}(),Ra=function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t=Object(s.useState)(""),n=Object(oe.a)(t,2),c=n[0],r=n[1];return Object(s.useEffect)((function(){Ia(e.email).then((function(e){return r(e.data)}))}),[]),Object(a.jsx)("nav",{className:"navbar mt-2  navlist",children:Object(a.jsxs)("ul",{className:"nav flex-column font-weight-bold mt-2",children:[c?Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(ie.a,{to:"/vendor/vendorinfoedit/".concat(e.email),className:"nav-link",children:" CHANGE YOUR DETAILS"})}):Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(ie.a,{to:"/vendor/vendorinfocreate",className:"nav-link",children:"ADD YOUR DETAILS"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(ie.a,{to:"/vendor/vendorcatlistuser/".concat(e._id),className:"nav-link",children:"CHANGE CATEGORIES"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(ie.a,{to:"/vendor/vendorcallist/".concat(e._id),className:"nav-link",children:"AVAILABILITY CALENDAR"})}),Object(a.jsx)("li",{className:"nav-item",children:Object(a.jsx)(ie.a,{to:"/vendor/password",className:"nav-link",children:"PASSWORD RESET"})})]})})},Ta=function(){var e=Object(s.useState)(""),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(oe.a)(r,2),i=o[0];o[1];return Object(a.jsx)("div",{className:"container-fluid mt-2",children:Object(a.jsxs)("div",{className:"row ml-0 text-align-top",children:[Object(a.jsx)("div",{className:"col-md-3",children:Object(a.jsx)(Ra,{})}),Object(a.jsxs)("div",{className:"col-md-4",children:[i?Object(a.jsx)("h4",{className:"card-header",children:" Loading... "}):Object(a.jsx)("h4",{className:"card-header",children:" Reset Password "}),Object(a.jsx)("form",{children:Object(a.jsx)("div",{className:"card form-group",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("label",{className:"font-weight-bold category",children:"Update password"}),Object(a.jsx)("input",{type:"password",onChange:function(e){return c(e.target.value)},className:"form-control",placeholder:"Enter new password",value:n,disabled:i}),Object(a.jsx)("div",{className:"d-flex justify-content-center mt-2",children:Object(a.jsx)("button",{className:"btn btn-primary",disabled:!n||n.length<6||i,children:"Submit"})})]})})})]})]})})},Da=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(ie.a,{to:"/admin",className:"d-flex justify-content-center admin-class",children:"Admin"}),"Vendor Master"]})},La=n(872),qa=n(480),Pa=function(){var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(qa.a)({availability:n,setAvailability:c});return Object(a.jsx)("div",{children:Object(a.jsx)(r,{})})},Ua=Pe.a.Option,Fa=function(e){var t=e.handleSubmit,n=e.handleChange,c=e.vendorInfoId,r=e.vendorName,o=e.userId,i=e.values,l=e.setValues,d=e.handleCategoryChange,u=e.subOptions,j=e.showSubs,b=i.description,m=i.categories,O=i.subcategories,f=(i.category,i.price),p=i.pricetypes;i.pricetype;console.log("Vendor....",c);var x=Object(s.useState)(!1),v=Object(oe.a)(x,2),g=v[0],y=v[1],N=function(){y(!g)};return Object(a.jsx)("div",{children:Object(a.jsx)("form",{onSubmit:t,children:Object(a.jsxs)("section",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"admin-class",children:"Vendor"}),Object(a.jsx)("input",{type:"text",disabled:"disabled",name:"vendorname",className:"form-control",value:r}),Object(a.jsx)("label",{className:"admin-class",children:"Description"}),Object(a.jsx)("textarea",{name:"description",rows:"2",className:"form-control",value:b,onChange:n}),Object(a.jsx)("label",{className:"admin-class",children:"Category"}),Object(a.jsxs)("select",{name:"category",className:"form-control",onChange:d,children:[Object(a.jsx)("option",{children:"Select a Category"}),m.length>0&&m.map((function(e){return Object(a.jsxs)("option",{value:e._id,children:[" ",e.name]},e._id)}))]}),j&&Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{className:"admin-class mt-1 mb-1",children:"Subcategories"}),Object(a.jsx)(Pe.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select a Sub category",className:"font-weight:800",value:O,onChange:function(e){return l(Object(h.a)(Object(h.a)({},i),{},{subcategories:e}))},children:u.length&&u.map((function(e){return Object(a.jsx)(Ua,{value:e._id,children:e.name},e._id)}))})]}),Object(a.jsx)("label",{className:"admin-class",children:"Price Type"}),"``",Object(a.jsxs)("select",{name:"pricetype",className:"form-control",onChange:n,children:[Object(a.jsx)("option",{children:"Select a price type"}),p.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))]}),Object(a.jsx)("label",{className:"admin-class",children:"Price"}),Object(a.jsx)("input",{type:"number",name:"price",className:"form-control",value:f,onChange:n}),Object(a.jsx)("input",{type:"hidden",name:"userId",className:"form-control",value:o}),Object(a.jsx)("input",{type:"hidden",name:"vendorInfoId",className:"form-control",value:c})]}),Object(a.jsx)("div",{className:"d-flex justify-content-center mt-1",children:Object(a.jsx)("button",{type:"button",className:"btn btn-primary font-weight-bold mb-2",name:"booking",onClick:N,children:"Appointment Availability"})}),g&&Object(a.jsx)(Pa,{}),Object(a.jsx)("div",{className:"d-flex justify-content-center mt-1",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold mt-2 ",name:"category",children:"Save"})})]})})})},Va=n(876);var Ya,Ma=Object(La.a)({validate:function(e){var t={};return e.category||(t.category="Please select the category"),e.areascovered||(t.areascovered="Please select the Areas Covered"),e.pricetype||(t.pricetype="Please select the Price Type"),e.price||(t.price="Please select the Price"),t},form:"vendorCategories",destroyOnUnmount:!1})(Object(O.i)((function(e){var t=e.handleSubmit;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h1",{className:"h2 font-weight-bold card-header",children:"Add Categories Details"}),Object(a.jsx)("section",{className:"vendor-center",children:Object(a.jsx)("div",{className:"card",children:Object(a.jsx)("div",{className:"card-body",children:Object(a.jsxs)("form",{onSubmit:t((function(){return console.log("Form values from on submit",e.formValues.vendorForm),e.submitVendor(e.formValues.vendorForm.values),void e.submitVendorCategories(e.formValues.vendorCategories.values)})),children:[Object(a.jsxs)("div",{children:[Object(a.jsx)(Va.a,{type:"text",label:"Category",name:"subcategory",component:Ct}),Object(a.jsx)(Va.a,{type:"text",label:"Areas Covered",name:"areascovered",component:Ct}),Object(a.jsx)(Va.a,{type:"text",label:"Price Type",name:"pricetype",component:Ct}),Object(a.jsx)(Va.a,{type:"text",label:"Price",name:"price",component:Ct}),Object(a.jsx)(Va.a,{type:"text",label:"Website",name:"website",component:Ct})]}),Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col pull-left mt-2",children:Object(a.jsx)("button",{className:"btn btn-md btn-warning font-weight-bold ",onClick:e.onCancel,children:"Back"})}),Object(a.jsx)("div",{className:"col-pull-right mt-2 mr-3",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-md btn-primary font-weight-bold ",children:"Submit"})})]})]})})})})]})}))),Ba=Object(l.b)((function(e){return console.log("In state:",e),{formValues:e.form}}),(function(e){return Object(d.bindActionCreators)({submitVendor:se,submitVendorCategories:re},e)}))(Ma),Ga=function(e){Object(_e.a)(n,e);var t=Object(Ce.a)(n);function n(){var e;Object(Se.a)(this,n);for(var c=arguments.length,a=new Array(c),s=0;s<c;s++)a[s]=arguments[s];return(e=t.call.apply(t,[this].concat(a))).state={showVendorCategories:!1},e}return Object(ke.a)(n,[{key:"renderContent",value:function(){var e=this;return this.state.showVendorCategories?Object(a.jsx)(Ba,{onCancel:function(){return e.setState({showVendorCategories:!1})}}):Object(a.jsx)(Fa,{onVendorSubmit:function(){return e.setState({showVendorCategories:!0})}})}},{key:"render",value:function(){return Object(a.jsx)("div",{children:this.renderContent()})}}]),n}(s.Component),Qa=Object(La.a)({form:"vendorForm"})(Ga),Ha=function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(ie.a,{to:"/admin",className:"d-flex justify-content-center admin-class",children:"Admin"}),"Vendor Categories"]})},za=(k.a.create({baseURL:"https://api.getAddress.io",params:{"api-key":"NShGwNxnpEeli1H-k4xi7w29358"}}),n(280)),Ka=function(e){e.children;var t=Object(za.a)(e,["children"]),n=Object(l.d)((function(e){return Object(h.a)({},e)})).user;return n&&n.token?Object(a.jsx)(O.b,Object(h.a)({},t)):Object(a.jsx)(O.a,{to:"/"})},Ja=function(e){e.children;var t=Object(za.a)(e,["children"]),n=Object(l.d)((function(e){return Object(h.a)({},e)})).user;console.log("User Role",n);var c=Object(s.useState)(!1),r=Object(oe.a)(c,2),o=r[0],i=r[1];return Object(s.useEffect)((function(){n&&n.token&&ba(n.token).then((function(e){console.log("Admin route response",e),i(!0)})).catch((function(e){console.log("Admin route err",e),i(!1)}))}),[n]),console.log("ADMIN VAL",o),Object(a.jsx)(O.b,Object(h.a)({},t))},Xa=n(906),Wa=Ye.a.Meta,Za=function(e){e.history;var t=Object(l.d)((function(e){return Object(h.a)({},e)})).user,n=Object(s.useState)(!1),c=Object(oe.a)(n,2),r=c[0],o=c[1],i=Object(s.useState)([]),d=Object(oe.a)(i,2),u=d[0],j=d[1];console.log("User data from vendor dashboard",t._id,t.email),Object(s.useEffect)((function(){O()}),[]);var O=function(){Ze(t._id).then((function(e){return j(e.data)}))},p=function(){var e=Object(m.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,Nc(t.token);case 4:n=e.sent,console.log("RES",n),window.location.href=n.data,o(!1),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0),f.b.error("Stripe connect failed. Please try again"),o(!1);case 15:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"container-fluid bg-secondary p-5",children:Object(a.jsx)(Na,{})}),t&&t.stripe_seller&&t.stripe_seller.charges_enabled?Object(a.jsxs)("div",{className:"row ml-0 text-align-top",children:[Object(a.jsx)("div",{className:"col-md-3 mt-2 ",children:Object(a.jsx)(Ra,{})}),Object(a.jsxs)("div",{className:"col col-md-9 ",children:[Object(a.jsxs)("div",{className:"row d-flex justify-content-center",children:[Object(a.jsx)("h2",{className:"font-weight-bold mb-2 mt-2 ",children:" Your Current Categories"}),Object(a.jsx)("br",{})]}),Object(a.jsx)("div",{className:"row d-flex justify-content-center mt-3",children:Object(a.jsx)("div",{className:"col d-flex m-2",children:u&&u.map((function(e){return Object(a.jsxs)(Ye.a,{cover:Object(a.jsx)("img",{src:e.images&&e.images.length?e.images[0].url:"",style:{height:"180px",objectFit:"cover"}},e._id),children:[Object(a.jsx)("p",{children:e.vendorInfoId.name}),Object(a.jsx)("p",{children:e.vendorInfoId.email}),Object(a.jsx)("p",{children:e.subcategories[0].name}),Object(a.jsx)(Wa,{title:"Price-\xa3".concat(e.price," ").concat(e.pricetype),description:e.subcats})]},e._id)}))})})]})]}):Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col col-md-6 offset-3 text-center",children:Object(a.jsxs)("div",{className:"p-5 pointer",children:[Object(a.jsx)(Xa.a,{className:"h2"}),Object(a.jsx)("h4",{className:"font-weight-bold ",children:" Setup payouts to add your jobs"}),Object(a.jsx)("p",{className:"lead",children:" Compare my helper partners with stripe to transfer your earnings to your bank account"}),Object(a.jsxs)("button",{className:"btn btn-primary mb-3",disabled:r,onClick:p,children:[" ",r?"Processing...":"Setup Payouts"]}),Object(a.jsx)("p",{className:"text-muted",children:Object(a.jsx)("small",{className:"font-weight-bold",children:" *You will be redirected to stripe to complete the onboarding process"})})]})})})})]})},$a=n(478),es=n.n($a),ts="http://localhost:5000",ns=function(e){var t=e.values,n=e.setValues,c=e.setLoading,s=Object(l.d)((function(e){return Object(h.a)({},e)})).user;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"row",children:t.images&&t.images.map((function(e){return Object(a.jsx)(qn.a,{count:"X",style:{cursor:"pointer"},onClick:function(){return a=e.public_id,c(!0),console.log(a),void k.a.post("".concat(ts,"/api/removeimage"),{public_id:a},{headers:{authtoken:s?s.token:""}}).then((function(e){c(!1);var s=t.images.filter((function(e){return e.public_id!==a}));n(Object(h.a)(Object(h.a)({},t),{},{images:s})),console.log("Values after image remove",t)})).catch((function(e){c(!1),console.log(e)}));var a},children:Object(a.jsx)(Me.a,{src:e.url,size:100,shape:"square",className:"ml-3"})},e.public_id)}))}),Object(a.jsx)("div",{className:"row admin-class mt-1",children:Object(a.jsxs)("label",{className:"btn btn-primary ml-2",children:["Choose File to upload",Object(a.jsx)("input",{type:"file",multiple:!0,hidden:!0,accept:"/images/*",onChange:function(e){c(!0);var a=e.target.files,r=t.images;if(a)for(var o=0;o<a.length;o++)es.a.imageFileResizer(a[o],360,360,"JPEG",100,0,(function(e){k.a.post("".concat(ts,"/api/uploadimages"),{image:e},{headers:{authtoken:s?s.token:""}}).then((function(e){console.log("Image Upload Response",e),c(!1),r.push(e.data),n(Object(h.a)(Object(h.a)({},t),{},{images:r})),console.log("Values after image add",t)})).catch((function(e){c(!1),console.log("Cloudinary upload error:".concat(e))}))}),"base64")}})]})})]})},cs=n(132),as=function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t={userId:e._id,vendorInfoId:"",description:"",categories:[],category:"",subcategories:[],subcategory:"",price:"",pricetypes:["Hourly","Job","Daily"],pricetype:"Hourly",images:[]},n=Object(s.useState)(t),c=Object(oe.a)(n,2),r=c[0],o=c[1],i=Object(s.useState)(!1),d=Object(oe.a)(i,2),u=d[0],j=d[1],b=Object(s.useState)([]),m=Object(oe.a)(b,2),O=m[0],p=m[1],x=Object(s.useState)(!1),v=Object(oe.a)(x,2),g=v[0],y=v[1],N=Object(s.useState)(""),w=Object(oe.a)(N,2),S=w[0],k=w[1];Object(s.useEffect)((function(){_(),C()}),[]);var _=function(){de().then((function(e){return o(Object(h.a)(Object(h.a)({},r),{},{subcategories:[],categories:e.data}))}))},C=function(){j(!0),Ia(e.email).then((function(e){j(!1),k(e.data)})).catch((function(t){j(!1),console.log(t),f.b.error("Vendor info not found for user: ".concat(e.email))}))};return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(Ra,{})}),Object(a.jsx)("div",{className:"col col-md-10",children:Object(a.jsxs)("section",{className:"vendor-center",children:[u?Object(a.jsx)(cs.a,{className:"text-danger h1"}):Object(a.jsx)("h2",{className:"card-header font-weight-bold",children:"Vendor Categories Form"}),Object(a.jsx)("div",{className:"card ",children:Object(a.jsxs)("div",{className:" card-body mb-1 ",children:[Object(a.jsx)("div",{className:"p3",children:Object(a.jsx)(ns,{values:r,setValues:o,setLoading:j})}),Object(a.jsx)(Fa,{handleSubmit:function(t){t.preventDefault(),j(!0),console.log("Values before submit",r),o(Object(h.a)(Object(h.a)({},r),{},{vendorInfoId:S._id,userId:e._id})),j(!1),console.log("Values after set values vendor submit",r),Je(r,e.token).then((function(e){j(!1),window.alert("Vendor is created successfully !!!!"),window.location.reload()})).catch((function(e){console.log(e),j(!1),f.b.error(e.response)}))},handleChange:function(e){var t;o(Object(h.a)(Object(h.a)({},r),{},(t={},Object($t.a)(t,e.target.name,e.target.value),Object($t.a)(t,"vendorInfoId",S._id),t))),console.log("Values from handlechange",r)},vendorInfoId:S._id,vendorName:S.name,userId:e._id,values:r,setValues:o,handleCategoryChange:function(e){e.preventDefault(),o(Object(h.a)(Object(h.a)({},r),{},{subcategories:[],category:e.target.value})),he(e.target.value).then((function(e){p(e.data)})).catch((function(e){console.log(e)})),y(!0)},subOptions:O,showSubs:g})]})})]})})]})},ss=Pe.a.Option,rs=function(e){var t=e.handleSubmit,n=e.handleChange,c=e.values,s=(e.setValues,e.categories),r=e.subOptions,o=e.arrOfSubIds,i=e.setArrOfSubIds,l=e.handleCategoryChange,d=e.selectedCategory,u=c.description,j=(c.subcategories,c.category),b=c.price,m=c.pricetypes,h=c.pricetype,O=c.vendorInfoId;return Object(a.jsx)("div",{children:Object(a.jsx)("form",{onSubmit:t,children:Object(a.jsxs)("section",{children:[Object(a.jsxs)("div",{className:"form-group ml-2",children:[Object(a.jsx)("label",{className:"admin-class",children:"Vendor"}),Object(a.jsx)("input",{type:"text",disabled:"disabled",name:"vendorname",className:"form-control",value:O.name}),Object(a.jsx)("label",{className:"admin-class",children:"Description"}),Object(a.jsx)("textarea",{name:"description",rows:"2",className:"form-control",value:u,onChange:n}),Object(a.jsx)("label",{className:"admin-class",children:"Category"}),Object(a.jsx)("select",{name:"category",value:d||j._id,className:"form-control",onChange:l,children:s.length>0&&s.map((function(e){return Object(a.jsxs)("option",{value:e._id,children:[" ",e.name]},e._id)}))}),Object(a.jsxs)("div",{children:[Object(a.jsx)("label",{className:"admin-class mt-1 mb-1",children:"Subcategories"}),Object(a.jsx)(Pe.a,{mode:"multiple",style:{width:"100%"},placeholder:"Select a Sub category",className:"font-weight:800 subdropdown",value:o,onChange:function(e){return i(e)},children:r.length&&r.map((function(e){return Object(a.jsx)(ss,{value:e._id,children:e.name},e._id)}))})]}),Object(a.jsx)("label",{className:"admin-class",children:"Price Type"}),"``",Object(a.jsx)("select",{value:h,name:"pricetype",className:"form-control",onChange:n,children:m.map((function(e){return Object(a.jsx)("option",{value:e,children:e},e)}))}),Object(a.jsx)("label",{className:"admin-class",children:"Price"}),Object(a.jsx)("input",{type:"number",name:"price",className:"form-control",value:b,onChange:n})]}),Object(a.jsx)("div",{className:"d-flex justify-content-center mt-1",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold ",name:"category",children:"Save"})})]})})})},os=function(e){var t=e.match,n=e.history,c=Object(l.d)((function(e){return Object(h.a)({},e)})).user,r=Object(s.useState)(!1),o=Object(oe.a)(r,2),i=(o[0],o[1]),d=Object(s.useState)([]),u=Object(oe.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)([]),O=Object(oe.a)(m,2),p=O[0],x=O[1],v=Object(s.useState)([]),g=Object(oe.a)(v,2),y=g[0],N=g[1],w=Object(s.useState)(""),S=Object(oe.a)(w,2),k=S[0],_=S[1],C={userId:c._id,vendorInfoId:"",description:"",category:"",subcategories:[],subcategory:"",price:"",pricetypes:["Hourly","Job","Daily"],pricetype:"",images:[]},E=Object(s.useState)(C),I=Object(oe.a)(E,2),A=I[0],R=I[1];console.log("values before set",A),Object(s.useEffect)((function(){T(),D()}),[]);var T=function(){i(!0),$e(t.params.id).then((function(e){R(Object(h.a)(Object(h.a)({},A),e.data)),he(e.data.category._id).then((function(e){return x(e.data)}));var t=[];e.data.subcategories.map((function(e){t.push(e._id)})),console.log("ARR",t),N((function(e){return t}))})).catch((function(e){console.log(e),f.b.error(e.response)}))},D=function(){de().then((function(e){return b(e.data)}))};return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(Ra,{})}),Object(a.jsx)("div",{className:"col col-md-10 ",children:Object(a.jsxs)("section",{className:"vendor-center",children:[Object(a.jsx)("h2",{className:"font-weight-bold mb-2",children:"Change Categories "}),Object(a.jsx)("div",{className:"p3 ml-2",children:Object(a.jsx)(ns,{values:A,setValues:R,setLoading:i})}),Object(a.jsx)(rs,{handleSubmit:function(e){e.preventDefault(),i(!0),A.subcategories=y,A.category=k||A.category,tt(t.params.id,A,c.token).then((function(e){i(!1),f.b.success("Vendor categories updated successfully !!!!"),n.push("/vendor/vendorcatlistuser/".concat(t.params.id))})).catch((function(e){i(!1),console.log(e),f.b.error(e.response.data.err)}))},handleChange:function(e){R(Object(h.a)(Object(h.a)({},A),{},Object($t.a)({},e.target.name,e.target.value)))},setvalues:R,values:A,user:c,categories:j,subOptions:p,arrOfSubIds:y,setArrOfSubIds:N,handleCategoryChange:function(e){e.preventDefault(),R(Object(h.a)(Object(h.a)({},A),{},{subcategories:[]})),_(e.target.value),he(e.target.value).then((function(e){x(e.data)})).catch((function(e){console.log(e)})),A.category._id===e.target.value&&T(),N([])},selectedCategory:k})]})})]})},is=function(e){var t=e.handleSubmit,n=e.handleChange,c=e.email,r=e.name,o=e.postcode,i=e.houseNo,l=e.addressLine1,d=e.addressLine2,u=e.city,j=e.county,b=e.country,m=e.handleCounty,h=e.handleCity,O=e.website,f=Object(s.useState)([]),p=Object(oe.a)(f,2),x=p[0],v=p[1],g=Object(s.useState)([]),y=Object(oe.a)(g,2),N=y[0],w=y[1];Object(s.useEffect)((function(){An().then((function(e){return v(e.data),e.data}))}),[]),Object(s.useEffect)((function(){u&&Rn(u).then((function(e){return w(e.data),e.data})).catch((function(e){return console.log(e)}))}),[u]);var S=function(e){e.preventDefault(),h(e),Rn(e.target.value).then((function(e){return w(e.data),e.data})).catch((function(e){return console.log(e)}))};console.log("Counties",N);return Object(a.jsx)("div",{children:Object(a.jsx)("form",{onSubmit:t,children:Object(a.jsxs)("section",{children:[Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{className:"admin-class",children:"Your email"}),Object(a.jsx)("input",{type:"text",disabled:"disabled",name:"email",className:"form-control",value:c}),Object(a.jsx)("label",{className:"admin-class",children:"Name"}),Object(a.jsx)("input",{type:"text",name:"name",className:"form-control",value:r,onChange:n,autoFocus:!0}),Object(a.jsx)("label",{className:"admin-class",children:"Postcode"}),Object(a.jsx)("input",{type:"text",name:"postcode",className:"form-control",value:o,onChange:n}),Object(a.jsx)("label",{className:"admin-class",children:"House No"}),Object(a.jsx)("input",{type:"text",name:"houseNo",className:"form-control",value:i,onChange:n}),Object(a.jsx)("label",{className:"admin-class",children:"Address Line 1"}),Object(a.jsx)("input",{type:"text",name:"addressLine1",className:"form-control",value:l,onChange:n}),Object(a.jsx)("label",{className:"admin-class",children:"Address Line 2"}),Object(a.jsx)("input",{type:"text",name:"addressLine2",className:"form-control",value:d,onChange:n}),Object(a.jsx)("label",{className:"admin-class",children:"City"}),Object(a.jsxs)("select",{className:"form-control",name:"city",onChange:S,children:[Object(a.jsx)("option",{children:"Select a city"}),x.length>0&&x.map((function(e){return Object(a.jsxs)("option",{value:e,selected:e===u,children:[e," "]},e)}))]}),Object(a.jsx)("label",{className:"admin-class",children:"County"}),Object(a.jsxs)("select",{className:"form-control",name:"county",onChange:m,children:[Object(a.jsx)("option",{children:"Select the county"}),N.length>0&&N.map((function(e){return Object(a.jsxs)("option",{value:e.county,selected:e.county===j,children:[e.county," "]},e.county)}))]}),Object(a.jsx)("label",{className:"admin-class",children:"Country"}),Object(a.jsx)("input",{type:"text",name:"country",className:"form-control",value:b,onChange:n}),Object(a.jsx)("label",{className:"admin-class",children:"Website"}),Object(a.jsx)("input",{type:"text",name:"website",className:"form-control",value:O,onChange:n})]}),Object(a.jsx)("div",{className:"d-flex justify-content-center mt-1 mb-2 ",children:Object(a.jsx)("button",{type:"submit",className:"btn btn-primary font-weight-bold ",name:"category",children:"Save"})})]})})})},ls=function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t={userId:e._id,email:e.email,postcode:"",name:"",houseNo:"",addressLine1:"",addressLine2:"",city:"",county:"",country:"United Kingdom",website:""},n=Object(s.useState)(t),c=Object(oe.a)(n,2),r=c[0],o=c[1],i=Object(s.useState)(!1),d=Object(oe.a)(i,2),u=d[0],j=d[1],b=(r.email,r.userId,r.postcode),m=r.name,O=r.houseNo,p=r.addressLine1,x=r.addressLine2,v=r.city,g=r.county,y=r.country,N=r.website;return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(Ra,{})}),Object(a.jsx)("div",{className:"col col-md-10",children:Object(a.jsxs)("section",{className:"vendor-center",children:[u?Object(a.jsx)("h2",{children:"Loading...."}):Object(a.jsx)("h2",{className:"card-header font-weight-bold",children:" Vendor Information "}),Object(a.jsx)("div",{className:"card  mb-2",children:Object(a.jsx)("div",{className:" card-body mb-1 ",children:Object(a.jsx)(is,{handleSubmit:function(t){t.preventDefault(),j(!0),o(Object(h.a)(Object(h.a)({},r),{},{userId:e._id,email:e.email})),Ea(r,e.token).then((function(t){j(!1),window.alert("Vendor Information is created successfully for ".concat(e.email)),window.location.reload()})).catch((function(e){console.log(e),j(!1),f.b.error(e.response)}))},handleChange:function(e){o(Object(h.a)(Object(h.a)({},r),{},Object($t.a)({},e.target.name,e.target.value))),console.log(e.target.name,".....",e.target.value)},email:e.email,userId:e._Id,user:e,name:m,postcode:b,houseNo:O,addressLine1:p,addressLine2:x,city:v,county:g,country:y,website:N,values:r,setValues:o})})})]})})]})},ds=function(e){var t=e.match,n=Object(l.d)((function(e){return Object(h.a)({},e)})).user,c=Object(s.useState)([]),r=Object(oe.a)(c,2),o=r[0],i=r[1],d=Object(s.useState)(!1),u=Object(oe.a)(d,2),j=u[0],b=u[1],m=t.params.email;console.log("MATCH",t),Object(s.useEffect)((function(){O()}),[]);var O=function(){Ia(n.email).then((function(e){return i(e.data)})).catch((function(e){console.log("No vendor info was found",e)}))};console.log("Authtoken:",n.token);console.log("values from vendor edit",o);var p=o.postcode,x=o.name,v=o.houseNo,g=o.addressLine1,y=o.addressLine2,N=o.city,w=o.county,S=o.country,k=o.website;return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2",children:Object(a.jsx)(Ra,{})}),Object(a.jsx)("div",{className:"col col-md-10",children:Object(a.jsxs)("section",{className:"vendor-center",children:[j?Object(a.jsx)("h2",{children:"Loading...."}):Object(a.jsx)("h2",{className:"card-header font-weight-bold",children:" Edit Vendor Information "}),Object(a.jsx)("div",{className:"card  mb-2",children:Object(a.jsx)("div",{className:" card-body mb-1 ",children:Object(a.jsx)(is,{handleSubmit:function(e){e.preventDefault(),b(!0),console.log("Values before EDIT",o,o.county),Aa(m,o,n.token).then((function(e){b(!1),window.alert("Vendor Information is changed successfully for ".concat(n.email)),window.location.reload()})).catch((function(e){console.log(e),b(!1),f.b.error(e.response)}))},handleChange:function(e){i(Object(h.a)(Object(h.a)({},o),{},Object($t.a)({},e.target.name,e.target.value))),console.log(e.target.name,".....",e.target.value)},handleCity:function(e){i(Object(h.a)(Object(h.a)({},o),{},Object($t.a)({},e.target.name,e.target.value)))},handleCounty:function(e){i(Object(h.a)(Object(h.a)({},o),{},Object($t.a)({},e.target.name,e.target.value)))},email:n.email,name:x,postcode:p,houseNo:v,addressLine1:g,addressLine2:y,city:N,county:w,country:S,website:k,values:o,setValues:i})})})]})})]})},us=n(479),js=n.n(us),bs=function(){var e=Object(s.useState)([]),t=Object(oe.a)(e,2),n=t[0],c=t[1],r=Object(s.useState)(!1),o=Object(oe.a)(r,2),i=o[0],l=o[1];Object(s.useEffect)((function(){d()}),[]);var d=function(){l(!0),Xe().then((function(e){c(e.data),l(!1)})).catch((function(e){l(!1),console.log(e)}))};return Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"row ml-0 text-align-top",children:[Object(a.jsx)("div",{className:"col-md-2 mt-2 ",children:Object(a.jsx)(gt,{})}),Object(a.jsxs)("div",{className:"col col-md-10",children:[i?Object(a.jsx)("h4",{children:"Loading...."}):Object(a.jsx)("h4",{className:"font-weight-bold",children:"All Vendor Categories"}),Object(a.jsx)("div",{className:"row pb-3",children:n.map((function(e){return Object(a.jsx)("div",{className:"col col-md-4",children:Object(a.jsx)(St,{cat:e})},e._id)}))})]})]})})},ms=function(e){var t=Object(l.d)((function(e){return Object(h.a)({},e)})).user,n=Object(s.useState)([]),c=Object(oe.a)(n,2),o=(c[0],c[1]),i=Object(s.useState)(!1),d=Object(oe.a)(i,2),u=(d[0],d[1]),j=Object(s.useState)(""),b=Object(oe.a)(j,2),m=(b[0],b[1]),O=e.match.params.id;console.log("ID",e.match.params),Object(s.useEffect)((function(){x(),p()}),[]);var p=function(){Xe().then((function(e){return o(e.data)}))},x=function(){$e(O).then((function(e){return m(e.data)})).catch((function(e){console.log(e),f.b.error("No vendor category was found")}))};return Object(a.jsxs)("div",{children:[Object(a.jsx)(_t,{addRoute:"/vendor/vendorcatlist"}),Object(a.jsx)(Dt,{title:"Delete Vendor Categories",content:"Are you sure you want to delete this vendor category?",actions:Object(a.jsxs)(r.a.Fragment,{children:[Object(a.jsx)("button",{onClick:function(){u(!0),console.log("ID & Token",O,t.token),et(O,t.token).then((function(e){u(!1),f.b.success("vendor Category deleted successfully: ".concat(O)),Xe()})).catch((function(e){console.log(e),f.b.error("Could not delete the vendor category for:".concat(O))}))},type:"submit",className:" btn btn-danger primary-button mr-3",children:"Yes"}),Object(a.jsx)(ie.a,{to:"/vendor/vendorcatlist",type:"button",className:"btn btn-secondary primary-button",children:"No"})]}),onDismiss:function(){return C.push("/vendor/vendorcatlist")}})]})},hs=function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t=Object(s.useState)([]),n=Object(oe.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)(!1),i=Object(oe.a)(o,2),d=i[0],u=i[1];Object(s.useEffect)((function(){j()}),[]);var j=function(){u(!0),Ze(e._id).then((function(e){r(e.data),u(!1)})).catch((function(e){u(!1),console.log(e)}))};return Object(a.jsx)("div",{className:"container-fluid",children:Object(a.jsxs)("div",{className:"row ml-0 text-align-top",children:[Object(a.jsx)("div",{className:"col-md-2 mt-2 ",children:Object(a.jsx)(Ra,{})}),Object(a.jsxs)("div",{className:"col col-md-10",children:[Object(a.jsx)("li",{className:"nav-item col d-flex justify-content-center admin-class mb-2",children:Object(a.jsx)(ie.a,{to:"/vendor/vendorcreate",className:"nav-link",children:"Add New Categories"})}),d?Object(a.jsx)("h4",{children:"Loading...."}):Object(a.jsx)("h4",{className:"font-weight-bold",children:" Current Categories"}),Object(a.jsx)("div",{className:"row pb-3",children:c.map((function(e){return Object(a.jsx)("div",{className:"col col-md-4",children:Object(a.jsx)(St,{cat:e})},e._id)}))})]})]})})},Os=n(875),fs=function(e){e.match;var t=Object(l.d)((function(e){return Object(h.a)({},e)})).user,n=Object(s.useState)(""),c=Object(oe.a)(n,2),r=c[0],o=c[1],i=Object(s.useState)([]),d=Object(oe.a)(i,2),u=d[0],j=d[1],O=Object(s.useState)(""),p=Object(oe.a)(O,2),x=(p[0],p[1]),v=Object(s.useState)([]),g=Object(oe.a)(v,2),y=g[0],N=g[1],w=Object(s.useState)([]),S=Object(oe.a)(w,2),k=S[0],_=S[1],C=Object(s.useState)(!1),E=Object(oe.a)(C,2),I=E[0],A=E[1];Object(s.useEffect)((function(){vn().then((function(e){return j(e.data)}))}),[]);var R=function(e){var t="";if(e){var n=e.split("/");n&&n.length&&(t=n[2]+"-"+n[1]+"-"+n[0])}return t},T=function(){var e=Object(m.a)(b.a.mark((function e(){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return A(!0),n=R(r),e.next=4,qc(t._id,n).then((function(e){return x(e.data),A(!1),e.data})).catch((function(e){console.log(e)}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(m.a)(b.a.mark((function e(n){var c,a,s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,T();case 3:c=e.sent,a="",console.log("CURRE DATE",c),c&&(qe()(c.availability[0].start).format("YYYY-MM-DD"),a=qe()(c.availability[0].start).format("DD/MM/YYYY")),s=R(r),r?0===k.length?f.b.error("Please select the slots to book"):a==r?f.b.error("Bookings already exist for this date. Please go to edit bookings"):(A(!0),Pc(t._id,{vendorInfoId:t._id,availability:[{start:s,timeslots:k}]},t.token).then((function(e){A(!1),f.b.success("Successfully created calendar booking")})).catch((function(e){console.log(e),A(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.response)}))):f.b.error("Please select the booking date");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-2 mt-1",children:Object(a.jsx)(Ra,{})}),Object(a.jsxs)("div",{className:"col col-md-10",children:[I?Object(a.jsx)("h2",{children:"Loading....."}):Object(a.jsx)("h2",{className:"font-weight-bold",children:"Add your Availability"}),Object(a.jsxs)("form",{onSubmit:D,children:[Object(a.jsx)("div",{className:"col d-flex justify-content-center",children:Object(a.jsx)(Os.a,{className:"site-calendar-card mt-1 ml-4 h6",placeholder:"Enter booking date",size:"large",format:"DD/MM/YYYY",onChange:function(e,t){return o(t)},disabledDate:function(e){return e&&e.valueOf()<qe()().subtract(NaN)}})}),Object(a.jsx)("br",{}),u&&u.map((function(e,t){return Object(a.jsx)("div",{className:"font-weight-bold d-flex justify-content-center mt-1",children:Object(a.jsxs)("button",{className:y.includes(t)?"btn btn-danger":"btn btn-primary",value:e._id,onClick:function(e){return function(e,t,n){e.preventDefault(),u&&u.map((function(t,c){if(y.includes(n)){var a=Object(Jn.a)(y),s=Object(Jn.a)(k);return a.splice(a.indexOf(n),1),s.splice(a.indexOf(n),1),N(a),void _(s)}if(c!==n)return t;N((function(e){return[].concat(Object(Jn.a)(e),[c])})),_((function(t){return[].concat(Object(Jn.a)(t),[e.target.value])}))}))}(e,0,t)},children:[e.startSlot," - ",e.endSlot," "]})},e._id)})),Object(a.jsxs)("div",{className:"row  mt-3",children:[Object(a.jsx)("div",{className:"col col-md-6 d-flex justify-content-end",children:Object(a.jsx)("button",{className:"btn btn-secondary font-weight-bold",type:"submit",children:" Submit your Availability"})}),Object(a.jsx)("div",{className:"col col-md-6 d-flex justify-content-start",children:Object(a.jsx)(ie.a,{to:"/vendor/vendorcallist/".concat(t._id),type:"button",className:"btn btn-secondary font-weight-bold",children:"Back"})})]})]})]})]})},ps=(Ye.a.Meta,function(e){var t=e.cal,n=new Date(t.availability[0].start).toLocaleDateString();return Object(a.jsxs)(Ye.a,{actions:[Object(a.jsx)(ie.a,{to:"/vendor/vendorcaledit/".concat(t._id),children:Object(a.jsx)(yt.a,{className:"text-warning"})})],children:[Object(a.jsxs)("b",{className:"mb-2",children:["Booking Date: ",n,"    "]}),t.availability[0].timeslots&&t.availability[0].timeslots.map((function(e,t){return Object(a.jsxs)("p",{className:"bg-info font-weight-bold ",children:[e.startSlot,"-",e.endSlot]},e._id+"_"+t)}))]})}),xs=function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t=Object(s.useState)([]),n=Object(oe.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)("false"),i=Object(oe.a)(o,2),d=i[0],u=i[1];Object(s.useEffect)((function(){j()}),[]);var j=function(){u(!0),Uc(e._id).then((function(e){return r(e.data)})),u(!1)};return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)(Ra,{})}),Object(a.jsxs)("div",{className:"col col-md-9 ",children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("li",{className:"col d-flex justify-content-end mb-2 font-weight-bold admin-class",children:Object(a.jsx)(ie.a,{to:"/vendor/vendorcalcreate/".concat(e._id),className:"nav-link font-weight-bold",children:Object(a.jsx)("button",{children:"Add New Calendar Availability"})})}),Object(a.jsx)("li",{className:"col d-flex justify-content-start admin-class mb-2",children:Object(a.jsx)(ie.a,{to:"/vendor/vendorcalbulk/".concat(e._id),className:"nav-link",children:Object(a.jsx)("button",{children:"Add Bulk Booking"})})})]}),d?Object(a.jsx)("h4",{children:"Loading...."}):Object(a.jsx)("h4",{className:"font-weight-bold",children:" Your Current Bookings"}),Object(a.jsx)("div",{className:"row pb-3",children:c.map((function(e){return Object(a.jsx)("div",{className:"col col-md-4",children:Object(a.jsx)(ps,{cal:e})},e._id)}))}),Object(a.jsx)("div",{})]})]})},vs=function(e){var t=e.match,n=Object(l.d)((function(e){return Object(h.a)({},e)})).user,c=Object(s.useState)(""),r=Object(oe.a)(c,2),o=r[0],i=r[1],d=Object(s.useState)([]),u=Object(oe.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)(""),O=Object(oe.a)(m,2),p=O[0],x=O[1],v=Object(s.useState)([]),g=Object(oe.a)(v,2),y=g[0],N=g[1],w=Object(s.useState)([]),S=Object(oe.a)(w,2),k=S[0],_=S[1],C=Object(s.useState)([]),E=Object(oe.a)(C,2),I=E[0],A=E[1],R=Object(s.useState)(!1),T=Object(oe.a)(R,2),D=T[0],L=T[1];Object(s.useEffect)((function(){vn().then((function(e){return N(e.data)}))}),[]),console.log("MATCH",t.params.id),Object(s.useEffect)((function(){Yc(t.params.id).then((function(e){i(e.data.availability[0].start),x(e.data.availability[0].end),_(e.data.availability[0].timeslots)}))}),[]),console.log("Current slots",k);return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-3",children:Object(a.jsx)(Ra,{})}),Object(a.jsxs)("div",{className:"col col-md-9",children:[D?Object(a.jsx)("h2",{children:"Loading...."}):Object(a.jsx)("h2",{className:"font-weight-bold",children:"Update your Availability"}),Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"col d-flex justify-content-center",children:[o&&Object(a.jsx)(Os.a,{className:"site-calendar-card  ml-4 h6",placeholder:"From date",size:"large",defaultValue:qe()(o,"YYYY-MM-DD"),format:"DD/MM/YYYY",onChange:function(e,t){return i(t)},disabledDate:function(e){return e&&e.valueOf()<qe()().subtract(NaN)}}),p&&Object(a.jsx)(Os.a,{className:"site-calendar-card  ml-4 h6",placeholder:"To date",size:"large",defaultValue:qe()(p,"YYYY-MM-DD"),onChange:function(e,t){return x(t)},disabledDate:function(e){return e&&e.valueOf()<qe()().subtract(NaN)}})]}),Object(a.jsx)("br",{}),y&&y.map((function(e,t){return Object(a.jsx)("div",{className:"col  font-weight-bold d-flex justify-content-center mt-1 ",children:Object(a.jsxs)("button",{className:k.some((function(t){return t._id==e._id}))?"btn btn-secondary":I.includes(t)?"btn btn-danger":"btn btn-primary",value:e._id,disabled:k.some((function(t){return t._id==e._id})),onClick:function(e){return function(e,t,n){e.preventDefault(),y&&y.map((function(t,c){if(I.includes(n)){var a=Object(Jn.a)(I),s=Object(Jn.a)(j);return a.splice(a.indexOf(n),1),s.splice(a.indexOf(n),1),A(a),void b(s)}if(c!==n)return t;A((function(e){return[].concat(Object(Jn.a)(e),[c])})),b((function(t){return[].concat(Object(Jn.a)(t),[e.target.value])}))}))}(e,0,t)},children:[e.startSlot," - ",e.endSlot," "]})},e._id)})),Object(a.jsxs)("div",{className:"row ",children:[Object(a.jsx)("div",{className:"col col-md-6 d-flex justify-content-end",children:Object(a.jsx)("button",{className:"btn btn-secondary font-weight-bold",onClick:function(e){if(e.preventDefault(),o)if(0===j.length)f.b.error("Please select the slots to book");else{L(!0);var t=function(e){var t="";if(e&&e.includes("/")){var n=e.split("/");n&&n.length&&(t=n[2]+"-"+n[1]+"-"+n[0])}else t=qe()(e).format("YYYY-MM-DD");return t}(o);Mc(n._id,t,{availability:[{timeslots:j}]},n.token).then((function(e){L(!1),b([]),f.b.success("Timeslots data is updated successfully")})).catch((function(e){console.log(e),L(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.response)}))}else f.b.error("Please select the booking date")},children:" Submit your Availability"})}),Object(a.jsx)("div",{className:"col col-md-6 d-flex justify-content-start",children:Object(a.jsx)(ie.a,{to:"/vendor/vendorcallist/".concat(n._id),type:"button",className:"btn btn-secondary font-weight-bold",children:"Back"})})]})]})]})]})},gs=function(e){var t=e.match;console.log("NOW in bulk timeslots",t.params);var n=Object(l.d)((function(e){return Object(h.a)({},e)})).user,c=Object(s.useState)([]),r=Object(oe.a)(c,2),o=r[0],i=r[1],d=Object(s.useState)([]),u=Object(oe.a)(d,2),j=u[0],b=u[1],m=Object(s.useState)(!1),O=Object(oe.a)(m,2),p=(O[0],O[1]),x=Object(s.useState)(""),v=Object(oe.a)(x,2),g=v[0],y=v[1],N=[];Object(s.useEffect)((function(){vn().then((function(e){return i(e.data)}))}),[]);return Object(a.jsx)("div",{className:"row",children:Object(a.jsx)("div",{className:"col col-md-12 d-flex justify-content-center",children:Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"row",children:[Object(a.jsxs)("h6",{className:"font-weight-bold mt-2 mb-2 mr-3",children:["Bulk booking from : ",qe()(t.params.fromDate).format("DD/MM/YYYY")]}),Object(a.jsxs)("h6",{className:"font-weight-bold mt-2 mb-2 ml-3",children:["To :  ",qe()(t.params.toDate).format("DD/MM/YYYY")]})]}),o&&o.map((function(e,t){return Object(a.jsx)("div",{className:"font-weight-bold d-flex justify-content-center mt-1",children:Object(a.jsxs)("button",{className:g.includes(t)?"btn btn-danger":"btn btn-primary",value:e._id,onClick:function(e){return function(e,t,n){e.preventDefault(),o&&o.map((function(t,c){if(g.includes(n)){var a=Object(Jn.a)(g),s=Object(Jn.a)(j);return a.splice(a.indexOf(n),1),s.splice(a.indexOf(n),1),y(a),void b(s)}if(c!==n)return t;y((function(e){return[].concat(Object(Jn.a)(e),[c])})),b((function(t){return[].concat(Object(Jn.a)(t),[e.target.value])}))}))}(e,0,t)},children:[e.startSlot," - ",e.endSlot," "]})},e._id)})),Object(a.jsx)("div",{className:"row  mt-3",children:Object(a.jsx)("div",{className:"col col-md-12 d-flex justify-content-center",children:Object(a.jsx)("button",{className:"btn btn-secondary font-weight-bold",onClick:function(e){e.preventDefault();var c=qe()(t.params.toDate).diff(qe()(t.params.fromDate),"days");console.log("NO OF days",c);for(var a=0;a<c;a++)N.push(qe()(t.params.fromDate).add(a,"days")+1);console.log("DAYS",N);for(var s=0;s<N.length;s++)Gc(n._id,{vendorInfoId:n._id,timeslots:j,start:N[s]},n.token).then((function(e){console.log(e.data)})).catch((function(e){console.log(e),p(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.response)}));p(!1),f.b.success("Successfully created bulk calendar bookings")},children:" Submit your Bulk Availability"})})})]})})})},ys=function(){var e=Object(l.d)((function(e){return Object(h.a)({},e)})).user,t=Object(s.useState)(""),n=Object(oe.a)(t,2),c=n[0],r=n[1],o=Object(s.useState)(""),i=Object(oe.a)(o,2),d=i[0],u=i[1],j=Object(s.useState)(!1),b=Object(oe.a)(j,2),m=(b[0],b[1]),O=[];return Object(a.jsxs)("div",{className:"row",children:[Object(a.jsx)("div",{className:"col col-md-3 mt-1",children:Object(a.jsx)(Ra,{})}),Object(a.jsxs)("div",{className:" col col-md-9 mt-2 ",children:[Object(a.jsx)("h2",{className:"font-weight-bold",children:"Add your Bulk Booking"}),Object(a.jsxs)("form",{children:[Object(a.jsxs)("div",{className:"col d-flex justify-content-center",children:[Object(a.jsx)(Os.a,{className:"site-calendar-card mt-2 ml-4 h6",placeholder:"Enter booking start date",size:"large",onChange:function(e,t){return r(t)},disabledDate:function(e){return e&&e.valueOf()<qe()().subtract(NaN)}}),Object(a.jsx)(Os.a,{className:"site-calendar-card mt-2 ml-4 h6",placeholder:"Enter booking end date",size:"large",onChange:function(e,t){return u(t)},disabledDate:function(e){return e&&e.valueOf()<qe()().subtract(NaN)}})]}),Object(a.jsxs)("div",{className:"row mb-4",children:[Object(a.jsx)("div",{className:"col d-flex justify-content-end mt-3",children:Object(a.jsx)(ie.a,{to:"/vendor/bulktimeslots/".concat(e._id,"/").concat(c,"/").concat(d),className:"btn btn-primary font-weight-bold",children:"Submit your Bulk Availability"})}),Object(a.jsx)("div",{className:"col d-flex justify-content-start mt-3",children:Object(a.jsx)("button",{className:"btn btn-danger font-weight-bold",onClick:function(t){t.preventDefault(),m(!0);var n=qe()(d).diff(qe()(c),"days")+1;console.log("NO OF days",n);for(var a=0;a<n;a++)O.push(qe()(c).add(a,"days")+1);console.log("DAYS",O);for(var s=0;s<=O.length;s++)Bc(e._id,{vendorInfoId:e._id,start:O[s]},e.token).then((function(e){console.log(e.data)})).catch((function(e){console.log(e),m(!1),400===e.response?f.b.error(e.response.data):f.b.error(e.response)}));m(!1),f.b.success("Successfully created bulk calendar bookings")},children:" Submit your Bulk Unavailability"})})]}),Object(a.jsx)("div",{className:"row mt-4 d-flex justify-content-center",children:Object(a.jsx)("p",{className:"font-weight-bold ",children:" *Book block dates of all slots available or your holiday/unavailable dates"})})]})]})]})},Ns=function(e){e.history;console.log("IN stripe callback page....");var t=Object(l.c)(),n=Object(l.d)((function(e){return Object(h.a)({},e)})).user;console.log("USER",n),console.log("USER from stripe callback",n.token),Object(s.useEffect)((function(){n&&n.token&&c()}),[n]);var c=function(){var e=Object(m.a)(b.a.mark((function e(){var c,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("User token before call to fUNC",n.token),e.next=5,wc(n.token);case 5:c=e.sent,console.log("USER ACCOUNT STATUS STRIPE CALLBACK",c.data),a={_id:c.data._id,email:c.data.email,name:c.data.name,role:c.data.role,picture:c.data.picture,address:c.data.address,cart:c.data.cart,stripe_account_id:c.data.stripe_account_id,stripe_seller:c.data.stripe_seller,stripeSession:c.data.stripeSession,token:n.token},hc(c.data,(function(){t({type:"LOGGED_IN_USER",payload:a}),window.location.href="/vendor/dashboard"})),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"d-flex justify-content-center p-5",children:[Object(a.jsx)("h1",{children:" In callback page.... "}),Object(a.jsx)(cs.a,{className:"display-1 p5 text-danger"})]})},ws=function(e){var t=e.match,n=e.history,c=Object(l.d)((function(e){return Object(h.a)({},e)})).user,r=Object(l.c)();return console.log("VENDOR FROM success page",t.params.vendor),console.log("user TOKEN",c.token,t.params.vendor),Object(s.useEffect)((function(){Ec(c.token,t.params.vendor).then((function(e){e&&e.data&&e.data.ok?(console.log("RES",e.data),"undefined"!==typeof window&&localStorage.removeItem("cart"),r({type:"ADD_TO_CART",payload:[]}),mc(c.token),console.log("RES from stripe success",e.data),n.push("/user/history")):n.push("/stripe/cancel")}))}),[t.params.vendor]),Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)(cs.a,{className:"display-1 text-danger p-5"})})})},Ss=function(){return Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"col",children:Object(a.jsx)("h2",{className:"p5",children:"Payment Failed. Please try again..."})})})},ks=Object(l.b)(null,c)((function(){var e=Object(l.c)(),t=Object(l.d)((function(e){return Object(h.a)({},e)})).user;return Object(s.useEffect)((function(){var t=y.onAuthStateChanged(function(){var t=Object(m.a)(b.a.mark((function t(n){var c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=5;break}return t.next=3,n.getIdTokenResult();case 3:c=t.sent,ja(c.token).then((function(t){return e({type:R,payload:{name:t.data.name,email:t.data.email,token:c.token,role:t.data.role,_id:t.data._id,address:t.data.address,createdAt:t.data.createdAt,stripe_account_id:t.data.stripe_account_id,stripe_seller:t.data.stripe_seller,stripeSession:t.data.stripeSession}})})).catch((function(e){return console.log(e)}));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());return function(){return t()}}),[]),k.a.interceptors.response.use((function(e){return e}),(function(t){return new Promise((function(n,c){if(t&&t.response&&401===t.response.status){var a=y.onAuthStateChanged(function(){var a=Object(m.a)(b.a.mark((function a(s){return b.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(!s){a.next=3;break}return a.next=3,s.getIdToken(!0).then((function(a){ja(a).then((function(s){e({type:R,payload:{name:s.data.name,email:s.data.email,token:a,role:s.data.role,_id:s.data._id,address:s.data.address,createdAt:s.data.createdAt,stripe_account_id:s.data.stripe_account_id,stripe_seller:s.data.stripe_seller,stripeSession:s.data.stripeSession}}),t.config.headers.authtoken=a,k.a.request(t.config).then((function(e){n(e)})).catch((function(e){console.log(e),c(e)}))})).catch((function(e){console.log(e),c(e)}))})).catch((function(e){console.log(e),c(e)}));case 3:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}());return function(){return a()}}throw t}))})),Object(a.jsx)("div",{className:"App",children:Object(a.jsxs)(O.c,{history:C,children:[Object(a.jsx)(Kn,{}),Object(a.jsx)(vc,{}),Object(a.jsx)(f.a,{}),Object(a.jsxs)(O.d,{children:[Object(a.jsx)(O.b,{path:"/login",exact:!0,component:ma}),Object(a.jsx)(O.b,{path:"/register",exact:!0,component:ha}),Object(a.jsx)(O.b,{path:"/registercomplete",exact:!0,component:Oa}),Object(a.jsx)(O.b,{path:"/vendorregister",exact:!0,component:pa}),Object(a.jsx)(O.b,{path:"/vendorregistercomplete",exact:!0,component:xa}),Object(a.jsx)(O.b,{path:"/forgot/password",exact:!0,component:fa}),Object(a.jsx)(O.b,{path:"/",exact:!0,component:ze}),Object(a.jsx)(O.b,{path:"/vendor",exact:!0,component:Za}),Object(a.jsx)(O.b,{path:"/allvendors",exact:!0,component:vt}),Object(a.jsx)(O.b,{path:"/vendorcat/:slug",exact:!0,component:sa}),Object(a.jsx)(O.b,{path:"/vendordetails/:id",exact:!0,component:aa}),Object(a.jsx)(O.b,{path:"/shop",exact:!0,component:oc}),Object(a.jsx)(O.b,{path:"/cart",exact:!0,component:pc}),t&&"admin"===t.role?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ja,{path:"/admin/dashboard",exact:!0,component:kt}),Object(a.jsx)(Ja,{path:"/admin/categories/categoriescreate",exact:!0,component:It}),Object(a.jsx)(Ja,{path:"/admin/categories/categorieslist",exact:!0,component:Rt}),Object(a.jsx)(Ja,{path:"/admin/categories/categoriesedit/:slug",exact:!0,component:Tt}),Object(a.jsx)(Ja,{path:"/admin/categories/categoriesdelete/:slug",component:Lt}),Object(a.jsx)(Ja,{path:"/admin/subcategories/subcategoriescreate",exact:!0,component:Pt}),Object(a.jsx)(Ja,{path:"/admin/subcategories/subcategorieslist",exact:!0,component:Ut}),Object(a.jsx)(Ja,{path:"/admin/subcategories/subcategoriesdelete/:slug",component:Ft}),Object(a.jsx)(Ja,{path:"/admin/subcategories/subcategoriesedit/:slug",component:Vt}),Object(a.jsx)(Ja,{path:"/admin/questions/questionscreate",exact:!0,component:Zt}),Object(a.jsx)(Ja,{path:"/admin/questions/questionslist",component:tn}),Object(a.jsx)(Ja,{path:"/admin/questions/questionsedit/:id",component:nn}),Object(a.jsx)(Ja,{path:"/admin/questions/questionsdelete/:id",component:cn}),Object(a.jsx)(Ja,{path:"/vendor/vendorsinfolist",exact:!0,component:js.a}),Object(a.jsx)(Ja,{path:"/vendor/vendorcatlist",exact:!0,component:bs}),Object(a.jsx)(Ja,{path:"/admin/subcatquestions/subcatquestionscreate",component:jn}),Object(a.jsx)(Ja,{path:"/admin/subcatquestions/subcatquestionsedit/:id",component:mn}),Object(a.jsx)(Ja,{path:"/admin/subcatquestions/subcatquestionsdelete/:id",component:On}),Object(a.jsx)(Ja,{path:"/admin/subcatquestions/subcatquestionslist",exact:!0,component:fn}),Object(a.jsx)(Ja,{path:"/admin/vendor",exact:!0,component:Da}),Object(a.jsx)(Ja,{path:"/admin/timeslot/timeslotcreate",exact:!0,component:wn}),Object(a.jsx)(Ja,{path:"/admin/timeslot/listslots",exact:!0,component:Sn}),Object(a.jsx)(Ja,{path:"/admin/timeslot/editslot/:id",exact:!0,component:kn}),Object(a.jsx)(Ja,{path:"/admin/timeslot/deleteslot/:id",exact:!0,component:_n}),Object(a.jsx)(Ja,{path:"/admin/areas/addareas",exact:!0,component:Tn}),Object(a.jsx)(Ja,{path:"/admin/areas/listareas",exact:!0,component:Dn})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ka,{path:"/vendor/vendorcreate",exact:!0,component:as}),Object(a.jsx)(Ka,{path:"/vendor/vendoredit/:id",exact:!0,component:os}),Object(a.jsx)(Ka,{path:"/user/history",exact:!0,component:ka}),Object(a.jsx)(Ka,{path:"/user/userpassword",exact:!0,component:_a}),Object(a.jsx)(Ka,{exact:!0,path:"/vendor/dashboard",component:Za}),Object(a.jsx)(Ka,{path:"/vendor/password",exact:!0,component:Ta}),Object(a.jsx)(Ka,{path:"/vendor/vendordetails",exact:!0,component:Qa}),Object(a.jsx)(Ka,{path:"/vendor/vendorcategories",exact:!0,component:Ha}),Object(a.jsx)(Ka,{path:"/vendor/vendorcatdelete/:id",exact:!0,component:ms}),Object(a.jsx)(Ka,{path:"/vendor/vendorcatlistuser/:userid",exact:!0,component:hs}),Object(a.jsx)(Ka,{path:"/vendor/vendorinfocreate",exact:!0,component:ls}),Object(a.jsx)(Ka,{path:"/vendor/vendorinfoedit/:email",exact:!0,component:ds}),Object(a.jsx)(Ka,{path:"/vendor/vendorcalcreate/:userid",exact:!0,component:fs}),Object(a.jsx)(Ka,{path:"/vendor/vendorcallist/:userid",exact:!0,component:xs}),Object(a.jsx)(Ka,{path:"/vendor/vendorcaledit/:id",exact:!0,component:vs}),Object(a.jsx)(Ka,{path:"/vendor/vendorcalbulk/:id",exact:!0,component:ys}),Object(a.jsx)(Ka,{path:"/vendor/bulktimeslots/:id/:fromDate/:toDate",exact:!0,component:gs}),Object(a.jsx)(Ka,{path:"/checkout",exact:!0,component:Ic}),Object(a.jsx)(Ka,{path:"/payment",exact:!0,component:Dc}),Object(a.jsx)(Ka,{path:"/bookvendor/:id",exact:!0,component:Wc}),Object(a.jsx)(Ka,{path:"/selectslot/:vendor/:selectedvalue",exact:!0,component:Jc}),Object(a.jsx)(Ka,{path:"/stripe/callback",component:Ns}),Object(a.jsx)(Ka,{path:"/stripesuccess/:vendor",component:ws}),Object(a.jsx)(Ka,{path:"/stripecancel",component:Ss})]})]})]})})})),_s=n(885),Cs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t.type===D?t.payload||!1:e},Es=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("Action values from reducer 1:",t.type),t.type){case F:return console.log("Action values from reducer 2:",e),Object(h.a)(Object(h.a)({},e),{},Object($t.a)({},t.payload.id,t.payload));case V:return Object(h.a)(Object(h.a)({},e),mt.a.mapKeys(t.payload,"_id"));case Z:return Object(h.a)(Object(h.a)({},e),{},{subcategoryName:t.payload});case Y:return Object(h.a)(Object(h.a)({},e),{},Object($t.a)({},t.payload.id,t.payload));case M:return mt.a.omit(e,t.payload);default:return e}},Is=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(console.log("Action:",t.type),t.type){case Z:return Object(h.a)(Object(h.a)({},e),{},{subcategoryName:t.payload});case $:return Object(h.a)(Object(h.a)({},e),{},{questionName:t.payload});default:return e}},As=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(console.log("Action values from question reducer :",t),t.type){case B:return Object(h.a)(Object(h.a)({},e),{},Object($t.a)({},t.payload.id,t.payload));case G:return Object(h.a)(Object(h.a)({},e),mt.a.mapKeys(t.payload,"_id"));case $:return Object(h.a)(Object(h.a)({},e),{},{questionName:t.payload});case Q:return Object(h.a)(Object(h.a)({},e),{},Object($t.a)({},t.payload.id,t.payload));case H:return mt.a.omit(e,t.payload);default:return e}},Rs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return Object(h.a)(Object(h.a)({},e),{},Object($t.a)({},t.payload.id,t.payload));case K:return console.log("Action values from reducer 3:",t),Object(h.a)(Object(h.a)({},e),mt.a.mapKeys(t.payload,"_id"));case J:return Object(h.a)(Object(h.a)({},e),{},Object($t.a)({},t.payload.id,t.payload));case X:return mt.a.omit(e,t.payload);default:return e}},Ts=[],Ds=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ts,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I:return[].concat(Object(Jn.a)(e),[t.payload]);case A:return e.filter((function(e){return e.id!=t.payload}));default:return e}};window.localStorage.getItem("user")?(Ya=JSON.parse(window.localStorage.getItem("user")),console.log("USER STATE from REDUCER",JSON.stringify(Ya))):Ya=null;var Ls=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ya,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:case T:return t.payload;default:return e}},qs=[];"undefined"!=typeof window&&(qs=localStorage.getItem("cart")?JSON.parse(localStorage.getItem("cart")):[]);var Ps=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qs,t=arguments.length>1?arguments[1]:void 0;return"ADD_TO_CART"===t.type?t.payload:e},Us=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"SET_VISIBLE"===t.type?t.payload:e},Fs=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"SELECTED_DAY"===t.type?t.payload:e},Vs={timeslotsval:[]},Ys=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vs,t=arguments.length>1?arguments[1]:void 0;if("SELECTED_TIMESLOT"===t.type){var n=e.timeslotsval,c=mt.a.uniqWith(n,mt.a.isEqual),a=c.findIndex((function(e){return e.tstimeslot[0]._id===t.payload.tstimeslot[0]._id}));c.push(t.payload);var s=c.filter((function(e){return e.tsday==t.payload.tsday}));if(a>-1){var r=mt.a.uniqWith(s,mt.a.isEqual);r.splice(a,1)}return Object(h.a)(Object(h.a)({},e),{},{timeslotsval:(null===r||void 0===r?void 0:r.length)||a>-1?r:s})}return e},Ms=Object(d.combineReducers)({alert:Ds,auth:Cs,user:Ls,cart:Ps,drawer:Us,search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{text:""},t=arguments.length>1?arguments[1]:void 0;return"SEARCH_QUERY"===t.type?Object(h.a)(Object(h.a)({},e),t.payload):e},form:_s.a,categories:en,subcategories:Es,util:Is,questions:As,subquestion:Rs,dayval:Fs,timeslotsval:Ys}),Bs=(n(848),window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||d.compose),Gs=Object(d.createStore)(Ms,Bs(Object(d.applyMiddleware)(u.a)));i.a.render(Object(a.jsx)(l.a,{store:Gs,children:Object(a.jsx)(ks,{})}),document.querySelector("#root"))}},[[849,1,2]]]);
//# sourceMappingURL=main.614cd7e8.chunk.js.map