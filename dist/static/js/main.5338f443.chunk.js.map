{"version":3,"sources":["config/keys.js","firebase.js","history.js","apis/addressDistance.js","actions/types.js","actions/index.js","actions/category.js","actions/subcategory.js","components/utils/ListSubcategories.js","components/utils/GetSubcategories.js","components/utils/PostcodeSearch.js","components/cards/Jumbotron.js","components/Mainbody.js","components/Mainpage.js","actions/vendor.js","actions/rating.js","components/cards/VendorCard.js","components/cards/LoadingCard.js","components/home/GetAllVendors.js","components/navigation/AdminNav.js","components/cards/AdminVendorCard.js","components/admin/AdminDashboard.js","components/admin/AdminMenu.js","components/vendor/VendorField.js","components/admin/Categories/CategoriesForm.js","components/admin/Categories/CategoriesCreate.js","components/utils/searchBar.js","components/admin/Categories/CategoriesList.js","components/admin/Categories/CategoriesEdit.js","components/Modal.js","components/admin/Categories/CategoriesDelete.js","components/admin/Subcategories/SubcategoriesForm.js","components/admin/Subcategories/SubcategoriesCreate.js","components/admin/Subcategories/SubcategoriesList.js","components/admin/Subcategories/SubcategoriesDelete.js","components/admin/Subcategories/SubcategoriesEdit.js","components/admin/Questions/QuestionsForm.js","actions/questions.js","components/admin/Questions/QuestionsCreate.js","reducers/categoryReducer.js","components/admin/Questions/QuestionsList.js","components/admin/Questions/QuestionsEdit.js","components/admin/Questions/QuestionsDelete.js","components/admin/SubcategoryQuestions/SubcategoryQuestionsForm.js","actions/subcatquestions.js","components/admin/SubcategoryQuestions/SubcategoryQuestionsCreate.js","components/admin/SubcategoryQuestions/SubcategoryQuestionsEdit.js","components/admin/SubcategoryQuestions/SubcategoryQuestionsDelete.js","components/admin/SubcategoryQuestions/SubcategoryQuestionsList.js","actions/timeslot.js","components/admin/Timeslot/TimeslotCreate.js","components/admin/Timeslot/TimeSlotList.js","components/admin/Timeslot/TimeslotEdit.js","components/admin/Timeslot/TimeslotDelete.js","actions/area.js","components/admin/Area/AreaLoad.js","components/admin/Area/ListAreas.js","components/common/cmh_new.png","components/utils/Search.js","components/Header.js","components/Footer.js","components/utils/Star.js","components/utils/Shop.js","components/cards/VendorCardCheckout.js","actions/user.js","components/Cart.js","components/drawer/SideDrawer.js","actions/stripe.js","components/pages/Checkout.js","components/stripe/StripeCheckout.js","components/pages/Payment.js","actions/vendorCalendar.js","components/booking/RenderTimeslot.js","components/booking/SelectTimeslot.js","components/booking/SelectCalendar.js","components/pages/BookVendor.js","components/cards/VendorListItems.js","components/Modal/StarRatingModal.js","components/cards/SingleVendor.js","components/home/VendorDetails.js","components/home/GetVendorsSubcat.js","actions/auth.js","components/login/Login.js","components/login/Register.js","components/login/RegisterComplete.js","components/login/ForgotPassword.js","components/login/VendorRegister.js","components/login/VendorRegisterComplete.js","components/navigation/UserNav.js","components/navigation/ConnectNav.js","components/cards/ShowPaymentInfo.js","components/user/UserHistory.js","components/order/Invoice.js","components/user/UserPassword.js","actions/vendorInfo.js","components/navigation/VendorNav.js","components/vendor/VendorPassword.js","components/admin/Vendor.js","components/utils/CalendarBooking.js","components/vendor/VendorProducts/VendorForm.js","components/vendor/VendorCategories.js","reducers/userReducer.js","components/vendor/VendorNew.js","components/admin/VendorCategories.js","components/vendor/VendorProducts/PostcodeValues.js","components/routes/UserRoute.js","components/routes/AdminRoute.js","components/vendor/VendorDashboard.js","components/utils/FileUpload.js","components/vendor/VendorProducts/VendorCreate.js","components/vendor/VendorProducts/VendorUpdateForm.js","components/vendor/VendorProducts/VendorEdit.js","components/vendor/VendorInfo/VendorInfoForm.js","components/vendor/VendorInfo/VendorInfoCreate.js","components/vendor/VendorInfo/VendorInfoEdit.js","components/admin/Vendors/VendorCatList.js","components/admin/Vendors/VendorCatDelete.js","components/vendor/VendorProducts/VendorListUser.js","components/vendor/VendorCalendar/VendorCalendarCreate.js","components/cards/VendorCalCard.js","components/vendor/VendorCalendar/VendorCalendarList.js","components/vendor/VendorCalendar/VendorCalendarEdit.js","components/vendor/VendorCalendar/BulkTimeslots.js","components/vendor/VendorCalendar/VendorCalendarBulk.js","components/stripe/StripeCallback.js","components/stripe/StripeSuccess.js","components/stripe/StripeCancel.js","components/App.js","reducers/authReducer.js","reducers/subcategoryReducer.js","reducers/utilReducer.js","reducers/questionReducer.js","reducers/subcatQuestionReducer.js","reducers/alertReducer.js","reducers/cartReducer.js","reducers/drawerReducer.js","reducers/dayReducer.js","reducers/timeslotReducer.js","reducers/index.js","reducers/searchReducer.js","index.js"],"names":["module","exports","FIREBASE_API_KEY","FIREBASE_APP_ID","MESSAGING_SENDER_ID","AUTH_DOMAIN","PROJECT_ID","STORAGE_BUCKET","REACT_APP_STRIPE_KEY","GOOGLE_MAPS_API_KEY","MAPBOX_TOKEN","firebaseConfig","apiKey","keys","authDomain","projectId","storageBucket","messagingSenderId","appId","firebase","apps","length","initializeApp","console","log","auth","googleAuthProvider","GoogleAuthProvider","facebookAuthProvider","FacebookAuthProvider","createBrowserHistory","axios","create","baseURL","SET_ALERT","REMOVE_ALERT","LOGGED_IN_USER","LOGOUT","FETCH_USER","CREATE_CATEGORY","FETCH_CATEGORIES","EDIT_CATEGORY","DELETE_CATEGORY","CREATE_SUBCATEGORY","FETCH_SUBCATEGORIES","EDIT_SUBCATEGORY","DELETE_SUBCATEGORY","CREATE_QUESTION","FETCH_QUESTIONS","EDIT_QUESTION","DELETE_QUESTION","CREATE_SUBCAT_QUESTION","FETCH_SUBCAT_QUESTIONS","EDIT_SUBCAT_QUESTION","DELETE_SUBCAT_QUESTION","FETCH_CATEGORIES_NAME","FETCH_SUBCATEGORIES_NAME","FETCH_QUESTIONS_NAME","ROOT_URL","fetchDistance","dispatch","a","addressDistance","get","res","type","payload","data","fetchUser","fetchSubcategoriesName","fetchQuestionsName","submitVendor","values","history","post","submitVendorCategories","window","location","href","fetchCategories","fetchCategory","slug","addCategory","formvalues","authtoken","headers","push","editCategory","formValues","put","deleteCategory","delete","fetchCategorySubs","_id","addSubcategory","fetchSubcategories","fetchSubcategory","editSubcategory","deleteSubcategory","fetchSubcatVendors","ListSubcategories","props","useState","subcat","setSubcat","useEffect","then","map","subcategoryval","category","categoryValue","className","to","name","GetSubcategories","Select","Option","subcategories","setSubcategories","setSubcategory","style","height","onChange","subcategory","value","s","PostcodeSearch","handleChange","address","setState","handleSelect","geocodeByAddress","results","getLatLng","latLng","catch","error","searchOptions","componentRestrictions","country","state","justify","span","this","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","position","display","placeholder","width","zIndex","suggestion","i","active","backgroundColor","cursor","description","id","marginLeft","SearchOutlined","Component","GoogleApiWrapper","Jumbotron","text","options","strings","autoStart","loop","MainBody","Card","Meta","categories","setCategories","getSubcat","categoryval","src","imgURL","size","align","MainPage","Mainbody","addVendor","getAllVendorCategories","page","getVendorsByCount","count","getVendorCategoriesUser","userid","getVendorCategory","cat","deleteVendor","updateVendor","getVendors","order","getVendorsTotal","vendorRating","star","getRelatedVendors","vendor","getVendorsByFilter","arg","showAverageRating","ratings","ratingsArray","total","r","result","reduce","p","n","rating","starDimension","starSpacing","starRatedColor","editing","VendorCard","useSelector","user","cart","subcats","tooltip","setTooltip","vendorInfoId","images","price","pricetype","useDispatch","fetchSubcats","sub","cover","url","objectFit","actions","EyeOutlined","title","onClick","localStorage","getItem","JSON","parse","unique","_","uniqWith","isEqual","setItem","stringify","ShoppingCartOutlined","LoadingCard","totalCards","cardNums","GetAllVendors","vendors","setVendors","setLoading","setPage","vendorsTotal","setVendorsTotal","loadAllVendorCats","current","AdminNav","AdminVendorCard","EditOutlined","DeleteOutlined","substring","AdminDashboard","loadVendorCategories","err","AdminMenu","addRoute","VendorField","input","label","meta","touched","CategoriesForm","handleSubmit","setName","setImgURL","onSubmit","e","target","autoFocus","CategoriesCreate","preventDefault","token","toast","success","response","SearchBar","keyword","setKeyword","toLowerCase","CategoriesList","getCategories","filter","includes","searchValue","CategoriesEdit","match","params","getCategory","Modal","ReactDOM","createPortal","onDismiss","tabIndex","role","stopPropagation","content","document","querySelector","CategoriesDelete","Fragment","message","SubcategoriesForm","setCategory","catval","selected","SubcategoriesCreate","SubcategoriesList","setSub","getSubcategories","SubcategoriesDelete","setSubcats","getSubcats","handleDelete","SubcategoriesEdit","QuestionsForm","question","setQuestion","setOptions","Form","useForm","autoComplete","onFinish","onFinishFailed","errorInfo","layout","Item","setFieldsValue","rules","required","Message","List","fields","add","remove","field","index","fieldKey","MinusCircleOutlined","block","icon","PlusOutlined","htmlType","addQuestion","fetchQuestions","fetchQuestion","deleteQuestion","QuestionsCreate","categoryReducer","action","mapKeys","categoryName","categoryId","QuestionsList","questions","setQuestions","getQuestions","questionVal","optionVal","option","QuestionsEdit","loadQuestion","QuestionsDelete","getQuestion","qs","q","SubcategoryQuestionsForm","subOptions","setSubOptions","loadCategories","loadQuestions","categoryVal","fetchSubcatQuestions","fetchSubcatQuestion","editSubcatQuestion","patch","deleteSubcatQuestion","SubcategoryQuestionsCreate","addSubcatQuestion","SubcategoryQuestionsEdit","connect","ownProps","subquestion","subquestions","SubcategoryQuestionsDelete","renderContent","renderActions","SubcategoryQuestionList","subcatquestions","setSubcatquestions","loadSubcatQuestions","subquestionval","questionval","optionval","addTimeslot","fetchTimeslots","fetchTimeslot","editTimeslot","deleteTimeslot","TimeslotCreate","startslot","setStartslot","endslot","setEndslot","TimeslotList","timeslots","setTimeslots","loadTimeslots","t","startSlot","endSlot","TimeslotEdit","loadTimeslot","TimeslotDelete","getTimeslots","addArea","fetchAreas","fetchCities","fetchCounties","city","AreaLoad","setAreas","ListAreas","areas","area","county","Search","search","useHistory","SubMenu","Menu","Header","setCurrent","stateVal","handleClick","key","selectedKeys","mode","HomeOutlined","ShoppingOutlined","offset","LoginOutlined","UserSwitchOutlined","UserAddOutlined","SettingOutlined","email","split","LogoutOutlined","signOut","removeItem","logo","alt","Footer","Star","starClicked","numberOfStars","changeRating","starHoverColor","Shop","ItemGroup","didMountRef","useRef","undefined","setPrice","ok","setOk","setStar","setSelectedArea","loadVendors","loadSubcategories","v","delay","setTimeout","loadVendorsByFilter","query","clearTimeout","handleFilters","scrollTo","top","left","behavior","handleCategoryChange","catInState","catChecked","catAlreadyInState","indexOf","splice","handleStarClicked","num","selectedStars","alreadySelectedStars","stars","defaultOpenKeys","onPlaceSelected","place","color","formatted_address","place_id","tipFormatter","range","max","shape","CloseOutlined","fontSize","DownSquareOutlined","marginTop","c","checked","StarOutlined","float","paddingLeft","handleSubCategory","VendorCardCheckout","small","large","bookingDate","bookingSlots","bslot","tstimeslot","tslot","CloseCircleOutlined","userCart","cartval","getuserCart","emptyUserCart","updateUserInLocalStorage","next","userval","picture","stripe_account_id","stripe_seller","stripeSession","createOrder","stripeResponse","getUserOrders","Cart","scope","currentValue","nextValue","disabled","pathname","from","SideDrawer","drawer","onClose","visible","createConnectAccount","getAccountStatus","getAccountBalance","payoutSettings","createPaymentIntent","getSessionId","vendorId","stripeSuccessRequest","Checkout","setTotal","cartTotal","userId","sessionId","loadStripe","redirectToCheckout","StripeCheckout","succeeded","setSucceeded","setError","processing","setProcessing","setDisabled","clientSecret","setClientSecret","stripe","useStripe","elements","useElements","setCartTotal","confirmCardPayment","payment_method","card","getElement","CardElement","billing_details","empty","PoundOutlined","base","fontFamily","fontSmoothing","invalid","iconColor","Payment","fetchVendorCalendarCurrent","start","addVendorCalendar","fetchVendorCalendar","fetchVendorCalendarVend","vendorid","fetchVendorCalendarDate","end","readVendorCalendar","editVendorCalendar","startdate","addBulkBooking","addBulkAvail","RenderTimeslot","timeslotval","day","currentslots","dayval","timeslotsval","setColor","slots","moment","availability","format","some","slot","tsday","SelectTimeslot","selectedvalue","setCurrentslots","vendata","setVendata","days","startDate","endDate","_d","timeslot","selectedValue","fetchDates","SelectCalendar","Date","setValue","setSelectedValue","onPanelChange","disabledDate","valueOf","subtract","BookVendor","vendorCal","setVendorCal","VendorListItems","StarRatingModal","children","modalVisible","setModalVisible","useParams","centered","onOk","onCancel","TabPane","Tabs","SingleVendor","onRatingClick","showArrows","autoPlay","infiniteLoop","public_id","noOfStars","isSelectable","tab","VendorDetails","setVendor","related","setRelated","loadVendorDetails","existingRatingObject","find","postedBy","toString","newRating","GetVendorsSubcat","loadSubcat","loadVendorsSubcat","createOrUpdateUser","createOrUpdateVendor","currentUser","adminUser","Login","setEmail","password","setPassword","roleBasedRedirect","userPage","signInWithEmailAndPassword","getIdTokenResult","idTokenResult","createdAt","googleLogin","signInWithPopup","facebookLogin","htmlFor","MailOutlined","GoogleOutlined","FacebookOutlined","Register","config","process","handleCodeInApp","sendSignInLinkToEmail","RegisterComplete","signInWithEmailLink","emailVerified","updatePassword","ForgotPassword","sendPasswordResetEmail","VendorRegister","VendorRegisterComplete","emailVal","prompt","UserNav","Ribbon","Badge","ConnectNav","balance","setBalance","loadAccountBalance","handlePayoutSettings","avatar","fromNow","charges_enabled","pending","bal","amount","toLocaleString","currency","ShowPaymentInfo","session","customer","toUpperCase","amount_total","payment_method_types","payment_status","orderStatus","UserHistory","StyleSheet","body","paddingTop","paddingBottom","paddingHorizontal","textAlign","author","marginBottom","subtitle","margin","image","marginVertical","marginHorizontal","header","footer","padding","pageNumber","bottom","right","orders","setOrders","loadUserOrders","showOrdersInTable","UserPassword","addVendorInfo","fetchVendorInfo","editVendorInfo","VendorNav","VendorPassword","Vendor","CalendarBooking","setAvailability","Calendar","CalendarTemplate","VendorForm","vendorName","setValues","showSubs","pricetypes","calendar","setCalendar","showCalendar","rows","userState","formWrapped","reduxForm","validate","errors","areascovered","form","destroyOnUnmount","withRouter","vendorForm","vendorCategories","Field","component","bindActionCreators","VendorNew","showVendorCategories","onVendorSubmit","VendorCategories","UserRoute","rest","AdminRoute","admin","setAdmin","VendorDashboard","ToolOutlined","FileUpload","filteredImages","item","multiple","hidden","accept","files","allUploadedFiles","Resizer","imageFileResizer","uri","VendorCreate","initialState","setShowSubs","setvendor","getVendorInfo","LoadingOutlined","alert","reload","VendorUpdateForm","arrOfSubIds","setArrOfSubIds","selectedCategory","VendorEdit","setSelectedCategory","loadVendorCategory","arr","prev","setvalues","postcode","houseNo","addressLine1","addressLine2","handleCounty","handleCity","website","cities","setCities","counties","setCounties","handleCityChange","cityval","countyval","VendorInfoCreate","VendorInfoForm","_Id","VendorInfoEdit","VendorCatList","VendorCatDelete","loadAllVendorCategories","VendorListUser","loadVendorCategoriesUser","VendorCalendar","fromDate","setFromDate","setCurrentBooking","clicked","setClicked","caldata","setCaldata","getDateForApiFormat","dateStr","dtstr","dtArr","loadCurrentBookings","currentBooking","currentDateStr","date","dateString","temp","tempCal","prevArray","VendorCalCard","cal","toLocaleDateString","ts","VendorCalendarList","loadVendorCalendar","VendorCalendarEdit","toDate","setToDate","currentSlots","setCurrentSlots","defaultValue","BulkTimeslots","noOfDaysA","diff","j","VendorCalendarBulk","noOfDaysU","StripeCallback","loadAccountStatus","StripeSuccess","StripeCancel","unsubscribe","onAuthStateChanged","interceptors","use","Promise","resolve","reject","status","getIdToken","idtoken","request","d","ex","path","exact","Mainpage","VendorsInfoList","SubcategoryQuestionsList","VendorCalendarCreate","authReducer","subcategoryReducer","subcategoryName","omit","utilReducer","questionName","questionReducer","subcatQuestionReducer","alertReducer","userReducer","cartReducer","drawerReducer","dayReducer","timeslotReducer","findIndex","x","uniquevar","combineReducers","formReducer","util","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","reducers","applyMiddleware","thunk","render"],"mappings":"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","file":"static/js/main.5338f443.chunk.js","sourcesContent":["module.exports = {\r\n    FIREBASE_API_KEY: \"AIzaSyA_KHXFqKk-IwtpaQQ8yPHzZUQVcPj8nh0\",\r\n    FIREBASE_APP_ID: \"1:943507420902:web:3235c53c4819733c12ad27\",\r\n    MESSAGING_SENDER_ID: \"943507420902\",\r\n    AUTH_DOMAIN: \"comparemyhelper.firebaseapp.com\",\r\n    PROJECT_ID: \"comparemyhelper\",\r\n    STORAGE_BUCKET: \"comparemyhelper.appspot.com\",\r\n    REACT_APP_STRIPE_KEY: \"pk_test_51IPs17FDnJ8TWcoKlw8jCBw7eqGYikCgmvZvdBiROKfvgmUTcOQfJNrKG3iaDv4VOpPkhV1GR9vVyU0hEqyvmbJ800fOkWiyXe\",\r\n    GOOGLE_MAPS_API_KEY: \"AIzaSyAG4N6GONCjaMkk-QnJw1eHeConkKFrzGY\",\r\n    MAPBOX_TOKEN: \"pk.eyJ1IjoiYWxrYWsyMiIsImEiOiJja2xyenNkOWwwNWIzMnhvZ3FxdjMxeXlkIn0.5Eclccm8YZaDz58d35Widw\"\r\n}","import firebase from \"firebase/app\";\r\nimport \"firebase/auth\";\r\nimport keys from \"./config/keys\";\r\n\r\n  // Your web app's Firebase configuration\r\n  const firebaseConfig = {\r\n    apiKey: keys.FIREBASE_API_KEY,\r\n    authDomain: keys.AUTH_DOMAIN,\r\n    projectId: keys.PROJECT_ID,\r\n    storageBucket: keys.STORAGE_BUCKET,\r\n    messagingSenderId: keys.MESSAGING_SENDER_ID,\r\n    appId: keys.FIREBASE_APP_ID\r\n  };\r\n  // Initialize Firebase\r\n  if (!firebase.apps.length) {\r\n  firebase.initializeApp(firebaseConfig);\r\n  }\r\n\r\n  console.log(\"AUTH\",firebaseConfig);\r\n  //export auth provider\r\n\r\n  export const auth = firebase.auth();\r\n  export const googleAuthProvider = new firebase.auth.GoogleAuthProvider();\r\n  export const facebookAuthProvider = new firebase.auth.FacebookAuthProvider();\r\n\r\n \r\n\r\n\r\n\r\n\r\n  \r\n  ","import { createBrowserHistory } from \"history\";\r\n\r\nexport default createBrowserHistory();","import axios from \"axios\";\r\n\r\nexport default axios.create(\r\n  { baseURL: \"https://maps.googleapis.com/maps/api/distancematrix\"}\r\n);\r\n","//create types for alerts\r\nexport const SET_ALERT = 'SET_ALERT';\r\nexport const REMOVE_ALERT= 'REMOVE_ALERT';\r\n\r\n//create types for users\r\nexport const LOGGED_IN_USER = \"LOGGED_IN_USER\";\r\nexport const LOGOUT= \"LOGOUT\";\r\n\r\nexport const FETCH_USER = 'fetch_user';\r\nexport const FETCH_DISTANCE = 'fetch_distance';\r\nexport const SUBMIT_VENDOR = \"submit_vendor\";\r\n\r\n//create types for categories\r\nexport const CREATE_CATEGORY = \"CREATE_CATEGORY\";\r\nexport const FETCH_CATEGORIES = \"FETCH_CATEGORIES\";\r\nexport const FETCH_CATEGORY = \"FETCH_CATEGORY\";\r\nexport const EDIT_CATEGORY = \"EDIT_CATEGORY\";\r\nexport const DELETE_CATEGORY = \"DELETE_CATEGORY\";\r\n\r\n//create types for subcategories\r\nexport const CREATE_SUBCATEGORY = \"CREATE_SUBCATEGORY\";\r\nexport const FETCH_SUBCATEGORIES = \"FETCH_SUBCATEGORIES\";\r\nexport const FETCH_SUBCATEGORY = \"FETCH_SUBCATEGORY\";\r\nexport const EDIT_SUBCATEGORY = \"EDIT_SUBCATEGORY\";\r\nexport const DELETE_SUBCATEGORY = \"DELETE_SUBCATEGORY\";\r\nexport const FETCH_SUBCATEGORIES_CATEGORIES = \"FETCH_SUBCATEGORIES_CATEGORIES\";\r\n\r\n//create types for questions master\r\nexport const CREATE_QUESTION = \"CREATE_QUESTION\";\r\nexport const FETCH_QUESTIONS = \"FETCH_QUESTIONS\";\r\nexport const FETCH_QUESTION =  \"FETCH_QUESTION\";\r\nexport const EDIT_QUESTION = \"EDIT_QUESTION\";\r\nexport const DELETE_QUESTION = \"DELETE_QUESTION\";\r\n\r\n//create types for subcategory questions\r\nexport const CREATE_SUBCAT_QUESTION = \"CREATE_SUBCAT_QUESTION\";\r\nexport const FETCH_SUBCAT_QUESTIONS = \"FETCH_SUBCAT_QUESTIONS\";\r\nexport const FETCH_SUBCAT_QUESTION = \"FETCH_SUBCAT_QUESTION\";\r\nexport const EDIT_SUBCAT_QUESTION = \"EDIT_SUBCAT_QUESTION\";\r\nexport const DELETE_SUBCAT_QUESTION = \"DELETE_SUBCAT_QUESTION\";\r\n\r\n//create types for utils\r\nexport const FETCH_CATEGORIES_NAME= \"FETCH_CATEGORIES_NAME\";\r\nexport const FETCH_SUBCATEGORIES_NAME= \"FETCH_SUBCATEGORIES_NAME\";\r\nexport const FETCH_QUESTIONS_NAME= \"FETCH_QUESTIONS_NAME\";\r\n","import axios from \"axios\";\r\nimport { formValues } from \"redux-form\";\r\nimport history from \"../history\";\r\nimport addressDistance from \"../apis/addressDistance\";\r\nimport {\r\n  FETCH_USER,\r\n  FETCH_DISTANCE,\r\n  SUBMIT_VENDOR,\r\n  CREATE_VENDOR,\r\n  FETCH_CATEGORIES_NAME,\r\n  FETCH_SUBCATEGORIES_NAME,\r\n  FETCH_SUBCATEGORIES_CATEGORIES,\r\n  FETCH_QUESTIONS_NAME,\r\n  CREATE_QUESTION,\r\n  FETCH_QUESTIONS,\r\n  FETCH_QUESTION,\r\n  DELETE_QUESTION,\r\n  EDIT_QUESTION,\r\n  CREATE_SUBCAT_QUESTION,\r\n  FETCH_SUBCAT_QUESTIONS,\r\n  FETCH_SUBCAT_QUESTION,\r\n  EDIT_SUBCAT_QUESTION,\r\n  DELETE_SUBCAT_QUESTION\r\n} from \"./types\";\r\nconst ROOT_URL = 'http://localhost:5000';\r\n\r\nexport const fetchDistance = () => async dispatch => {\r\n  const res = await addressDistance.get(\"/json?origins\");\r\n  dispatch({ type: FETCH_DISTANCE, payload: res.data });\r\n};\r\n\r\nexport const fetchUser = () => async (dispatch) => {\r\n  const res = await axios.get(\"/api/current_user\");\r\n  dispatch({ type: FETCH_USER, payload: res.data });\r\n};\r\n\r\n\r\n//fetching the list of subcategory names\r\nexport const fetchSubcategoriesName = () => async dispatch => {\r\n  const res = await axios.get(`${ROOT_URL}/api/subcategory`);\r\n  dispatch({ type: FETCH_SUBCATEGORIES_NAME, payload: res.data });\r\n}\r\n\r\n\r\n// fetching the list of questions\r\nexport const fetchQuestionsName = () => async dispatch => {\r\n  const res = await axios.get(`${ROOT_URL}/api/questions`);\r\n  dispatch({ type: FETCH_QUESTIONS_NAME, payload: res.data });\r\n}\r\n\r\n\r\n\r\n\r\n//action creator for Vendors\r\nexport const submitVendor = (values, history) => async dispatch => {\r\n  console.log(\"values from vendor action creator:\", values);\r\n  const res = await axios.post(`${ROOT_URL}/api/vendor`, values);\r\n  //  history.push(\"/\");\r\n  //  window.location.href = '/'\r\n  dispatch({ type: SUBMIT_VENDOR, payload: res.data });\r\n};\r\n\r\nexport const submitVendorCategories = (values, history) => async dispatch => {\r\n  const res = await axios.post(`${ROOT_URL}/api/vendorcategories`, values);\r\n  //  history.push(\"/\");\r\n  window.location.href = '/'\r\n};\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import axios from \"axios\";\r\nimport history from \"../history\";\r\nimport { CREATE_CATEGORY,\r\n         FETCH_CATEGORIES,\r\n         FETCH_CATEGORY,\r\n         FETCH_CATEGORIES_NAME,\r\n         EDIT_CATEGORY,\r\n         DELETE_CATEGORY}\r\n from \"../actions/types\";\r\n\r\n const ROOT_URL = 'http://localhost:5000';\r\n//action creators for Categories master\r\n\r\nexport const fetchCategories =  async () =>  {\r\n    return await axios.get(`${ROOT_URL}/api/categories`);  \r\n    console.log(\"Category values\") ;  \r\n   };\r\n\r\n\r\nexport const fetchCategory = async (slug) =>  {\r\n    return await axios.get(`${ROOT_URL}/api/category/${slug}`);\r\n    // dispatch({type: FETCH_CATEGORY, payload:res.data });\r\n  };\r\n\r\n   //fetching the list of category names\r\nexport const fetchCategoriesName = () => async dispatch => {\r\n    const res= await axios.get(`${ROOT_URL}/api/category`);  \r\n    dispatch({type: FETCH_CATEGORIES_NAME, payload: res.data });    \r\n   };\r\n\r\n  export const addCategory =  async (formvalues, authtoken) =>  {\r\n    const res = await axios.post(`${ROOT_URL}/api/category`,formvalues,\r\n    {headers: {authtoken}});\r\n     // dispatch({type: CREATE_CATEGORY, payload: res.data });\r\n    history.push(\"/admin/categories/categorieslist\");\r\n  };\r\n\r\n  export const editCategory = async (slug, formValues, authtoken)  => {\r\n      const res= await axios.put(`${ROOT_URL}/api/category/${slug}`,formValues,\r\n       {headers: {authtoken }});\r\n       console.log(\"Response from edit\",res);\r\n    //   dispatch({type:EDIT_CATEGORY, payload: res.data });\r\n     history.push(\"/admin/categories/categorieslist\"); \r\n   };  \r\n \r\nexport const deleteCategory = async (slug, authtoken) =>  {\r\n  console.log(\"auth and slug\", slug, authtoken);\r\n  const res= await axios.delete(`${ROOT_URL}/api/category/${slug}`,\r\n   { headers: {authtoken} }); \r\n   history.push(\"/admin/categories/categorieslist\");\r\n  };\r\n\r\n  export const fetchCategorySubs = async (_id) =>  {\r\n    return await axios.get(`${ROOT_URL}/api/category/subcat/${_id}`);   \r\n  };\r\n\r\n \r\n","import axios from \"axios\";\r\nimport history from \"../history\";\r\n\r\nconst ROOT_URL = 'http://localhost:5000';\r\n\r\n//action creator for Subcategory Master\r\nexport const addSubcategory = async (values, authtoken) => {\r\n  const res = await axios.post(`${ROOT_URL}/api/subcategory`, values,\r\n    { headers: { authtoken } });\r\n  history.push(\"/admin/subcategories/subcategorieslist\");\r\n};\r\n\r\nexport const fetchSubcategories = async () => {\r\n  return await axios.get(`${ROOT_URL}/api/subcategories`);\r\n};\r\n\r\nexport const fetchSubcategory = async (slug) => {\r\n  return await axios.get(`${ROOT_URL}/api/subcategory/${slug}`);\r\n};\r\n\r\nexport const editSubcategory = async (slug, formValues, authtoken) => {\r\n  console.log(\"Formvalues from edit subcategory\", formValues);\r\n  const res = await axios.put(`${ROOT_URL}/api/subcategory/${slug}`, formValues,\r\n    { headers: { authtoken } });\r\n  console.log(\"Response from edit subcat\", res);\r\n  history.push(\"/admin/subcategories/subcategorieslist\");\r\n};\r\n\r\nexport const deleteSubcategory = async (slug, authtoken) => {\r\n  await axios.delete(`${ROOT_URL}/api/subcategory/${slug}`,\r\n    { headers: { authtoken } });\r\n  history.push(\"/admin/subcategories/subcategorieslist\");\r\n};\r\n\r\nexport const fetchSubcatVendors = async (slug) => {\r\n  return await axios.get(`${ROOT_URL}/api/subcategories/vendor/${slug}`);\r\n}\r\n\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {fetchSubcategories} from \"../../actions/subcategory\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst ListSubcategories = (props) => \r\n{  \r\n const [subcat, setSubcat] = useState([]);\r\n\r\n useEffect( () => {    \r\n     fetchSubcategories().then ( (res) => setSubcat(res.data));\r\n },[]);\r\n\r\n\r\n   const renderSubcategories= () => {        \r\n    return(\r\n      subcat.map( subcategoryval => {\r\n          if(subcategoryval.category._id) {\r\n             if (subcategoryval.category._id === props.categoryValue) {\r\n             return(\r\n              <div  key= {subcategoryval._id} className= \"mb-1\">\r\n                 <Link to= {`/vendorcat/${subcategoryval.slug}`} >{subcategoryval.name} </Link>\r\n               </div>\r\n             ) }\r\n           }\r\n           } )\r\n         )\r\n     }\r\n    \r\n    return (\r\n      <div >\r\n         {renderSubcategories()}             \r\n      </div>\r\n    );\r\n\r\n}\r\nexport default ListSubcategories;\r\n\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {fetchSubcategories} from \"../../actions/subcategory\";\r\nimport {Select} from \"antd\";\r\nconst {Option} = Select;\r\n\r\nconst GetSubcategories= () => {\r\n\r\n    const [subcategories, setSubcategories] = useState([]);\r\n    const [subcategory,setSubcategory]= useState(\"\");\r\n\r\n    useEffect(() => {\r\n        fetchSubcategories().then(res => setSubcategories(res.data));\r\n    },[]);\r\n\r\n return(                  \r\n    <select \r\n         name= \"subcategory\"   \r\n         className= \"form-control mt-3 mb-3 ml-4 font-weight-bold h6\"\r\n         style={{height:\"50px\"}}         \r\n         onChange= { subcategory => setSubcategory(subcategory)}\r\n     > \r\n    <option value=\"\">Select a Sub Category</option>                  \r\n   { subcategories && subcategories.map( (s) => {\r\n   return (  <option key= {s._id} value= {s._id}>\r\n          {s.name}\r\n     </option> ) }\r\n   )}\r\n   </select> \r\n\r\n )    \r\n\r\n}\r\n\r\nexport default GetSubcategories;","import React, { Component } from \"react\";\r\nimport { Map, Marker, GoogleApiWrapper } from \"google-maps-react\";\r\nimport PlacesAutocomplete, { geocodeByAddress, getLatLng, } from 'react-places-autocomplete';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { Card, Row, Col } from \"antd\";\r\nimport { FontSizeOutlined, SearchOutlined } from \"@ant-design/icons\";\r\nimport moment from \"moment\";\r\nimport keys from \"../../config/keys\";\r\nimport GetSubcategories from \"./GetSubcategories\";\r\n\r\nexport class PostcodeSearch extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { address: '' };\r\n  }\r\n\r\n  handleChange = address => {\r\n    this.setState({ address });\r\n  };\r\n\r\n  handleSelect = address => {\r\n    geocodeByAddress(address)\r\n      .then(results => {\r\n        getLatLng(results[0])\r\n          .then(latLng => {\r\n            console.log('Success', latLng);\r\n            this.setState({ address })\r\n            console.log(\"Results\", results);\r\n          })\r\n      })\r\n      .catch(error => console.error('Error', error));\r\n  };\r\n\r\n  searchOptions = {\r\n    componentRestrictions: { country: ['gb'] }\r\n  }\r\n\r\n\r\n  render() {\r\n    return (\r\n      <Row justify=\"center\">\r\n        <Col span={5} >\r\n          <PlacesAutocomplete\r\n            value={this.state.address}\r\n            onChange={this.handleChange}\r\n            onSelect={this.handleSelect}\r\n            searchOptions={this.searchOptions}\r\n          >\r\n            {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n              <Col style={{ position: \"static\", display: \"inline-block\" }}>\r\n                <input\r\n                  {...getInputProps({\r\n                    placeholder: 'Search a Location ...',\r\n                    className: 'location-search-input mt-3 mb-3 font-weight-bold h6',\r\n                    style: { height: \"50px\", width: \"100%\" }\r\n                  })}\r\n                />\r\n                <Col span={32} style={{ position: \"absolute\", zIndex: 1 }} className=\"autocomplete-dropdown-container\">\r\n                  {loading && <div>Loading...</div>}\r\n                  {suggestions.map((suggestion, i) => {\r\n                    const className = suggestion.active\r\n                      ? 'suggestion-item--active'\r\n                      : 'suggestion-item';\r\n                    // inline style for demonstration purpose\r\n                    const style = suggestion.active\r\n                      ? { backgroundColor: '#fafafa', cursor: 'pointer' }\r\n                      : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                    return (\r\n                      <Col span={32}\r\n                        key={i + \"_\" + suggestion.id}\r\n                        {...getSuggestionItemProps(suggestion, {\r\n                          className,\r\n                          style\r\n                        })}\r\n                      >\r\n                        <span>{suggestion.description}</span>\r\n                      </Col>\r\n                    );\r\n                  })}\r\n                </Col>\r\n\r\n              </Col>\r\n            )}\r\n\r\n          </PlacesAutocomplete>\r\n        </Col>\r\n        <Col span={5}  >\r\n          <GetSubcategories />\r\n        </Col>\r\n\r\n        <Col span={1}\r\n          className=\"h3 mt-3\" style={{marginLeft : '50px'}}  >\r\n          <SearchOutlined />\r\n        </Col>\r\n      </Row>\r\n\r\n    )\r\n  }\r\n}\r\n\r\nexport default GoogleApiWrapper({\r\n  apiKey: keys.GOOGLE_MAPS_API_KEY\r\n})(PostcodeSearch);","import React from \"react\";\r\nimport Typewriter from \"typewriter-effect\";\r\n\r\nconst Jumbotron= ({text}) => ( \r\n    <Typewriter \r\n       options= {{\r\n           strings:text,\r\n           autoStart: true,\r\n           loop: true\r\n       }} \r\n    />  \r\n)\r\n\r\nexport default Jumbotron;","import React, {useState, useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {fetchCategories} from \"../actions/category\";\r\nimport {fetchSubcategories} from \"../actions/subcategory\";\r\nimport ListSubcategories from \"./utils/ListSubcategories\";\r\nimport {Carousel} from \"react-responsive-carousel\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport PostcodeSearch from \"./utils/PostcodeSearch\";\r\nimport {Avatar,Card, Col,Row} from \"antd\";\r\nimport Jumbotron from \"./cards/Jumbotron\";\r\n\r\nconst {Meta} = Card;\r\nconst gridStyle = {\r\n  width: '50%',\r\n  height:'200px',\r\n  textAlign: 'left',\r\n  border: 'none',   \r\n};\r\n\r\nconst MainBody = () => {\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  \r\n  useEffect( () => {\r\n    getSubcat();\r\n  },[]);\r\n\r\n  const getSubcat= () => {\r\n    fetchCategories().then( res => setCategories(res.data));\r\n  }\r\n  const renderFields= () => {\r\n     return(\r\n     \r\n     categories && categories.map( categoryval => {    \r\n        if (categoryval._id)  { \r\n           return (            \r\n              // <div className= \"col col-md-4 main-class font-weight-bold p-1 d-flex justify-content-right \"\r\n              <Col span={8}\r\n                  key= {categoryval._id}\r\n                  className= \"main-class font-weight-bold p-1 d-flex\"\r\n                   >         \r\n                  <Col span={8} push={1}>\r\n                      \r\n                   <Link to= {`/vendordetails/${categoryval.slug}`} \r\n                        className= \"font-weight-bold h5  text-dark ml-2\">\r\n                       {categoryval.name}\r\n                    </Link> \r\n                    </Col>     \r\n                 <Col span={12}\r\n                      className= \"btn btn-raised font-weight-bold mt-2\">\r\n                 <ListSubcategories \r\n                        categoryValue = {categoryval._id} />  \r\n                </Col>  \r\n                <Col span={8} className= \"ml-4\">\r\n                <Avatar                  \r\n                    src= {categoryval.imgURL}\r\n                    size= {100}\r\n                    className=\"category-img\"\r\n                  />\r\n                </Col>               \r\n                </Col>                              \r\n                //  </div>                                                 \r\n           ) \r\n          }\r\n        }) \r\n    ) }    \r\n  \r\n return (\r\n <>\r\n <section className=\"feature-class\" id=\"features\">\r\n <Col className= \"font-weight-bold mt-2\">           \r\n         <PostcodeSearch />\r\n </Col>          \r\n \r\n  </section>\r\n  \r\n  <section className= \"content-section\" >     \r\n   <Row>\r\n       {renderFields()}     \r\n   </Row>         \r\n  </section>   \r\n  \r\n   <section className =\"testimonial-section\">\r\n  <Row align=\"middle\">\r\n   <Col span={24} className= \"jumbotron-fluid font-weight-bold h1 text-danger mb-1 d-flex justify-content-center\">\r\n          <Jumbotron\r\n             text= {[\"We will find the best helper for your needs\",\r\n                     \"Compare the price to find the most affordable helper\",\r\n                     \"So easy to use that you will have your help sorted in minutes\"]}\r\n           />         \r\n  </Col>\r\n  </Row>\r\n   \r\n   </section>\r\n </>\r\n  )\r\n}\r\n\r\n\r\nexport default MainBody;\r\n","import React from \"react\";\r\nimport Mainbody from \"./Mainbody\";\r\n\r\nfunction MainPage()\r\n{\r\n    return(\r\n     <div>\r\n       <Mainbody />\r\n    </div>\r\n    );\r\n}\r\nexport default MainPage;\r\n","import axios from \"axios\";\r\nimport history from \"../history\";\r\n\r\nconst ROOT_URL = 'http://localhost:5000';\r\n\r\nexport const addVendor = async (formvalues, authtoken) => {\r\n  const res = await axios.post(`${ROOT_URL}/api/vendor`, formvalues,\r\n    { headers: { authtoken } });\r\n  history.push(`/vendor/vendorcatlist`);\r\n};\r\n\r\nexport const getAllVendorCategories = async (page) => {\r\n  return await axios.get(`${ROOT_URL}/api/vendors`);\r\n}\r\n\r\nexport const getVendorsByCount = async (count) => {\r\n  return await axios.get(`${ROOT_URL}/api/vendors/count/${count}`);\r\n}\r\n\r\nexport const getVendorCategoriesUser = async (userid, page) => {\r\n  console.log(`user from actions`, userid);\r\n  return await axios.get(`${ROOT_URL}/api/vendors/user/${userid}`, { page });\r\n}\r\n\r\nexport const getVendorCategory = async (id) => {\r\n  const cat = await axios.get(`${ROOT_URL}/api/vendor/${id}`);\r\n  console.log(`Category from getvendorcategory`, cat);\r\n  return (cat);\r\n}\r\n\r\nexport const deleteVendor = async (id, authtoken) => {\r\n  console.log(`auth and id`, id, authtoken);\r\n  const res = await axios.delete(`${ROOT_URL}/api/vendor/${id}`,\r\n    { headers: { authtoken } });\r\n  console.log(`value of RES`, res);\r\n  history.push(`/vendor/vendorcatlist`);\r\n};\r\n\r\nexport const updateVendor = async (id, formvalues, authtoken) => {\r\n  const res = await axios.put(`${ROOT_URL}/api/vendor/${id}`, formvalues,\r\n    { headers: { authtoken } });\r\n  history.push(`/vendor/vendorcatlist`);\r\n};\r\n\r\nexport const getVendors = async (order, page) => {\r\n  return await axios.post(`${ROOT_URL}/api/vendors`, { order, page });\r\n}\r\n\r\nexport const getVendorsTotal = async () => {\r\n  return await axios.get(`${ROOT_URL}/api/vendors/total`);\r\n};\r\n\r\nexport const vendorRating = async (id, star, authtoken) => {\r\n  const res = await axios.post(`${ROOT_URL}/api/vendor/rating/${id}`, { star },\r\n    { headers: { authtoken } });\r\n};\r\n\r\nexport const getRelatedVendors = async (id) => {\r\n  const vendor = await axios.get(`${ROOT_URL}/api/vendors/related/${id}`);\r\n  console.log(`vendors from getRelatedVendors`, vendor);\r\n  return (vendor);\r\n}\r\n\r\nexport const getVendorsByFilter = async (arg) => {\r\n  return await axios.post(`${ROOT_URL}/api/search/filters`, arg);\r\n}\r\n\r\n\r\n","import React from \"react\";\r\nimport StarRating from \"react-star-ratings\";\r\n\r\nexport const showAverageRating=  (vendor) => {\r\n    if (vendor && vendor.ratings) {\r\n        let ratingsArray= vendor && vendor.ratings;\r\n        let total= [];\r\n        let length= ratingsArray.length;\r\n     \r\n        ratingsArray.map( (r) => total.push(r.star))\r\n        let totalReduced= total.reduce( (p,n) =>  p+n,0);\r\n       \r\n        let highest = length * 5;\r\n       \r\n        let result= (totalReduced * 5)/ highest;\r\n      \r\n\r\n        return (\r\n          <div className= \"d-flex justify-content-center  pt-1 pb-3\">\r\n            <span>\r\n                <StarRating \r\n                    rating= {result}\r\n                    starDimension= \"20px\"\r\n                    starSpacing= \"2px\"\r\n                    starRatedColor= \"red\"\r\n                    editing={false}\r\n                />{\" \"}\r\n                ({vendor.ratings.length})\r\n            </span>\r\n\r\n          </div>\r\n\r\n        )\r\n    }\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { Card, Tooltip } from \"antd\";\r\nimport { EyeOutlined, ShoppingCartOutlined } from \"@ant-design/icons\";\r\nimport { showAverageRating } from \"../../actions/rating\";\r\nimport _ from \"lodash\";\r\n\r\nconst { Meta } = Card;\r\nconst VendorCard = ({ vendor }) => {\r\n\r\n  const { user, cart } = useSelector((state) => ({ ...state }));\r\n\r\n  const [subcats, setSubcats] = useState([]);\r\n  const [tooltip, setTooltip] = useState('Click to add');\r\n  const { _id, vendorInfoId, images, description, subcategories, price, pricetype } = vendor;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    fetchSubcats();\r\n  }, []);\r\n\r\n  const fetchSubcats = () => {\r\n    subcategories.map((sub) => {\r\n      <div key={sub._id}>\r\n        setSubcats(sub.name||\",\")\r\n      </div>\r\n    })\r\n  }\r\n\r\n  const handleAddToCart = () => {\r\n    let cart = [];\r\n    //check if the cart already has an item\r\n    if (typeof window !== \"undefined\") {\r\n      if (localStorage.getItem(\"cart\")) {\r\n        cart = JSON.parse(localStorage.getItem(\"cart\"))\r\n      }\r\n      cart.push({\r\n        ...vendor,\r\n        count: 1\r\n      })\r\n      let unique = _.uniqWith(cart, _.isEqual);\r\n      console.log(unique);\r\n      localStorage.setItem(\"cart\", JSON.stringify(unique));\r\n      setTooltip(\"Added\");\r\n\r\n      //add to redux store\r\n      dispatch({\r\n        type: \"ADD_TO_CART\",\r\n        payload: unique\r\n      });\r\n      dispatch({\r\n        type: \"SET_VISIBLE\",\r\n        payload: true\r\n      });\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"border rounded m-2\">\r\n      {vendor && vendor.ratings && vendor.ratings.length > 0\r\n        ? showAverageRating(vendor)\r\n        : <div className=\"d-flex justify-content-center mt-1 mb-3\">\"No rating yet\"</div>\r\n      }\r\n      <Card cover={\r\n        <img src={images && images.length ? images[0].url : \"\"}\r\n          style={{ height: \"180px\", objectFit: \"cover\" }}\r\n        />\r\n      }\r\n        actions={[<Link to={`/vendordetails/${_id}`}>\r\n          <EyeOutlined className=\"text-warning\" /> <br />View Vendor Details\r\n        </Link>,\r\n        <Tooltip title={tooltip}>\r\n          <a onClick={handleAddToCart}>\r\n            <ShoppingCartOutlined className=\"text-info\" /><br />Select Vendor\r\n          </a>\r\n        </Tooltip>\r\n        ]}\r\n      >\r\n        <Meta title={`${vendorInfoId.name}-£${price} ${pricetype}`} description={subcats} />\r\n      </Card>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VendorCard;","import React from \"react\";\r\nimport {Card,Skeleton} from \"antd\";\r\n\r\nconst LoadingCard = ({count}) => {\r\n    \r\n    const cardNums= () => {\r\n      let totalCards = [];\r\n      for(let i=0; i<count; i++) {\r\n          totalCards.push(\r\n            <Card className= \"col col-md-4\" key={i}>\r\n              <Skeleton active ></Skeleton>\r\n            </Card>\r\n          )\r\n      }\r\n       return totalCards;\r\n    }    \r\n\r\n   return (\r\n       <div className= \"row pb-5\">\r\n           {cardNums()}\r\n       </div>\r\n   )\r\n}\r\n\r\nexport default LoadingCard;","import React, {useState, useEffect} from \"react\";\r\nimport {getVendors, getVendorsTotal} from \"../../actions/vendor\";\r\nimport VendorCard from \"../cards/VendorCard\";\r\nimport LoadingCard from \"../cards/LoadingCard\";\r\nimport {Pagination} from \"antd\";\r\n\r\nconst GetAllVendors= () => {\r\n\r\n    const [vendors, setVendors] = useState([]);\r\n    const [loading,setLoading] = useState(false);\r\n    const [page,setPage] = useState(1);\r\n    const [vendorsTotal, setVendorsTotal]= useState(0);\r\n\r\n    useEffect( () => {\r\n      loadAllVendorCats();\r\n    },[page]);\r\n\r\n    useEffect( () => {\r\n        getVendorsTotal().then( res => setVendorsTotal(res.data));\r\n    },[]);\r\n\r\n    const loadAllVendorCats= () => {\r\n        setLoading(true);\r\n        getVendors(\"desc\",page).then ( res => setVendors(res.data) );\r\n        setLoading(false);\r\n    }\r\n\r\n    return (\r\n    <div>\r\n        \r\n        <div className= \"container\">\r\n         \r\n          { loading ? <LoadingCard  count= {4}/> \r\n                    : \r\n            <div className=\"row mb-2\">\r\n              {vendors.map( (vendor) => {\r\n                return(\r\n                <div className= \"col col-md-4\" key={vendor._id}>\r\n                  <VendorCard  vendor= {vendor}/>\r\n                </div>\r\n                )\r\n              })}       \r\n            </div>\r\n          }           \r\n      </div>\r\n       <div className=\"row\">\r\n         <nav className= \"col col-md-4 offset-md-4 pt-5 p-3 d-flex justify-content-center\">\r\n        \r\n         <Pagination  current= {page}\r\n                    total= {(vendorsTotal / 3) * 10}\r\n                    onChange={ (value) => setPage(value)}\r\n          />         \r\n          </nav>\r\n          \r\n        </div>\r\n    </div>\r\n    )   \r\n\r\n}\r\n\r\nexport default GetAllVendors;","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst AdminNav = () => {\r\n\r\n  return(\r\n    <nav className=\"navbar mt-3 navlist\">\r\n      <ul className= \"nav flex-column font-weight-bold \">\r\n      <li className= \"nav-item mb-3\" >\r\n          <Link to= \"/admin/categories/categorieslist\">CATEGORIES</Link>\r\n       </li>\r\n       <li className= \"nav-item mb-3\" >\r\n          <Link to= \"/admin/subcategories/subcategorieslist\">SUB CATEGORIES</Link>\r\n        </li>\r\n        <li className= \"nav-item mb-3\" >\r\n          <Link to= \"/admin/questions/questionslist\">QUESTIONS</Link>\r\n        </li>\r\n        <li className= \"nav-item mb-3\" >\r\n          <Link to= \"/admin/subcatquestions/subcatquestionslist\">SUB CATEGORY QUESTIONS</Link>\r\n        </li>\r\n        <li className= \"nav-item mb-3\" >\r\n          <Link to=\"/vendor/vendorsinfolist\">VENDORS</Link>\r\n        </li>\r\n        <li className= \"nav-item mb-3\" >\r\n          <Link to=\"/vendor/vendorcatlist\">VENDOR CATEGORIES</Link>\r\n        </li>\r\n        <li className= \"nav-item mb-3\" >\r\n          <Link to=\"/vendor/vendorpassword\">VENDOR PASSWORD</Link>\r\n        </li>\r\n        <li className= \"nav-item mb-3\" >\r\n          <Link to=\"/user/userpassword\">USER PASSWORD </Link>\r\n        </li>\r\n        <li className= \"nav-item mb-3\" >\r\n          <Link to=\"/admin/timeslot/listslots\">MANAGE TIMESLOTS</Link>\r\n        </li>\r\n        <li className= \"nav-item mb-3\" >\r\n          <Link to=\"/admin/areas/listareas\">UPLOAD AREAS</Link>\r\n        </li>\r\n     </ul>\r\n    </nav>\r\n  )\r\n}\r\n\r\nexport default AdminNav;","import React from \"react\";\r\nimport {Card} from \"antd\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { DeleteOutlined, EditOutlined } from \"@ant-design/icons\";\r\n\r\nconst {Meta} = Card;\r\n\r\nconst AdminVendorCard = ({cat}) => {\r\n    const {vendorInfoId, description, category, subcategories,images,_id} = cat;\r\n  return (\r\n      <Card  cover= {\r\n          <img src= { images && images.length ? images[0].url : \"\"} \r\n               style= {{ height: \"150px\", objectFit: \"cover\"}}\r\n          />\r\n      }\r\n         actions= {[ <Link to= {`/vendor/vendoredit/${_id}`}>\r\n                      <EditOutlined  className= \"text-warning\" />\r\n                      </Link>,\r\n                     <Link to= {`/vendor/vendorcatdelete/${_id}`}>\r\n                      <DeleteOutlined  className= \"text-danger\" />\r\n                      </Link>\r\n                 ]}\r\n      >\r\n\r\n        <Meta title= {vendorInfoId.name} description= {`${description && description.substring(0,50)}....`} />\r\n      </Card>\r\n  )\r\n}\r\n\r\nexport default AdminVendorCard;\r\n\r\n","import React, {useState, useEffect} from \"react\";\r\nimport AdminNav from \"../navigation/AdminNav\";\r\nimport {getAllVendorCategories} from \"../../actions/vendor\";\r\nimport AdminVendorCard from \"../cards/AdminVendorCard\";\r\n\r\n\r\nconst AdminDashboard = () => {\r\n\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect( () => {\r\n     loadVendorCategories();     \r\n  },[]);\r\n\r\n  const loadVendorCategories= () => {\r\n    setLoading(true);\r\n    getAllVendorCategories()\r\n    .then ( res => {\r\n        setCategories(res.data);\r\n        setLoading(false);\r\n    })\r\n    .catch ( err => {\r\n        setLoading(false);\r\n        console.log(err);\r\n    })\r\n  }\r\n      \r\n   return(\r\n    <div className= \"container-fluid\">\r\n        <div className= \"row ml-0 text-align-top\">\r\n           <div className= \"col-md-2 mt-2 \">\r\n               < AdminNav />   \r\n           </div>  \r\n           <div className= \"col col-md-10\">\r\n            { loading ? <h4>Loading....</h4>\r\n                      :  <h4 className= \"font-weight-bold\">All Vendor Categories</h4>\r\n            }\r\n            <div className= \"row\">\r\n            { categories.map( (cat) => {\r\n             return (\r\n              <div className= \"col col-md-4\"  key= {cat._id}>                              \r\n               <AdminVendorCard  cat= {cat}                                \r\n               />\r\n               </div>\r\n             )\r\n            })\r\n            } \r\n            </div>         \r\n             \r\n           </div>\r\n        </div>\r\n    </div>\r\n   )\r\n}\r\n\r\nexport default AdminDashboard;","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst AdminMenu= (props) => {\r\n     \r\n    return (\r\n    <div className= \"container\">\r\n    <div className=\"row\" >\r\n      <div className = \"col d-flex justify-content-center admin-class\">\r\n        <div className= \"ml-3\">\r\n          <Link to= {props.addRoute} >Add New</Link>\r\n        </div>\r\n        <div className= \"ml-3\">\r\n        <Link to= \"/admin/dashboard\" className= \"d-flex justify-content-center admin-class\">Admin</Link>\r\n        </div>\r\n         \r\n      </div>\r\n    </div>\r\n    </div>\r\n\r\n    )\r\n}\r\n\r\nexport default AdminMenu;\r\n\r\n\r\n","//logic to add fields to display data for vendor details\r\nimport React from \"react\";\r\n\r\nconst VendorField =  ({input, label,meta}) =>\r\n{\r\n console.log(\"meta\", meta);\r\nreturn (\r\n    <div>\r\n       <div className=\"form-group mb-0 first-class\">\r\n        <label className=\"col-lg-label font-weight-bold\">{label}</label>\r\n        <div className=\"col-lg-12\">\r\n           <input className= \"form-control\" {...input} />\r\n          <div className = \"text-danger\">\r\n            {meta.touched && meta.error}\r\n          </div>\r\n           \r\n        </div>\r\n     </div>\r\n    </div>\r\n)\r\n}\r\n\r\nexport default VendorField;","import React from \"react\";\r\nimport {reduxForm,Field} from \"redux-form\";\r\nimport VendorField from \"../../vendor/VendorField\";\r\n\r\nconst CategoriesForm = ({handleSubmit, name, setName, imgURL, setImgURL}) =>\r\n{\r\n\r\nconst renderError = ({touched, error}) => {\r\n\r\n      if( touched && error)  {\r\n       return(\r\n        <div className= \"alert alert-danger mt-2\">\r\n          <div className= \"header\">{error}</div>\r\n       </div>\r\n       ) }\r\n }\r\n\r\n\r\n   return(\r\n    <form onSubmit= {handleSubmit}>   \r\n     <div className= \"form-group\">\r\n     <div className= \"row mt-2\">         \r\n         <div className= \"col col-md-12\">\r\n         <label className= \" admin-class\">Name</label>\r\n         <input \r\n                type = \"text\"\r\n                name= \"name\"\r\n                className= \"form-control\"\r\n                placeholder= \"Enter Category\" \r\n                onChange= {(e) => setName(e.target.value)}\r\n                value= {name}   \r\n                autoFocus         \r\n          />         \r\n          <label className= \"admin-class mt-2\">Image Link</label>         \r\n          <input\r\n                 type= \"text\"\r\n                 name= \"imgURL\"\r\n                 className= \"form-control\"\r\n                 placeholder= \"Enter Image Link\" \r\n                 onChange= {(e) => setImgURL(e.target.value)}\r\n                 value= {imgURL}              \r\n          />\r\n         </div> \r\n     </div>\r\n    </div>\r\n     <div className= \"d-flex justify-content-center mt-2  \">\r\n      <button type=\"submit\" className = \"btn btn-primary font-weight-bold \" name=\"category\">Save</button>  \r\n      </div>     \r\n  </form>\r\n    )\r\n   }\r\n    \r\n \r\n\r\nexport default  CategoriesForm;\r\n\r\n","import React, {useState} from \"react\";\r\nimport { connect } from \"react-redux\";\r\nimport {useSelector} from \"react-redux\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport { addCategory} from \"../../../actions/category\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport { toast } from \"react-toastify\";\r\nimport CategoriesForm from \"./CategoriesForm\";\r\n\r\nconst CategoriesCreate = () =>\r\n{\r\n  const {user} = useSelector( state => ({...state}));\r\n  const [name,setName] = useState(\"\");\r\n  const [imgURL, setImgURL] = useState(\"\");\r\n  const [loading,setLoading] = useState(false);\r\n  \r\n\r\n   const addRoute= () => {\r\n    return(\"/admin/categories/categoriescreate\");\r\n   } \r\n\r\n   \r\n   const handleSubmit= (e) => {\r\n            e.preventDefault();\r\n            setLoading(true);\r\n            addCategory({name: name, imgURL: imgURL}, user.token)\r\n            .then ( (res) => {\r\n             setLoading(false);\r\n             setName(\"\");\r\n             setImgURL(\"\");\r\n             toast.success(`Successfully created ${res.data.name}`);\r\n            })\r\n            .catch (err => {\r\n              console.log(err);\r\n              setLoading(false);\r\n              if(err.response===400) \r\n                 toast.error(err.response.data);\r\n              else\r\n                  toast.error(err.response);\r\n            })\r\n   }\r\n    \r\n  \r\n   return(\r\n    <div className= \"row\"> \r\n  \r\n     <div className= \"col col-md-3\" >\r\n        <AdminNav />\r\n     </div> \r\n     <div className= \"col col-md-6\">\r\n       <AdminMenu \r\n        addRoute= {addRoute()} />  \r\n      <section className= \"vendor-center\">  \r\n\r\n      { loading ? <h2>Loading....</h2> \r\n                : <h2 className=\"card-header font-weight-bold\" > Add New Categories </h2>  }    \r\n       \r\n       <div className = \"card  mb-2\" >\r\n     <div className= \" card-body mb-1 \" >   \r\n      <CategoriesForm \r\n        handleSubmit = {handleSubmit}\r\n        name= {name}\r\n        setName= {setName}\r\n        imgURL= {imgURL}\r\n        setImgURL= {setImgURL}\r\n      />\r\n    </div>\r\n    </div>\r\n   </section>\r\n   </div> \r\n   </div>  \r\n   \r\n  );\r\n}\r\n\r\nexport default CategoriesCreate;\r\n\r\n","import React, {useState} from \"react\";\r\n\r\nconst SearchBar = ({keyword,setKeyword}) =>\r\n{\r\n\r\n  const handleSearch = (e) => {\r\n   e.preventDefault();\r\n   setKeyword(e.target.value.toLowerCase());\r\n   }\r\n  \r\n   return (\r\n    <div className= \"pt-4 \">\r\n       <input\r\n          type= \"search\"\r\n          placeholder= \"Enter a keyword\"\r\n          value= {keyword}\r\n          className= \"form-control mb-4\"\r\n          onChange= {handleSearch}\r\n        />\r\n          </div>\r\n   )\r\n}\r\nexport default SearchBar;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport {EditOutlined, DeleteOutlined} from \"@ant-design/icons\";\r\nimport { fetchCategories } from \"../../../actions/category\";\r\nimport SearchBar from \"../../utils/searchBar\";\r\n\r\n\r\nconst CategoriesList = () =>\r\n{    \r\nconst [categories, setCategories] = useState([]);\r\nconst [loading, setLoading] = useState(false);\r\nconst [keyword, setKeyword] = useState(\"\");\r\n\r\n useEffect( () => {        \r\n      getCategories()\r\n    },[]);\r\n\r\nconst getCategories = async () => {\r\n   setLoading(true);\r\n   fetchCategories().then( (res) => setCategories(res.data));\r\n   setLoading(false);\r\n}\r\n\r\n const addRoute= () => {\r\n  return(\"/admin/categories/categoriescreate\");\r\n }\r\n\r\n \r\n const searchValue= (keyword) => (res) => res.name.toLowerCase().includes(keyword);\r\n \r\n const renderList = () => \r\n {\r\n    return (categories.filter(searchValue(keyword)).map( category =>\r\n    {\r\n     \r\n      {if(category.name)\r\n        return (                   \r\n          <div className= \"row\"  key= {category._id}>            \r\n              <div className= \"col col-md-4 mb-2  category\" >\r\n              {category.name}\r\n              </div>\r\n              <div className= \"col col-md-4 mb-2 category\">\r\n              {category.imgURL}\r\n              </div>\r\n              <div className= \"col-md-2 mb-1\">\r\n              <Link to= {`/admin/categories/categoriesedit/${category.slug}`} \r\n                 className= \"btn btn-primary  mr-1 \"><EditOutlined/>\r\n              </Link>\r\n              <Link to= {`/admin/categories/categoriesdelete/${category.slug}`} \r\n                        className= \"btn btn-danger mr-1 \"><DeleteOutlined/>\r\n              </Link>\r\n              </div>\r\n            </div>                    \r\n        )\r\n      }  \r\n    })\r\n      )\r\n}\r\n\r\n return (\r\n     <div className= \"row\" >\r\n       <div className= \"col col-md-2\">\r\n        <AdminNav />\r\n       </div>  \r\n       <div className = \"col col-md-9 category\">  \r\n         <AdminMenu\r\n            addRoute= {addRoute()}\r\n         />\r\n       { (!categories) \r\n          ? <h2>Loading.....</h2>  \r\n          : <h2 className= \"card-header font-weight-bold mt-2\">Categories</h2>\r\n       }\r\n\r\n       <SearchBar\r\n          keyword= {keyword}\r\n          setKeyword = {setKeyword}\r\n         />\r\n\r\n       <div className= \"container-fluid category-center\"> \r\n       <div className = \" row\">  \r\n        <div className= \" col col-md-4\">     \r\n            <h5 className= \"float-center font-weight-bold\"> Category Name</h5>\r\n        </div>\r\n        <div className = \"col col-md-4\">\r\n             <h5 className= \"float-center font-weight-bold\">  Image URL</h5>\r\n       </div>\r\n       </div> \r\n       </div>\r\n        <form>         \r\n           {renderList()}\r\n         </form>\r\n   </div>\r\n   </div>\r\n           \r\n )\r\n}\r\n\r\nexport default CategoriesList;\r\n","import _ from \"lodash\";\r\nimport React, {useState, useEffect} from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport { editCategory, fetchCategory} from \"../../../actions/category\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport CategoriesForm from \"./CategoriesForm\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst  CategoriesEdit = ({history, match}) =>\r\n{\r\n  const {user} = useSelector( (state) => ({...state}));\r\n  const [loading,setLoading] = useState(false);\r\n  const [name, setName] = useState(\"\");\r\n  const [imgURL, setImgURL] = useState(\"\");\r\n\r\n  const slug= match.params.slug;\r\n\r\n  useEffect( () => {\r\n    getCategory();\r\n  }, [] );\r\n\r\n  const getCategory = () => {\r\n   fetchCategory(slug).then ( (res) =>\r\n          {\r\n          setName(res.data.name)\r\n          setImgURL(res.data.imgURL)\r\n          });\r\n     }\r\n\r\n  const addRoute= ()=> {\r\n   return(\"/admin/categories/categoriescreate\");\r\n  } \r\n\r\n  \r\n  const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      setLoading(true);\r\n      editCategory(slug,{name: name, imgURL: imgURL}, user.token)\r\n      .then ( (res) => {\r\n        setLoading(false);\r\n        setName(\"\");\r\n        setImgURL(\"\");\r\n        toast.success(`${res.data.name} is updated successfully`);  \r\n             \r\n      })\r\n      .catch (err => {\r\n        console.log(err);\r\n        setLoading(false);\r\n        if(err.response===400) \r\n           toast.error(err.response.data);\r\n        else\r\n            toast.error(err.response);\r\n      })\r\n  }    \r\n  \r\n   return (\r\n   <div className= \"row\">\r\n     <div className= \"col col-md-3\" >\r\n        <AdminNav />\r\n     </div> \r\n     <div className= \"col col-md-6\">\r\n     <AdminMenu \r\n        addRoute= {addRoute()} \r\n      />\r\n       <section className= \"vendor-center\"> \r\n      {loading ? <h1>Loading....</h1> \r\n               : <h1 className=\"card-header font-weight-bold\" > Edit Categories </h1>\r\n      }\r\n      <div className = \"card  mb-2\" >\r\n        <div className= \" card-body mb-1 \" >  \r\n        <CategoriesForm \r\n        handleSubmit = {handleSubmit}\r\n        name= {name}\r\n        setName= {setName}\r\n        imgURL= {imgURL}\r\n        setImgURL= {setImgURL}\r\n      />\r\n              \r\n        </div>\r\n       </div>\r\n      </section>\r\n      </div>\r\n    </div>   \r\n  );\r\n}\r\n\r\nexport default CategoriesEdit;\r\n\r\n\r\n\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nconst Modal = (props) => {\r\n\r\n return ReactDOM.createPortal(\r\n <div className= \"container\">\r\n <div className= \"row\">\r\n <div className= \"col-md-12\">\r\n  <div onClick= { props.onDismiss} className= \"modal-fade\" tabIndex= \"-1\" role= \"dialog\" >\r\n  <div onClick= { (e) => e.stopPropagation() } className= \"modal-dialog modal-dialog-centered\" role=\"document\">\r\n  <div className= \"modal-content\">\r\n   <div className= \"modal-header\">\r\n    <h4 className= \"modal-title font-weight-bold text-align-center\">{props.title}</h4>\r\n   </div>\r\n   <div className=\"modal-body\">\r\n      <h5>{props.content}</h5>\r\n   </div>\r\n   <div className=\"modal-footer\" >\r\n     { props.actions}\r\n    </div>\r\n  </div>\r\n  </div>\r\n  </div>\r\n  </div>\r\n  </div>\r\n  </div>, document.querySelector(\"#modal\")\r\n )\r\n}\r\n\r\nexport default Modal;","import React, {useEffect, useState} from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { fetchCategories,deleteCategory} from \"../../../actions/category\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport Modal from \"../../Modal\";\r\nimport history from \"../../../history\";\r\nimport { toast } from \"react-toastify\";\r\n\r\n\r\nconst CategoriesDelete = (props) =>\r\n{\r\n   const {user} = useSelector( state => ({...state}));\r\n   const [loading, setLoading] = useState(false);\r\n   const [categories, setCategories] = useState([]);\r\n   const slug = props.match.params.slug;\r\n\r\n   useEffect( () => {\r\n       getCategories();\r\n   }, [] );\r\n\r\n   const getCategories = () => {\r\n      fetchCategories().then ( (res) => setCategories(res.data));\r\n   }\r\n\r\n   const addRoute= () => {\r\n     return(\"/admin/categories/categoriescreate\");\r\n   } \r\n  \r\n   const handleDelete = () => {\r\n      setLoading(true);\r\n      deleteCategory(slug, user.token)\r\n      .then ( res => {\r\n          setLoading(false);\r\n          toast.success(`Category deleted successfully: ${slug}`);\r\n          getCategories();           \r\n      })\r\n      .catch ( (err) => {\r\n             console.log(err);\r\n             setLoading(false);\r\n             if(err.response===400) \r\n                  toast.error(err.response.data);\r\n             else\r\n                  toast.error(err.message);\r\n         });\r\n   }\r\n\r\n    const renderActions = () => {\r\n       \r\n      return (\r\n         <React.Fragment>\r\n         <button onClick= { () => {handleDelete()}    } \r\n            type=\"submit\" className=\" btn btn-danger primary-button mr-3\">Yes</button>\r\n         <Link to= \"/admin/categories/categoriesList\" \r\n               type=\"button\" className= \"btn btn-secondary primary-button\">No</Link>\r\n         </React.Fragment>\r\n         );\r\n    }\r\n\r\n    const renderContent= () => {\r\n       \r\n       if(!slug) {\r\n          return (\"Are you sure you want to delete this category?\");\r\n       }\r\n          return(`Are you sure you want to delete the category: ${slug}`);\r\n      }\r\n   \r\n   return(\r\n   <div>\r\n       <AdminMenu  \r\n        addRoute= {addRoute()}\r\n        />         \r\n        <Modal \r\n            title= \"Delete a Category\"\r\n            content= {renderContent()}\r\n            actions= {renderActions()}\r\n            onDismiss = {() => history.push(\"/admin/categories/categorieslist\") }\r\n         />\r\n    </div>    \r\n     );\r\n}\r\n\r\nexport default CategoriesDelete;\r\n","//form to display the jsx for create and edit subcategory form\r\n\r\nimport React, {useState, useEffect} from \"react\";\r\nimport { fetchCategories } from \"../../../actions/category\";\r\n\r\nconst SubcategoriesForm = ({handleSubmit, category, setCategory, name, setName}) => {\r\n\r\n   const [categories, setCategories] = useState([]);\r\n\r\n   useEffect(() => {\r\n     getCategories();\r\n   },[]);\r\n\r\n   const getCategories= () => {\r\n      fetchCategories().then( (cat) => setCategories(cat.data));\r\n   }\r\n  \r\n  return (\r\n    <form onSubmit= {handleSubmit}>  \r\n      <div className=\"form-group row\">\r\n      <div className= \"col col-md-12\">\r\n            <label  className=\"admin-class\">Select a Category</label>         \r\n                <select className=\"form-control\"  \r\n                   name=\"category\"\r\n                   onChange={(e) => setCategory(e.target.value)}\r\n                 >\r\n               <option>Select a category</option>             \r\n               {categories.length > 0 && categories.map(catval => \r\n              (\r\n                <option key={catval._id} \r\n                        value={catval._id}\r\n                        selected={catval._id===category}\r\n                        > \r\n                    {catval.name} </option> \r\n               ))}\r\n             </select>\r\n            </div>       \r\n      <div className= \"col col-md-12\">\r\n       <label className= \" admin-class mt-2\">Name</label>\r\n       <input \r\n              type = \"text\"\r\n              name= \"name\"\r\n              className= \"form-control\"\r\n              placeholder= \"Enter Sub Category\" \r\n              onChange= {(e) => setName(e.target.value)}\r\n              value= {name}                    \r\n        />       \r\n    </div>\r\n    </div>\r\n    <div className= \"d-flex justify-content-center mt-2  \">\r\n      <button type=\"submit\" className = \"btn btn-primary font-weight-bold \" name=\"category\">Save</button>  \r\n      </div>  \r\n    </form>\r\n    );\r\n  }\r\n\r\nexport default SubcategoriesForm;","import React, {useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport { addSubcategory } from \"../../../actions/subcategory\";\r\nimport SubcategoriesForm from \"./SubcategoriesForm\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst  SubcategoriesCreate = () =>\r\n{  \r\n  const {user} = useSelector( state => ({...state})); \r\n  const [category, setCategory] = useState(\"\");\r\n  const [name, setName] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const addRoute = () => {\r\n     return(\"/admin/subcategories/subcategoriescreate\");\r\n   }\r\n\r\n   const handleSubmit= (e) => {\r\n      e.preventDefault();\r\n      setLoading(true);\r\n      addSubcategory({category: category, name: name}, user.token)\r\n      .then ( (res) => {\r\n         setLoading(false);\r\n         setCategory(\"\");\r\n         setName(\"\");\r\n         toast.success(`Successfully added sub category: ${res.data.name}`);\r\n      })\r\n      .catch ( (err) => {\r\n         console.log(err);\r\n         setLoading(false);\r\n         if(err.response===400) \r\n             toast.error(err.response.data);\r\n          else\r\n             toast.error(err.response);\r\n    })\r\n   }\r\n     \r\n    return (              \r\n           <div className= \"row\"> \r\n             <div className= \"col col-md-2\">\r\n                <AdminNav />\r\n             </div> \r\n             <div className= \"col col-md-9\">          \r\n             <AdminMenu \r\n               addRoute = {addRoute()}\r\n             />\r\n             { (loading) ? <h2>Loading....</h2>\r\n                        : <h2 className=\"category-head font-weight-bold card-header\"> Add New Sub Category</h2>\r\n             }                 \r\n            <div className = \"card  mb-2\" >\r\n               <div className= \" card-body mb-1 \" >                              \r\n                 <SubcategoriesForm\r\n                    handleSubmit = {handleSubmit}\r\n                     category= {category}\r\n                     setCategory= {setCategory}\r\n                     name= {name}\r\n                     setName= {setName}\r\n                  />\r\n                </div>\r\n              </div> \r\n             </div>\r\n           </div>                          \r\n            ); \r\n      }      \r\n  \r\nexport default SubcategoriesCreate;","import React, {useState, useEffect} from \"react\";\r\nimport { Link} from \"react-router-dom\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport {fetchCategories, fetchCategoriesName} from \"../../../actions/category\";\r\nimport {fetchSubcategories} from \"../../../actions/subcategory\";\r\nimport {EditOutlined, DeleteOutlined} from \"@ant-design/icons\";\r\nimport SearchBar from \"../../utils/searchBar\";\r\nimport AdminMenu from \"../AdminMenu\";\r\n\r\nconst  SubcategoriesList = () =>\r\n{\r\n\r\n  const [category, setCategory] = useState([]);\r\n  const [sub, setSub] = useState([]);\r\n  const [keyword, setKeyword] = useState(\"\");\r\n\r\n\r\n  useEffect(() => {\r\n     getCategories();\r\n     getSubcategories();\r\n  }, []);\r\n\r\n  const getCategories= () => {\r\n    fetchCategories().then( (cat) => setCategory(cat.data));\r\n  }\r\n\r\n  const getSubcategories= () => {\r\n    fetchSubcategories().then( (subcat) => setSub(subcat.data));\r\n   }\r\n\r\n\r\n const addRoute= () => {\r\n    return(\"/admin/subcategories/subcategoriescreate\");\r\n }\r\n\r\n const searchValue= (keyword) => (res) => res.name.toLowerCase().includes(keyword);\r\n\r\n const renderList= () => \r\n {    \r\n    return (      \r\n       sub.filter(searchValue(keyword)).map( subcategory => \r\n       {\r\n        { if (subcategory._id)  \r\n            return (\r\n                <div className= \"row\" key= {subcategory._id}>                  \r\n                 <div className= \"col col-md-4 category\">                  \r\n                      {subcategory.category.name} \r\n                 </div>\r\n                  <div className= \"col col-md-4 text-align-right category\">\r\n                      {subcategory.name}\r\n                  </div>                  \r\n                  <div className= \"col-md-4 mb-1\">\r\n                      <Link to= {`/admin/subcategories/subcategoriesedit/${subcategory.slug}`} \r\n                                   className= \"btn btn-primary  mr-1 \">\r\n                                   <EditOutlined /></Link>\r\n                      <Link to= { `/admin/subcategories/subcategoriesdelete/${subcategory.slug}`}\r\n                            className= \"btn btn-danger mr-1\">\r\n                            <DeleteOutlined /></Link>    \r\n                   </div>\r\n                 </div>\r\n                 )        }       \r\n        })    \r\n    )}\r\n\r\n\r\n  return(\r\n    <div className= \"row\">\r\n      <div className= \"col-md-2\">\r\n          <AdminNav />\r\n      </div>\r\n\r\n      <div className= \"col-md-9\" >\r\n         <AdminMenu \r\n             addRoute = {addRoute()}\r\n        />\r\n      \r\n       { (!sub) ? <h2>Loading.....</h2> \r\n                   :<h2  className= \"card-header font-weight-bold mt-2\">Sub Categories</h2> \r\n       }\r\n\r\n       <SearchBar\r\n          keyword= {keyword}\r\n          setKeyword = {setKeyword}\r\n         />\r\n        <div className= \"container category-center\"> \r\n        <div className= \"row mb-2\">\r\n        <div className = \"col col-md-4\">\r\n            <h5 className= \"font-weight-bold\"> Category </h5>\r\n        </div>\r\n         <div className = \"col col-md-4 \">\r\n             <h5 className= \"font-weight-bold\">  Sub Category </h5>\r\n       </div>\r\n       </div> \r\n       <form>   \r\n         {renderList()}\r\n       </form>\r\n      </div>\r\n      </div>\r\n    </div>\r\n\r\n  )  \r\n}\r\n\r\nexport default SubcategoriesList;","import React, {useEffect, useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport { fetchSubcategories, deleteSubcategory} from \"../../../actions/subcategory\";\r\nimport Modal from \"../../Modal\";\r\nimport history from \"../../../history\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst SubcategoriesDelete = (props) =>  {\r\n    \r\n    const {user} = useSelector( state => ({...state}));\r\n    const [loading, setLoading] = useState(false);\r\n    const [subcats, setSubcats] = useState([]);\r\n    const slug= props.match.params.slug;\r\n\r\n    console.log(\"Slug\",props.match.params);\r\n\r\n    useEffect( () => {\r\n        getSubcats();\r\n    }, [] );\r\n \r\n\r\n    const getSubcats= () => {\r\n        fetchSubcategories().then ((res) => setSubcats(res.data));\r\n    }   \r\n     \r\n    const addRoute = () => {\r\n         return(\"/admin/subcategories/subcategoriescreate\");\r\n     }\r\n\r\n     const renderContent= () => {       \r\n             if(!subcats) {\r\n               return (\"Are you sure you want to delete this subcategory?\");\r\n            }\r\n               return(`Are you sure you want to delete the subcategory: ${slug}`);\r\n       }\r\n    \r\n     const handleDelete= () => {\r\n         setLoading(true);\r\n         deleteSubcategory(slug, user.token)\r\n         .then( (res) => {\r\n             setLoading(false);\r\n             toast.success(`Sub catgeory deleted successfully: ${slug}`);\r\n             getSubcats();\r\n         } )\r\n         .catch( (err) => {\r\n             setLoading(false);\r\n             console.log(err);\r\n             if(err.response===400) \r\n                  toast.error(err.response.data);\r\n             else\r\n                  toast.error(err.message);       \r\n         }); \r\n     }\r\n\r\n     const renderActions= () => {\r\n        return (\r\n             <React.Fragment>\r\n              <button onClick= { handleDelete}\r\n                      type=\"submit\" \r\n                      className=\" btn btn-danger primary-button mr-3\">Yes</button> \r\n             <Link to= \"/admin/subcategories/subcategoriesList\" type=\"button\" className= \"btn btn-secondary primary-button\">No</Link>\r\n             </React.Fragment>\r\n            );\r\n     }\r\n          \r\n        return (\r\n         <div>           \r\n             <AdminMenu \r\n                 addRoute = {addRoute()}\r\n             /> \r\n          <Modal \r\n            title= \"Delete a SubCategory\"\r\n            content= {renderContent()}\r\n            actions= {renderActions()}\r\n            onDismiss = {() => history.push(\"/admin/subcategories/subcategorieslist\") }\r\n         /> \r\n         </div>\r\n        )\r\n    }\r\n\r\nexport default SubcategoriesDelete;","import _ from \"lodash\";\r\nimport React, {useState, useEffect} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {fetchSubcategory, editSubcategory} from \"../../../actions/subcategory\";\r\nimport {fetchCategories} from \"../../../actions/category\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport SubcategoriesForm from \"./SubcategoriesForm\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst SubcategoriesEdit = ({match, history}) => \r\n{\r\n    const {user} = useSelector( (state) => ({...state}));\r\n    const [category, setCategory] = useState(\"\");\r\n    const [name, setName] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n    const slug= match.params.slug;\r\n\r\n    useEffect( () => {\r\n         getSubcat();      \r\n    }, []);\r\n\r\n    const getSubcat= () => {\r\n       fetchSubcategory(slug).then( (res) => {\r\n          console.log(\"value from res\",res.data);\r\n          setCategory(res.data.category)\r\n          setName(res.data.name)\r\n       }); \r\n      }\r\n\r\n     const addRoute= () => {\r\n        return(\"/admin/subcategories/subcategoriescreate\");\r\n     } \r\n\r\n     const handleSubmit= (e) => {\r\n         e.preventDefault();\r\n         setLoading(true);\r\n         console.log(\"VALUES from subcat\",slug, category,name);\r\n         editSubcategory(slug, { name: name, category: category}, user.token)\r\n         .then( (res) => {\r\n            setLoading(false);\r\n            setName(\"\");\r\n            toast.success(`Subcategory updated successfully:${res.data.name}`);\r\n           \r\n         })\r\n         .catch( (err) => {\r\n           console.log(err);\r\n           setLoading(false);\r\n           if(err.response===400) \r\n              toast.error(err.response.data);\r\n           else\r\n               toast.error(err.response);\r\n         });      \r\n     }\r\n         \r\n  return (\r\n            <div className= \"row\">\r\n              <div className= \"col col-md-2\">\r\n                <AdminNav />\r\n              </div>\r\n              <div className= \"col col-md-9\">\r\n                <AdminMenu \r\n                   addRoute = {addRoute()}\r\n                />\r\n             \r\n              { (loading) ? <h1>Loading......</h1>\r\n                           : <h1 className=\"category-head font-weight-bold card-header\" > \r\n                                 Edit Sub Categories </h1>\r\n              }\r\n              { console.log(\"category from subcat\", category,name)}\r\n              <div className = \"card  mb-2\" >\r\n                 <div className= \" card-body mb-1 \" >  \r\n                 <SubcategoriesForm\r\n                   handleSubmit= {handleSubmit}                  \r\n                   category= {category}\r\n                   setCategory= {setCategory}\r\n                   name = {name}\r\n                   setName= {setName}                   \r\n                  /> \r\n              </div>\r\n              </div>\r\n            </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\nexport default SubcategoriesEdit;","import React from \"react\";\r\nimport { Form, Input, Button} from 'antd';\r\nimport { MinusCircleOutlined, PlusOutlined} from '@ant-design/icons';\r\n\r\n\r\nconst QuestionsForm= ({handleSubmit,question,setQuestion,options,setOptions}) =>  {\r\n\r\n const [form] = Form.useForm();\r\n\r\n const onFinish = values => {\r\n   console.log( \"received values from form\", values.question);\r\n   console.log( \"received values from form\", values.options);  \r\n   \r\n }\r\n\r\n const onFinishFailed = (errorInfo) => {\r\n  console.log('Failed:', errorInfo);\r\n};\r\n\r\n const handleChange = () => {\r\n   form.setFieldsValue({options: []});\r\n }\r\n\r\n    \r\n     return (             \r\n      <div>        \r\n       <section className= \"vendor-center\">       \r\n        <div className= \"card mt-2\">\r\n        <div className= \"card-body admin-class\">              \r\n       <Form   name=\"question-form\" autoComplete=\"off\" \r\n               onFinish= {handleSubmit} \r\n               onFinishFailed= {onFinishFailed}\r\n               \r\n               layout= \"vertical\">\r\n        <Form.Item \r\n               name=\"question\" \r\n               size=\"large\"\r\n               label=\"Question\"  \r\n               onChange= {(e) => setQuestion(e.target.value)}\r\n               setFieldsValue={question}                               \r\n               rules={[{ required: true, Message: \"Please enter the question\"}]}  >\r\n         <Input  />        \r\n       </Form.Item>\r\n\r\n      <Form.List name=\"options\" >\r\n       { (fields, {add,remove}) => (\r\n        <>\r\n         { fields.map( (field,index)  => (    \r\n         <Form.Item           \r\n           key= {index}          >      \r\n          <Form.Item\r\n                  {...field}\r\n                  label=\"Option\"\r\n                  size=\"large\"\r\n                  name={[field.name, 'option']}                             \r\n                  fieldKey={[field.fieldKey, 'option']}\r\n                  onChange= {(e) => setOptions(e.target.value)}\r\n                  setFieldsValue={options}\r\n                  rules={[{ required: true, message: 'Please enter an option' }]}\r\n            >\r\n                <Input style={{ width: '100%' }}/>               \r\n          </Form.Item>\r\n           <MinusCircleOutlined onClick={() => remove(field.name)} />\r\n           \r\n         </Form.Item>\r\n         ))}\r\n         <Form.Item>\r\n              <Button type=\"dashed\" onClick={() => add()} block icon={<PlusOutlined />}>\r\n                Add options\r\n              </Button>\r\n         </Form.Item>\r\n        </>\r\n       )}\r\n       </Form.List>      \r\n       <Form.Item>\r\n           <Button type=\"primary\" htmlType=\"submit\">\r\n             Submit\r\n          </Button>\r\n       </Form.Item>\r\n    </Form>\r\n                 \r\n     </div>\r\n     </div>          \r\n             \r\n     </section>\r\n    </div>\r\n    )\r\n   }\r\n\r\nexport default QuestionsForm;\r\n","import axios from \"axios\";\r\nimport history from \"../history\";\r\nconst ROOT_URL = 'http://localhost:5000';\r\n//action creator for Questions Master\r\nexport const addQuestion = async (values, authtoken) => {\r\n   console.log(\"In questions action creator\", values);\r\n   const res = await axios.post(`${ROOT_URL}/api/question`, values,\r\n      { headers: { authtoken } });\r\n   history.push(\"/admin/questions/questionslist\");\r\n};\r\n\r\nexport const fetchQuestions = async () => {\r\n   return await axios.get(`${ROOT_URL}/api/questions`);\r\n};\r\n\r\nexport const fetchQuestion = async (id) => {\r\n   return await axios.get(`${ROOT_URL}/api/question/${id}`);\r\n};\r\n\r\nexport const editQuestion = (id, formValues) => async dispatch => {\r\n   const res = await axios.put(`${ROOT_URL}/api/questions/${id}`, formValues);\r\n   //    dispatch({ type: EDIT_QUESTION, payload: res.data });\r\n   history.push(\"/admin/questions/questionslist\");\r\n};\r\n\r\nexport const deleteQuestion = async (id, authtoken) => {\r\n   const res = await axios.delete(`${ROOT_URL}/api/question/${id}`,\r\n      { headers: { authtoken } });\r\n   console.log(\"Response from delete question:\", res.data);\r\n   history.push(\"/admin/questions/questionslist\");\r\n}; \r\n","import React, {useState} from \"react\";\r\nimport {connect, useSelector} from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport QuestionsForm from \"./QuestionsForm\";\r\nimport { addQuestion } from \"../../../actions/questions\";\r\n\r\n\r\nconst QuestionsCreate = () => {\r\n\r\n  const {user} = useSelector( state => ({...state}));\r\n  const [question,setQuestion]= useState(\"\");\r\n  const [options,setOptions]= useState([]);\r\n  const [loading,setLoading]= useState(false);\r\n\r\nconst addRoute= () => {\r\n    return(\"/admin/questions/questionscreate\");\r\n}\r\n\r\nconst handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      setLoading(true);\r\n      addQuestion({question,options},user.token)\r\n      .then( (res) =>         \r\n      {\r\n        setLoading(false);\r\n        setQuestion(\"\");\r\n        setOptions(\"\");\r\n        toast.success(\"Question is created successfully!!!!\");\r\n      })\r\n      .catch(err => {\r\n           console.log(err);\r\n           toast.error(\"Category creation failed !!!!!\");\r\n          }            \r\n         )\r\n       }\r\n\r\n       \r\n      return (             \r\n        <div className= \"row\">\r\n        <div className= \"col col-md-2\">\r\n          <AdminNav />\r\n        </div>\r\n        <div className= \"col col-md-10\">\r\n        <AdminMenu\r\n          addRoute= {addRoute}\r\n         /> \r\n         { (loading) ? <h2>Loading...</h2>\r\n           : <h2 className=\"category-head font-weight-bold card-header\">Add Questions </h2> \r\n         }         \r\n          <QuestionsForm\r\n             handleSubmit = {handleSubmit}\r\n             question= {question}\r\n             setQuestion= {setQuestion}\r\n             options= {options}\r\n             setOptions= {setOptions}\r\n           /> \r\n          </div>       \r\n        </div>\r\n    )\r\n  }\r\n\r\n\r\nexport default QuestionsCreate;\r\n","import _ from 'lodash';\r\nimport {\r\n       CREATE_CATEGORY,\r\n       FETCH_CATEGORIES,\r\n       FETCH_CATEGORIES_NAME,\r\n       EDIT_CATEGORY,\r\n       DELETE_CATEGORY } from \"../actions/types\";\r\n\r\nconst categoryReducer= (state = [], action) => {\r\n    switch (action.type) {\r\n        case FETCH_CATEGORIES:            \r\n           return {...state, ..._.mapKeys(action.payload, '_id')} ;          \r\n        case FETCH_CATEGORIES_NAME :\r\n            return {...state, categoryName:action.payload};  \r\n        case EDIT_CATEGORY:\r\n            return {...state, [action.payload.id] : action.payload} ;        \r\n         case CREATE_CATEGORY:\r\n           return {...state, [action.payload.id] : action.payload} ;        \r\n         case DELETE_CATEGORY:\r\n             const categoryId = action.data;\r\n             return state.filter(category => category.id !== categoryId);     \r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport default categoryReducer;","import React, {useState,useEffect, Fragment} from \"react\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport {connect} from \"react-redux\";\r\nimport { Link } from \"react-router-dom\";\r\nimport {fetchQuestions} from \"../../../actions/questions\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport categoryReducer from \"../../../reducers/categoryReducer\";\r\nimport {EditOutlined, DeleteOutlined} from \"@ant-design/icons\";\r\n\r\nconst QuestionsList = () =>\r\n{\r\n  \r\n  const [questions, setQuestions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect( () => {\r\n      getQuestions(); \r\n  }, []);\r\n\r\n  const getQuestions= () => {\r\n    setLoading(true);\r\n    fetchQuestions()\r\n    .then( (res) => setQuestions(res.data));  \r\n    setLoading(false);    \r\n  }\r\n\r\n    const addRoute= () =>  {\r\n        return(\"/admin/questions/questionscreate\");\r\n       }\r\n\r\n    const renderList= () => {\r\n        return (   \r\n          questions && questions.map( questionVal => {        \r\n          return (         \r\n            <div className= \"row mt-1\" key= {questionVal._id}>                    \r\n            <div className= \"col col-md-6 question\" >\r\n             <p > {questionVal.question}</p>  \r\n            </div>\r\n            <div className= \"col col-md-3 question\" > \r\n              {questionVal.options && questionVal.options.map( optionVal => {\r\n                 return(                              \r\n                  <p key= {optionVal.option} >{optionVal}</p>             \r\n                 )\r\n             }) \r\n             }                 \r\n             </div>    \r\n             <div className= \" col col-md-3 float-right \">\r\n                      <Link to= {`/admin/questions/questionsedit/${questionVal._id}`}\r\n                                   className= \"btn btn-primary  mr-1\">\r\n                                   <EditOutlined />\r\n                       </Link>\r\n                      <Link to= { `/admin/questions/questionsdelete/${questionVal._id}`} \r\n                            className= \"btn btn-danger mr-1\">\r\n                            <DeleteOutlined /></Link>    \r\n             </div> \r\n                </div> \r\n          )          \r\n                \r\n        }) \r\n              \r\n       ) \r\n    }\r\n    \r\n    \r\n    return (\r\n     <div> \r\n      \r\n      <div className= \"row\">\r\n       <div className= \"col col-md-2\">\r\n         <AdminNav />\r\n       </div>\r\n       <div className= \"col col-md-9\">\r\n       <AdminMenu\r\n            addRoute = {addRoute()}\r\n           />\r\n        { (loading) ? <h2>Loading....</h2>      \r\n                   :<h2 className= \"font-weight-bold\">List Questions </h2> \r\n      } \r\n       <div className= \"container mt-2\" > \r\n       <div className = \"row p-3 bg-light \">\r\n          <div className= \"col col-md-6 \">\r\n            <h5 className= \"font-weight-bold text-left\"> Question</h5>           \r\n          </div>\r\n           <div className= \"col col-md-3\">\r\n            <h5 className= \"font-weight-bold text-left\"> Options</h5>             \r\n            </div>\r\n         </div>\r\n        <div className= \"card\">        \r\n          <form>\r\n             {renderList()}\r\n          </form>          \r\n       </div> \r\n       </div>\r\n       </div>\r\n     </div> \r\n     </div>\r\n    )}\r\n\r\n\r\nexport default QuestionsList;","import _ from \"lodash\";\r\nimport React, {useState, useEffect} from \"react\";\r\nimport { useSelector} from \"react-redux\";\r\nimport {toast, ToastContainer} from \"react-toastify\";\r\nimport { editQuestion, fetchQuestion} from \"../../../actions/questions\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport QuestionsForm from \"./QuestionsForm\";\r\n\r\nconst QuestionsEdit = ({match}) => {\r\n\r\n    const {user} = useSelector( (state) => ({...state}));\r\n    const [question,setQuestion] = useState(\"\");\r\n    const [options,setOptions] = useState([]);\r\n    const [loading,setLoading] = useState(false);\r\n    \r\n   useEffect( () => {\r\n      loadQuestion();\r\n   },[]);\r\n\r\n   const loadQuestion= () => {\r\n       setLoading(true);\r\n       fetchQuestion(match.params.id)\r\n       .then ( (res) => {\r\n           setQuestion(res.data.question);\r\n           setOptions(res.data.options);\r\n           setLoading(false);\r\n       })\r\n       .catch ( (err) => {\r\n           console.log(err);\r\n           setLoading(false);\r\n           toast.error(`Could not find the question record:${err.message}`);\r\n       });\r\n   }\r\n    \r\n    const addRoute =() => {\r\n        return(\"/admin/questions/questionscreate\");\r\n     } \r\n\r\n    const handleSubmit = (e) => {\r\n       e.preventDefault();\r\n       setLoading(true);\r\n       editQuestion(match.params.id,\r\n                {question: question.question, options: question.options},\r\n                 user.token) \r\n       .then ( (res) => {\r\n           setLoading(false);\r\n           setQuestion(\"\");\r\n           setOptions(\"\");\r\n           toast.success(`${res.data.question} has been updated successfully!!!!`);\r\n       })\r\n       .catch (err => {\r\n           console.log(err);\r\n           setLoading(false);\r\n           if(err.response===400) \r\n              toast.error(err.response.data);\r\n           else\r\n              toast.error(err.response);\r\n       });\r\n    }\r\n        \r\n     return (\r\n        <div>\r\n           <AdminMenu \r\n             addRoute= {addRoute()}\r\n           />\r\n           { loading ? <h2>Loading....</h2>\r\n                     : <h2 className=\"category-head font-weight-bold card-header\">Edit Question</h2>\r\n           }\r\n\r\n       <QuestionsForm  \r\n        // initialValues =  { _.pick(this.props.questions, \"question\", \"options\")}\r\n        handleSubmit= {handleSubmit}\r\n        question= {question} \r\n        setQuestion= {setQuestion} \r\n        options= {options} \r\n        setOptions= {setOptions}          \r\n        />          \r\n       </div>        \r\n       )\r\n    }\r\n\r\nexport default QuestionsEdit;","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { fetchQuestion, deleteQuestion, fetchQuestions } from \"../../../actions/questions\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport Modal from \"../../Modal\";\r\nimport history from \"../../../history\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nconst QuestionsDelete = ({match}) => {\r\n\r\n   const {user} = useSelector( state => ({...state}));\r\n   const [questions, setQuestions] = useState([]);\r\n   const [question, setQuestion] = useState(\"\");\r\n   const [loading, setLoading] = useState(false);\r\n\r\n   useEffect( () => {\r\n      getQuestions();\r\n      getQuestion();      \r\n   },[]);\r\n\r\n   const getQuestions= () => {\r\n        fetchQuestions().then ( (qs) => setQuestions(qs.data));\r\n   }\r\n\r\n   const getQuestion = () => {\r\n      fetchQuestion(match.params.id)\r\n      .then ( (q) => setQuestion(q.data))\r\n      .catch( (err) => {\r\n         console.log(err);\r\n         setLoading(false);\r\n         if(err.response===400) \r\n            toast.error(err.response.data);\r\n          else\r\n            toast.error(err.message);\r\n      })\r\n   } \r\n\r\n const addRoute= () => {\r\n        return(\"/admin/questions/questionscreate\");\r\n }\r\n\r\n const handleDelete= () => {\r\n    deleteQuestion(match.params.id, user.token)\r\n   .then ( (res) => {\r\n      setLoading(false);\r\n      toast.success(`Question deleted successfully for ${match.params.id}`);\r\n      getQuestions();\r\n   })\r\n   .catch( (err) => {\r\n      console.log(err);\r\n      setLoading(false);\r\n      if(err.response===400) \r\n         toast.error(err.response.data);\r\n       else\r\n         toast.error(err.message);\r\n   })\r\n }\r\n\r\nconst renderActions= () => {\r\n    return (\r\n       <React.Fragment>\r\n       <button onClick= { handleDelete()} type=\"submit\" className=\" btn btn-danger primary-button mr-3\">Yes</button>\r\n       <Link to= \"/admin/questions/questionsList\" type=\"button\" className= \"btn btn-secondary primary-button\">No</Link>\r\n       </React.Fragment>\r\n       );\r\n  }\r\n\r\n\r\nconst renderContent= () => {\r\n    if(! question) {\r\n       return (\"Are you sure you want to delete this question?\");\r\n    }\r\n       return(`Are you sure you want to delete the question: ${question.question}`);\r\n }  \r\n\r\n  return (\r\n    <div>\r\n    <AdminMenu \r\n       addRoute = {addRoute()} \r\n    />  \r\n     { loading ?  <h2>\"Loading.....\" </h2>  \r\n     :\r\n    <Modal \r\n      title= \"Delete a Question\"     \r\n      content= {renderContent()}\r\n      actions= {renderActions()}\r\n      onDismiss = {() => history.push(\"/admin/categories/categorieslist\") }\r\n    />\r\n     }\r\n    </div>\r\n   )     \r\n}\r\n\r\n\r\nexport default QuestionsDelete;","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector } from \"react-redux\";\r\nimport {fetchCategories,fetchCategorySubs} from \"../../../actions/category\";\r\nimport { fetchQuestions} from \"../../../actions/questions\";\r\nimport {Select,Form, Input, Button} from 'antd';\r\nimport { MinusCircleOutlined, PlusOutlined} from '@ant-design/icons';\r\n\r\nconst {Option} = Select;\r\n\r\nconst SubcategoryQuestionsForm = () => {\r\n\r\n  const {user} = useSelector( state => ({...state}));\r\n  const [categories, setCategories] = useState([]); \r\n  const [subOptions, setSubOptions] = useState([]);\r\n  const [questions, setQuestions] = useState([]);\r\n  const [ loading, setLoading] = useState(false);\r\n  const  [category,setCategory] = useState(\"\");\r\n  const [subcategory,setSubcategory]= useState(\"\");\r\n  const [question,setQuestion] = useState(\"\");\r\n  const [fields, setFields]= useState([]);\r\n\r\n  useEffect( () => {\r\n     loadCategories();\r\n     loadQuestions();\r\n  },[]);\r\n\r\n  \r\n  const loadCategories= () => {\r\n     setLoading(true);\r\n     fetchCategories().then ( (res) => setCategories(res.data)); \r\n     setLoading(false);    \r\n  } \r\n\r\n  const handleCategoryChange= (e) => {\r\n      e.preventDefault();\r\n      setCategory(e.target.value);\r\n      fetchCategorySubs(e.target.value)\r\n       .then ( (res) => setSubOptions(res.data)\r\n       )\r\n      .catch ( (err) => {\r\n         console.log(err);\r\n    })\r\n    // setShowSubs(true);\r\n  }\r\n\r\n  const loadQuestions= () => {\r\n     setLoading(true);\r\n     fetchQuestions().then( (res) => setQuestions(res.data));\r\n     setLoading(false);\r\n  }  \r\n\r\n  const handleSubmit = (formValues) => {\r\n    console.log(formValues);   \r\n  }         \r\n    \r\n  const renderQuestions = () => {              \r\n    return (\r\n      <div>\r\n      {fields.map( (question,index) => {\r\n       return (\r\n       <div className= \"row form-group\" key={index}> \r\n        <div className= \"col col-md-12 mt-0\">\r\n        <select\r\n          name={question}\r\n          className=\"form-control\"\r\n          value={`question${index+1}`}\r\n          label={`question #${index + 1}`}\r\n        >              \r\n         <option value=\"\">Select a Question</option>\r\n           {questions && questions.map( questionVal => {\r\n            return( <option key={questionVal._id} \r\n                          value= {questionVal._id}>{questionVal.question}\r\n                    </option>)\r\n         }) }  \r\n         </select> \r\n       </div>\r\n       </div>\r\n       )\r\n    })\r\n  }\r\n  </div>\r\n  )}\r\n  \r\n      \r\n        return(\r\n            <div>\r\n                <section className= \"question-center mb-2\">\r\n                \r\n                    <div className= \"card\" >\r\n                    <div className= \"card-body\">\r\n                    <form onSubmit = {handleSubmit} >\r\n                       <div className= \"row\">\r\n                         <div className= \" col col-md-12\">\r\n                         <label className= \"font-weight-bold h6 mt-2\">Select a Category </label>\r\n                         <select\r\n                              name= \"category\"\r\n                              className= \"form-control\"\r\n                             onChange= { handleCategoryChange}\r\n                          >\r\n                        <option value=\"\">Select a Category</option>          \r\n        \r\n                       { categories && categories.map( categoryVal => {\r\n                         return( <option key={categoryVal._id} \r\n                               value= {categoryVal._id}\r\n                        >{categoryVal.name}\r\n                       </option>) }\r\n                        )}  \r\n                     </select> \r\n                       </div>\r\n                      \r\n                   <div className= \"col col-md-12\">\r\n                      <label className= \"admin-class mt-1 mb-1\">Select a Sub category</label>\r\n                      \r\n                      <select \r\n                           name= \"subcategory\"   \r\n                           className= \"form-control\"\r\n                           onChange= { subcategory => setSubcategory(subcategory)}\r\n                       > \r\n                      <option value=\"\">Select a Sub Category</option>                  \r\n                     { subOptions && subOptions.map( (s) => {\r\n                     return (  <option key= {s._id} value= {s._id}>\r\n                            {s.name}\r\n                         </option> ) }\r\n                     )}\r\n                   </select>                  \r\n                   </div>\r\n                  </div>\r\n\r\n                  {renderQuestions()}\r\n                  {/* <div className=\"col col-md-12\">\r\n                      <button className= \"btn btn-warning mt-2\">Add a question</button>\r\n                  </div>\r\n                  <div className= \"col col-md-12 mt-2\">\r\n                   <select\r\n                              name= \"question\"\r\n                              className= \"form-control\"\r\n                              onChange= {question => setQuestion(question)}\r\n                   >                                 \r\n                  <option value=\"\">Select a Question</option>\r\n                   {questions && questions.map( (q) => {\r\n                    return( <option key={q._id} value= {q._id}>\r\n                                {q.question}\r\n                            </option> ) }\r\n                   ) }  \r\n                  </select> \r\n                  </div> */}\r\n                  <div className= \"d-flex justify-content-center mt-2\" >         \r\n                       <button type= \"Submit\" className= \"btn btn-primary font-weight-bold\"> Submit</button>\r\n                  </div>\r\n                \r\n                           \r\n                    \r\n                    </form> \r\n                    </div>\r\n                      \r\n                    </div> \r\n                   \r\n                    \r\n                </section>\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n    console.log(\"state from mapstate in subcat ques YYY\",state.questions);\r\n    return   {  catValues: Object.values(state.categories),\r\n                subcatValues: Object.values(state.subcategories),\r\n                questionsValues: Object.values(state.questions) }            \r\n      }  \r\n\r\n\r\nexport default SubcategoryQuestionsForm;\r\n\r\n","import axios from \"axios\";\r\nimport history from \"../history\";\r\n\r\nconst ROOT_URL = 'http://localhost:5000';\r\n\r\n//action creator for subcategory questions\r\nexport const addSubcatQuestion = async (values) =>  {\r\n    const res= await axios.post(`${ROOT_URL}/api/subcatquestions`,values);    \r\n     history.push(\"/admin/subcatquestions/subcatquestionslist\");       \r\n   };\r\n\r\n export const fetchSubcatQuestions = async () =>  {\r\n   return await axios.get(`${ROOT_URL}/api/subcatquestions`);     \r\n   }; \r\n\r\n export const fetchSubcatQuestion = async (id) =>  {\r\n   return await axios.get(`${ROOT_URL}/api/subcatquestions/${id}`); \r\n   }; \r\n\r\n export const editSubcatQuestion = async (id,formValues) =>  {\r\n   const res = await axios.patch(`${ROOT_URL}/api/subcatquestions/${id}`,formValues) ; \r\n   history.push(\"/admin/subcatquestions/subcatquestionslist\");\r\n  }; \r\n\r\n export const deleteSubcatQuestion = async (id) =>  {\r\n   const res = await axios.delete(`${ROOT_URL}/api/subcatquestions/${id}`);  \r\n   history.push(\"/admin/subcatquestions/subcatquestionslist\");\r\n   };","import React, {useState, useEffect} from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport SubcategoryQuestionsForm from \"./SubcategoryQuestionsForm\";\r\nimport { addSubcatQuestion } from \"../../../actions/subcatquestions\";\r\n\r\n\r\nconst SubcategoryQuestionsCreate = () => {\r\n\r\n    const [subquestions,setSubquestions] = useState(\"\");\r\n    const [loader,setLoader] = useState(false);\r\n\r\n\r\n\r\n   const addRoute= () => {\r\n        return(\"/admin/subcatquestions/subcatquestionscreate\");\r\n      }\r\n\r\n    const  onSubmit = (formValues) => {\r\n          console.log(\"From ONSUBMIT in subcat questions create\",this.props);\r\n          this.props.addSubcatQuestion(formValues);         \r\n      }\r\n\r\n  \r\n        return (\r\n            <div>\r\n               <AdminMenu \r\n                addRoute= {addRoute()}\r\n               />\r\n               <h2 className=\"category-head font-weight-bold card-header\"> Add New Subcategory Questions</h2> \r\n               <SubcategoryQuestionsForm \r\n                   onSubmit= {onSubmit}\r\n               />\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n       return  { formValues: state.form.subcatQuestionsForm }   \r\n}\r\n\r\nexport default SubcategoryQuestionsCreate;\r\n\r\n\r\n","import React, {Component} from \"react\";\r\nimport {connect} from 'react-redux';\r\nimport {fetchSubcatQuestion, editSubcatQuestion} from '../../../actions/subcatquestions';\r\nimport AdminMenu from \"../AdminMenu\";\r\n\r\nclass SubcategoryQuestionsEdit extends Component {\r\n\r\n    componentDidMount() {\r\n         this.props.fetchSubcatQuestion(this.props.match.params.id);\r\n    }\r\n\r\n    addRoute() {\r\n        return(\"/admin/subcatquestions/subcatquestionscreate\");\r\n       }\r\n\r\n    render() {\r\n\r\n        return(\r\n            <div>\r\n               <AdminMenu\r\n                 addRoute= {this.addRoute}\r\n               />\r\n                \r\n                <h1> Edit Subcategory Questions</h1>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps= (state, ownProps) => {\r\n    console.log(\"state from subcat question edit PPP\");\r\n    return { subquestion: state.subquestions[ownProps.match.params.id] }\r\n}\r\n\r\nexport default connect(mapStateToProps, {fetchSubcatQuestion, editSubcatQuestion})(SubcategoryQuestionsEdit);","import React, {Component} from \"react\";\r\nimport {connect} from 'react-redux';\r\nimport {Link} from 'react-router-dom';\r\nimport { fetchSubcatQuestion, deleteSubcatQuestion} from \"../../../actions/subcatquestions\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport Modal from \"../../Modal\";\r\nimport history from \"../../../history\";\r\n\r\nclass SubcategoryQuestionsDelete extends Component {  \r\n  \r\n  componentDidMount() {\r\n    console.log(\"Props from CDM NNN:\", this.props);\r\n    fetchSubcatQuestion(this.props.match.params.id);\r\n  }\r\n\r\n  addRoute() {\r\n    return (\"/admin/subcatquestions/subcatquestionscreate\");\r\n  }\r\n\r\n  renderActions() {    \r\n    return (\r\n      <React.Fragment>\r\n       <button onClick= { () => this.props.deleteSubcatQuestion(this.props.match.params.id)} type=\"submit\" className=\" btn btn-danger primary-button mr-3\">Yes</button> \r\n      <Link to= \"/admin/subcatquestions/subcatquestionslist\" type=\"button\" className= \"btn btn-secondary primary-button\">No</Link>\r\n      </React.Fragment>\r\n     );  \r\n  }\r\n  \r\n\r\n  renderContent() {\r\n    if(!this.props.subquestions) {\r\n      return (\"Are you sure you want to delete this subcategory questions?\");\r\n     }\r\n      return(`Are you sure you want to delete the subcategory questions for: ${this.props.subquestions.subcategory.name}`);  \r\n  }\r\n\r\n  render() {\r\n        return (\r\n        <div>\r\n\r\n        <div>\r\n          <AdminMenu \r\n             addRoute = {this.addRoute}\r\n          />\r\n        </div>\r\n         \r\n\r\n          <Modal \r\n            title= \"Delete a SubCategory Question\"\r\n            content= {this.renderContent()}\r\n            actions= {this.renderActions()}\r\n            onDismiss = {() => history.push(\"/admin/subcategories/subcategorieslist\") }\r\n         /> \r\n\r\n        </div>\r\n        )\r\n    }\r\n}\r\n\r\nconst mapStateToProps= (state, ownProps) =>\r\n  {\r\n   console.log(\"State from mapState subcat questions NNN\",state);\r\n   console.log(\"Own props from mapState NNN\", ownProps);\r\n   return { subquestions: state.subquestion[ownProps.match.params.id] };\r\n  }\r\n\r\nexport default connect(mapStateToProps, {fetchSubcatQuestion, deleteSubcatQuestion})(SubcategoryQuestionsDelete);","import React, {useState, useEffect} from \"react\" ;\r\nimport {connect} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport {EditOutlined, DeleteOutlined} from \"@ant-design/icons\";\r\nimport { fetchSubcatQuestions } from \"../../../actions/subcatquestions\";\r\n\r\nconst SubcategoryQuestionList = () => {\r\n\r\n  const [subcatquestions, setSubcatquestions]= useState([]);\r\n  const [loading, setLoading]= useState(false);\r\n\r\n  useEffect( () => {\r\n      loadSubcatQuestions();\r\n  }, []);\r\n\r\n  const loadSubcatQuestions= () => {\r\n    setLoading(true);\r\n    fetchSubcatQuestions().then( res => setSubcatquestions(res.data));\r\n    setLoading(false);\r\n  }\r\n   \r\n   const  addRoute= () => {\r\n        return(\"/admin/subcatquestions/subcatquestionscreate\");\r\n    }\r\n\r\n    const renderList= () => {\r\n     \r\n        return (           \r\n            subcatquestions && subcatquestions.map( subquestionval => {\r\n\r\n            {if (subquestionval._id)\r\n            return (\r\n                <div className= \"row\" key= {subquestionval.category._id} >\r\n                  <div className= \"col col-md-2 category text-left\" >\r\n                    <p > {subquestionval.category.name}</p>\r\n                  </div>\r\n                   {/* <div className= \"col col-md-2 category text-left\" key= {subquestionval.subcategory._id}>                   \r\n                     <p > {subquestionval.subcategory.name}</p> \r\n                  </div>  */}\r\n                  <div className= \"col col-md-4 category text-left\">\r\n\r\n                   {subquestionval.questions.map(questionval => {\r\n                    return (                    \r\n                    <div className= \" category text-align-center\" key= {questionval. _id}>                     \r\n                        <p className= \"font-weight-bold\" >  {questionval.question}</p>  \r\n                        \r\n                        {questionval.options.map(optionval => {\r\n                        return(\r\n                     <div className= \"options\" key= {optionval} >\r\n                          <p >   {optionval}</p>\r\n                      </div>  \r\n                        )}\r\n                        )}                 \r\n                    </div>                    \r\n                    ) \r\n                  }\r\n                  )}       \r\n\r\n                  </div>  \r\n\r\n                  <div className= \"col-md-4 mb-1\">\r\n                      <Link to= {`/admin/subcatquestions/subcatquestionsedit/${subquestionval._id}`}  \r\n                                 className= \"btn btn-primary  mr-1 \"><EditOutlined /></Link>\r\n                      <Link to= {`/admin/subcatquestions/subcatquestionsdelete/${subquestionval._id}`} \r\n                                 className= \"btn btn-danger mr-1 \"><DeleteOutlined /></Link>    \r\n                   </div>      \r\n                               \r\n                 </div>\r\n            )\r\n                }\r\n            }) \r\n           )}             \r\n\r\n\r\n    \r\n        return(\r\n           <div className=\"row\">\r\n             <div className= \"col col-md-2\">\r\n                <AdminNav />\r\n             </div>\r\n             <div className= \"col col-md-10 category\">\r\n               <AdminMenu \r\n                   addRoute= {addRoute}\r\n               />   \r\n               { loading ? <h2>Loading....</h2>\r\n                         : <h2 className=\"category-head font-weight-bold \"> Subcategory Questions </h2>\r\n               }          \r\n               <div className= \"container\" > \r\n              <div className = \"row p-3 bg-light \">\r\n               <div className= \"col col-md-2 \">\r\n                 <h5 className= \"font-weight-bold text-left\"> Category</h5>           \r\n               </div>\r\n               <div className= \"col col-md-2\">\r\n                <h5 className= \"font-weight-bold text-left mr-2\"> Sub Category</h5>             \r\n               </div>\r\n               <div className= \"col col-md-4\">\r\n                <h5 className= \"font-weight-bold text-align-left mr-2\"> Questions/ Options</h5>             \r\n               </div>\r\n               \r\n         </div>               \r\n          <form>\r\n            {/* {JSON.stringify(subcatquestions)} */}\r\n              {renderList()}             \r\n          </form>          \r\n       </div> \r\n       </div>\r\n     </div>\r\n  ) }\r\n\r\n\r\nexport default SubcategoryQuestionList;","import axios from \"axios\";\r\nimport history from \"../history\";\r\n\r\nconst ROOT_URL = 'http://localhost:5000';\r\n\r\n//action creator for Timeslot master\r\nexport const addTimeslot = async (values, authtoken) => {\r\n   const slot = await axios.post(`${ROOT_URL}/api/timeslot`, values,\r\n      { headers: { authtoken } });\r\n   history.push(\"/admin/timeslot/listslots\");\r\n};\r\n\r\nexport const fetchTimeslots = async () => {\r\n   return await axios.get(`${ROOT_URL}/api/timeslots`);\r\n}\r\n\r\nexport const fetchTimeslot = async (_id) => {\r\n   return await axios.get(`${ROOT_URL}/api/timeslot/${_id}`);\r\n};\r\n\r\nexport const editTimeslot = async (_id, values, authtoken) => {\r\n   const res = await axios.put(`${ROOT_URL}/api/timeslot/${_id}`, values,\r\n      { headers: { authtoken } });\r\n   history.push(\"/admin/timeslot/listslots\");\r\n};\r\n\r\nexport const deleteTimeslot = async (_id, authtoken) => {\r\n   const res = await axios.delete(`${ROOT_URL}/api/timeslot/${_id}`,\r\n      { headers: { authtoken } });\r\n   history.push(\"/admin/timeslot/listslots\");\r\n};","import React, {useState,useEffect} from \"react\";\r\nimport {toast} from \"react-toastify\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport {addTimeslot} from \"../../../actions/timeslot\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nconst TimeslotCreate= () => {\r\n\r\n   const {user} = useSelector( state => ({...state}));\r\n   const [startslot, setStartslot] = useState(\"\");\r\n   const [endslot, setEndslot] = useState(\"\");\r\n   const [loading,setLoading]= useState(false);\r\n   \r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        addTimeslot({startslot,endslot},user.token)\r\n        .then ( (res) => {\r\n            setLoading(false);\r\n            setStartslot(\"\");\r\n            setEndslot(\"\");\r\n            toast.success(`Successfully created timeslot`);\r\n           })\r\n           .catch (err => {\r\n             console.log(err);\r\n             setLoading(false);\r\n             if(err.response===400) \r\n                toast.error(err.response.data);\r\n             else\r\n                 toast.error(err.response);\r\n           })\r\n      };\r\n        \r\n    return ( \r\n \r\n        <div className= \"row mt-5\">\r\n        <div className= \"col col-md-3\" >\r\n          <AdminNav />\r\n        </div>         \r\n         <div className= \"col col-md-8 mt-2\">\r\n         <h1 className= \"font-weight-bold d-flex justify-content-center mb-4\">Add New Timeslots</h1>\r\n         <form onSubmit= {handleSubmit}>\r\n         <div className=\"row d-flex justify-content-center mb-4\">\r\n         <div className=\"col col-md-3\">\r\n           <input \r\n             type=\"text\"\r\n             name=\"startslot\"\r\n             className= \"form-control\"\r\n             placeholder= \"Start Slot\" \r\n                onChange= {(e) => setStartslot(e.target.value)}\r\n                value= {startslot}   \r\n                autoFocus         \r\n            />\r\n          </div>\r\n           <div className=\"col col-md-3\">\r\n            <input \r\n             type=\"text\"\r\n             name=\"endslot\"\r\n             className= \"form-control\"\r\n             placeholder= \"End Slot\" \r\n                onChange= {(e) => setEndslot(e.target.value)}\r\n                value= {endslot} \r\n             />  \r\n            </div> \r\n            </div>       \r\n           <div className= \" d-flex justify-content-center mt-3  \">\r\n             <button type=\"submit\" className = \"btn btn-primary font-weight-bold \" name=\"timeslot\">Save</button>  \r\n           </div>  \r\n         </form>        \r\n        \r\n        </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default TimeslotCreate;","import React, {useState,useEffect} from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport {EditOutlined, DeleteOutlined} from \"@ant-design/icons\";\r\nimport {fetchTimeslots} from \"../../../actions/timeslot\";\r\n\r\nconst TimeslotList= () => {\r\n\r\n    const [timeslots,setTimeslots] = useState([]);\r\n    const [loading,setLoading] = useState(false);\r\n\r\n    useEffect( () => {\r\n      loadTimeslots();\r\n    },[]);\r\n\r\n    const loadTimeslots= async () => {\r\n        setLoading(true);\r\n        fetchTimeslots().then( (res) => setTimeslots(res.data));\r\n        setLoading(false);\r\n    }\r\n\r\n    const addRoute= () => {\r\n        return(\"/admin/timeslot/timeslotcreate\");\r\n    }\r\n\r\n      const renderSlots= () => (\r\n      timeslots && timeslots.map( (t) => \r\n             (\r\n                <div className=\"row\" key= {t._id}>\r\n                 <div className= \"col col-md-4 category mb-2\">\r\n                     {t.startSlot}\r\n                 </div>\r\n                 <div className= \"col col-md-4 category mb-2\">\r\n                     {t.endSlot}\r\n                 </div>\r\n                 <div className= \"col-md-2 mb-1\">\r\n                <Link to= {`/admin/timeslot/editslot/${t._id}`} \r\n                  className= \"btn btn-primary  mr-1 \"><EditOutlined/>\r\n                </Link>\r\n                 <Link to= {`/admin/timeslot/deleteslot/${t._id}`} \r\n                        className= \"btn btn-danger mr-1 \"><DeleteOutlined/>\r\n                 </Link>\r\n              </div>\r\n                </div>\r\n            )\r\n        )\r\n    )\r\n\r\n    return (\r\n        <div className= \"row\">\r\n          <div className= \"col col-md-2\">\r\n              <AdminNav />\r\n           </div> \r\n           <div className= \"col col-md-9\">\r\n              <AdminMenu\r\n                addRoute= {addRoute()}\r\n             />\r\n         { (!timeslots) \r\n          ? <h2>Loading.....</h2>  \r\n          : <h2 className= \"card-header font-weight-bold mt-2\">Timeslots</h2>\r\n           }\r\n           <div className=\"container-fluid category-center\">\r\n           <div className=\"row\">\r\n             <div className= \"col col-md-4\">\r\n               <h5 className=\"font-weight-bold d-flex justify-content-center\">Start Slot</h5> \r\n             </div>\r\n             <div className= \"col col-md-4\">\r\n                <h5 className=\"font-weight-bold d-flex justify-content-center\">End Slot</h5>\r\n             </div>\r\n           </div>\r\n\r\n            <form>\r\n               {renderSlots()}\r\n             </form>\r\n           </div>\r\n            \r\n              \r\n           </div>\r\n         \r\n\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default TimeslotList;","import React, {useState,useEffect} from \"react\";\r\nimport {editTimeslot, fetchTimeslot} from \"../../../actions/timeslot\";\r\nimport {useSelector} from \"react-redux\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport {toast} from \"react-toastify\";\r\n\r\nconst TimeslotEdit= ({match}) => {\r\n\r\n    const {user} = useSelector( state => ({...state}));\r\n    const [startslot,setStartslot] = useState(\"\");\r\n    const [endslot, setEndslot] = useState(\"\");\r\n    const [loading,setLoading] = useState(false);\r\n\r\n    const id= match.params.id;\r\n\r\n    useEffect( () => {\r\n       loadTimeslot(); \r\n    },[]);\r\n\r\n    const loadTimeslot= () => {\r\n        fetchTimeslot(id).then ( (res) => \r\n        {\r\n            setStartslot(res.data.startSlot)\r\n            setEndslot(res.data.endSlot)\r\n        })\r\n    }\r\n\r\n    const addRoute= ()=> {\r\n        return(\"/admin/categories/categoriescreate\");\r\n     } \r\n\r\n     const handleSubmit= (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        editTimeslot(id,{startSlot: startslot, endSlot: endslot },user.token)\r\n        .then ( res => {\r\n            setLoading(false);\r\n            toast.success(`timeslot is updated successfully`);  \r\n            setStartslot(\"\");\r\n            setEndslot(\"\");            \r\n        }).catch (err => {\r\n            console.log(err);\r\n            setLoading(false);\r\n            if(err.response===400) \r\n               toast.error(err.response.data);\r\n            else\r\n                toast.error(err.response);\r\n          })\r\n     }\r\n\r\n    return ( \r\n \r\n        <div className= \"row mt-5\">\r\n        <div className= \"col col-md-3\" >\r\n          <AdminNav />\r\n        </div>         \r\n         <div className= \"col col-md-8 mt-2\">\r\n         <h1 className= \"font-weight-bold d-flex justify-content-center mb-4\">Edit Timeslots</h1>\r\n         <form onSubmit= {handleSubmit}>\r\n         <div className=\"row d-flex justify-content-center mb-4\">\r\n         <div className=\"col col-md-3\">\r\n           <input \r\n             type=\"text\"\r\n             name=\"startslot\"\r\n             className= \"form-control\"\r\n             placeholder= \"Start Slot\" \r\n                onChange= {(e) => setStartslot(e.target.value)}\r\n                value= {startslot}   \r\n                autoFocus         \r\n            />\r\n          </div>\r\n           <div className=\"col col-md-3\">\r\n            <input \r\n               type=\"text\"\r\n               name=\"endslot\"\r\n               className= \"form-control\"\r\n                placeholder= \"End Slot\" \r\n                onChange= {(e) => setEndslot(e.target.value)}\r\n                value= {endslot} \r\n             />  \r\n            </div> \r\n            </div>       \r\n           <div className= \" d-flex justify-content-center mt-3  \">\r\n             <button type=\"submit\" className = \"btn btn-primary font-weight-bold \" name=\"timeslot\">Edit</button>  \r\n           </div>  \r\n         </form>        \r\n        \r\n        </div>\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default TimeslotEdit;\r\n","import React, {useState,useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport Modal from \"../../Modal\";\r\nimport history from \"../../../history\";\r\nimport { toast } from \"react-toastify\";\r\nimport {fetchTimeslots, deleteTimeslot} from \"../../../actions/timeslot\";\r\n\r\nconst TimeslotDelete= (props) => {\r\n\r\n  const {user} = useSelector( state => ({...state}));\r\n  const [loading, setLoading] = useState(false);\r\n  const [timeslots, setTimeslots] = useState([]);\r\n  const id = props.match.params.id;\r\n\r\n  {console.log(\"PROPS\",props.match.params)}\r\n\r\n  useEffect( () => {\r\n    getTimeslots();\r\n }, [] );\r\n\r\nconst getTimeslots = () => {\r\n   fetchTimeslots().then ( (res) => setTimeslots(res.data));\r\n}\r\n\r\n  const addRoute = () => {\r\n    return(\"/admin/timeslot/timeslotcreate\");\r\n  }\r\n\r\n  const handleDelete = () => {\r\n    setLoading(true);\r\n    deleteTimeslot(id, user.token)\r\n    .then ( res => {\r\n        setLoading(false);\r\n        toast.success(`Timeslot deleted successfully`);\r\n        getTimeslots();           \r\n    })\r\n    .catch ( (err) => {\r\n           console.log(err);\r\n           setLoading(false);\r\n           if(err.response===400) \r\n                toast.error(err.response.data);\r\n           else\r\n                toast.error(err.message);\r\n       });\r\n }\r\n\r\n  const renderActions = () => {\r\n       \r\n    return (\r\n      <React.Fragment>\r\n       <button onClick= { () => {handleDelete()}    } \r\n          type=\"submit\" className=\" btn btn-danger primary-button mr-3\">Yes</button>\r\n       <Link to= \"/admin/timeslot/listslots\" \r\n             type=\"button\" className= \"btn btn-secondary primary-button\">No</Link>\r\n       </React.Fragment>\r\n       );\r\n  }\r\n\r\n  const renderContent= () => {\r\n       \r\n    if(!id) {\r\n       return (\"Are you sure you want to delete this timeslot?\");\r\n    }\r\n       return(`Are you sure you want to delete the timeslot`);\r\n   }\r\n\r\n    return (\r\n\r\n        <div>\r\n          <AdminMenu  \r\n            addRoute= {addRoute()}\r\n          />         \r\n          <Modal \r\n            title= \"Delete a Timeslot\"\r\n            content= {renderContent()}\r\n            actions= {renderActions()}\r\n            onDismiss = {() => history.push(\"/admin/timeslot/listslots\") }\r\n         />\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default TimeslotDelete;","import axios from \"axios\";\r\nconst ROOT_URL = 'http://localhost:5000';\r\n\r\nexport const addArea =  async ( authtoken) =>  {\r\n    const res = await axios.get(`${ROOT_URL}/api/areas`, \r\n    {headers: {authtoken}});   \r\n    // history.push(\"/admin/categories/arealist\");\r\n  };\r\n\r\n  export const fetchAreas =  async () =>  {\r\n    return await axios.get(`${ROOT_URL}/api/areas/list`);     \r\n   };\r\n\r\n   export const fetchCities= async () =>  {\r\n     return await axios.get(`${ROOT_URL}/api/areas/listcities`);\r\n   }\r\n\r\n   export const fetchCounties= async (city) => {\r\n     console.log(city);\r\n     const res=  await axios.get(`${ROOT_URL}/api/areas/listcounties/${city}`);\r\n     console.log(\"IN fetch county\",res);\r\n     return res;\r\n   }","import React, {useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {addArea} from \"../../../actions/area\";\r\n\r\nconst AreaLoad = () => {\r\n\r\n  const {user} = useSelector( state => ({...state}));\r\n  const [areas, setAreas] = useState([]);\r\n  const [loading,setLoading] = useState(false);\r\n\r\n  const submitAreas= (e) => {\r\n      e.preventDefault();\r\n      addArea(user.token)\r\n      .then (res => {\r\n        setLoading(true);\r\n        setAreas(res.data); \r\n        setLoading(false);\r\n      }     \r\n      )}\r\n\r\n\r\n  return (\r\n   <div  className= \"row\">\r\n     <div className= \"col col-md-12 d-flex justify-content-center mb-5\">\r\n           <button type=\"submit\" \r\n                   className= \"btn btn-primary  mt-5\"\r\n                   onClick= {submitAreas}\r\n           > { loading ? <h5>Loading Areas....</h5>\r\n                       :<h5 className=\"font-weight-bold\">UPLOAD AREAS</h5>\r\n            }\r\n           </button>\r\n     </div>\r\n\r\n   </div>\r\n  )\r\n\r\n}\r\n\r\nexport default AreaLoad;","import React, {useState, useEffect} from \"react\";\r\nimport {fetchAreas} from \"../../../actions/area\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport AreaLoad from \"./AreaLoad\";\r\n\r\nconst ListAreas = () => {\r\n\r\n  const [areas, setAreas] = useState([]);\r\n  const [loading,setLoading] = useState(false);\r\n\r\n  useEffect( () => {\r\n      setLoading(true);\r\n      fetchAreas().then ( res => {         \r\n          setAreas(res.data);\r\n          setLoading(false);\r\n      });\r\n  },[]);\r\n\r\n  const renderList= () => ( \r\n     areas && areas.map ( area => {\r\n        return(\r\n         <div className=\"row\" key= {area._id}>\r\n           <div className= \"col col-md-3 mb-2 d-flex justify-content-center\">\r\n             {area.city}\r\n           </div>\r\n           <div className= \"col col-md-3 mb-2 d-flex justify-content-center\">\r\n             {area.county}\r\n           </div>\r\n           <div className= \"col col-md-3 mb-2 d-flex justify-content-center\">\r\n             {area.country}\r\n           </div>\r\n        </div>\r\n       )\r\n       }\r\n       )\r\n  ) \r\n\r\n  return (    \r\n      \r\n    <div className=\"row\">      \r\n    <div className= \"col col-md-2\">\r\n        <AdminNav />\r\n    </div>  \r\n    <div className= \"col col-md-9\">\r\n      <AreaLoad />\r\n      { loading ? <h1>Loading areas...</h1> :<h1> List of Areas</h1> }\r\n      <div className= \"container-fluid category-center\"> \r\n       <div className = \" row\">  \r\n        <div className= \"col col-md-3\">\r\n         <h6 className= \"font-weight-bold mb-2\" >City</h6>\r\n        </div>\r\n        <div className= \"col col-md-3\">\r\n        <h6 className= \"font-weight-bold mb-2\"> County</h6>\r\n        </div>\r\n        <div className= \"col col-md-3\">\r\n         <h6 className= \"font-weight-bold mb-2\"> Country</h6>\r\n        </div>\r\n      </div>\r\n      <form>\r\n      {renderList()}\r\n      </form>   \r\n      </div>\r\n    </div>\r\n      </div>\r\n \r\n  )\r\n}\r\n\r\nexport default ListAreas;","export default __webpack_public_path__ + \"static/media/cmh_new.feca33ef.png\";","import React, {useState} from \"react\";\r\nimport {useHistory} from \"react-router-dom\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {SearchOutlined} from \"@ant-design/icons\";\r\n\r\n const Search = () =>\r\n {\r\n  const dispatch = useDispatch();\r\n  const {search} = useSelector( state => ({...state}));\r\n  console.log(\"Search\", {search})\r\n   const {text} = search;\r\n  const history = useHistory();\r\n\r\n  \r\n   const handleSearch = (e) => {\r\n     dispatch({\r\n       type: \"SEARCH_QUERY\",\r\n       payload: {text: e.target.value}\r\n     })\r\n    }\r\n\r\n    const handleSubmit = (e) => {\r\n      e.preventDefault();\r\n      history.push(`/shop?${text}`)\r\n    }\r\n\r\n   return (\r\n       <form className= \"form-inline my-2 my-lg-0\"\r\n             onSubmit= {handleSubmit}\r\n      >\r\n          <input\r\n             type= \"search\"\r\n             placeholder= \"Search\"\r\n             value= {text}\r\n             className= \"form-control mr-sm-2\" \r\n             onChange= {handleSearch}           \r\n           />\r\n          <SearchOutlined onClick={handleSubmit} \r\n                          className= \"float-center\"\r\n                          style= {{ cursor: 'pointer'}}\r\n          />\r\n       </form>\r\n   )\r\n}\r\nexport default Search;\r\n","import React, { useState } from \"react\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport { Menu, Badge } from 'antd';\r\nimport {\r\n  HomeOutlined,\r\n  LoginOutlined,\r\n  UserAddOutlined,\r\n  UserSwitchOutlined,\r\n  SettingOutlined,\r\n  LogoutOutlined,\r\n  ShoppingOutlined,\r\n  ShoppingCartOutlined\r\n} from '@ant-design/icons';\r\nimport \"bootstrap/dist/css/bootstrap.css\";\r\nimport logo from \"./common/cmh_new.png\";\r\nimport firebase from 'firebase';\r\nimport { LOGOUT } from \"../actions/types\";\r\nimport SearchBar from \"./utils/Search\";\r\n\r\nconst { SubMenu } = Menu;\r\n\r\nconst Header = () => {\r\n\r\n  const [current, setCurrent] = useState('home');\r\n\r\n  const dispatch = useDispatch();\r\n  const history = useHistory();\r\n  const { user, cart } = useSelector((stateVal) => ({ ...stateVal }));\r\n\r\n  const handleClick = (e) => {\r\n    setCurrent(e.key);\r\n  }\r\n\r\n  const logout = () => {\r\n    firebase.auth().signOut()\r\n    dispatch({\r\n      type: LOGOUT,\r\n      payload: null\r\n    });\r\n    window.localStorage.removeItem(\"user\");\r\n    history.push(\"/login\");\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <header>\r\n        <section className=\"header-section\" id=\"title\">\r\n          <div className=\"container-fluid\">\r\n            <nav className=\"navbar navbar-expand-lg navbar-dark\">\r\n              <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" aria-expanded=\"false\" aria-label=\"Toggle navigation\">\r\n                <span key=\"span1\" className=\"navbar-toggler-icon\"></span>\r\n              </button>\r\n\r\n              <div className=\"collapse navbar-collapse \" id=\"navbarSupportedContent\">\r\n                <ul className=\"nav navbar-nav navbar-center\">\r\n                  <li className=\"nav-item\">\r\n                    <a className=\"nav-link font-weight-bold\" href=\"/contact\">Contact</a>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <a className=\"nav-link font-weight-bold\" href=\"/newletter\">Newsletter</a>\r\n                  </li>\r\n                  <li className=\"nav-item\">\r\n                    <a className=\"nav-link font-weight-bold\" href=\"/download\">Download</a>\r\n                  </li>\r\n                </ul>\r\n              </div>\r\n\r\n              <Menu onClick={handleClick} selectedKeys={[current]}\r\n                mode=\"horizontal\"\r\n                className=\"font-weight-bold d-flex p-1 mr-5\">\r\n\r\n                <Menu.Item key=\"home\" icon={<HomeOutlined />} >\r\n                  <Link to=\"/\">Home </Link>\r\n                </Menu.Item>\r\n\r\n                <Menu.Item key=\"shop\" icon={<ShoppingOutlined />} >\r\n                  <Link to=\"/shop\">Shop</Link>\r\n                </Menu.Item>\r\n\r\n                <Menu.Item key=\"cart\" icon={<ShoppingCartOutlined />} >\r\n                  <Link to=\"/cart\">\r\n                    <Badge count={cart.length} offset={[9, 0]}>\r\n                      Cart\r\n                    </Badge>\r\n                  </Link>\r\n                </Menu.Item>\r\n              </Menu>\r\n\r\n              <Menu onClick={handleClick} selectedKeys={[current]}\r\n                mode=\"horizontal\"\r\n                className=\"font-weight-bold fontname \">\r\n\r\n\r\n                {!user &&\r\n                  <Menu.Item key=\"login\" icon={<LoginOutlined />} >\r\n                    <Link to=\"/login\">Login</Link>\r\n                  </Menu.Item>}\r\n\r\n                {!user &&\r\n                  <Menu.Item key=\"vendorregistration\" icon={<UserSwitchOutlined />} >\r\n                    <Link to=\"/vendorregister\">Vendor Registration</Link>\r\n                  </Menu.Item>}\r\n\r\n                {!user &&\r\n                  <Menu.Item key=\"register\" icon={<UserAddOutlined />}>\r\n                    <Link to=\"/register\">Register</Link>\r\n                  </Menu.Item>\r\n                }\r\n\r\n                {user &&\r\n                  <SubMenu key=\"SubMenu\" icon={<SettingOutlined />}\r\n                    className=\"float-right\"\r\n                    title={user.email && user.email.split(\"@\")[0]}>\r\n\r\n                    {user && user.role === \"subscriber\" && (\r\n                      <Menu.Item key=\"userdashboard\">\r\n                        <Link to=\"/user/history\">Dashboard</Link>\r\n                      </Menu.Item>\r\n                    )}\r\n                    {user && user.role === \"vendor\" && (\r\n                      <Menu.Item key=\"vendordashboard\">\r\n                        <Link to=\"/vendor/dashboard\">Dashboard</Link>\r\n                      </Menu.Item>\r\n                    )}\r\n                    {user && user.role === \"admin\" && (\r\n                      <Menu.Item key=\"admindashbboard\">\r\n                        <Link to=\"/admin/dashboard\">Dashboard</Link>\r\n                      </Menu.Item>\r\n                    )}\r\n\r\n                    <Menu.Item key=\"logout\" icon={<LogoutOutlined />} onClick={logout}>Logout</Menu.Item>\r\n\r\n                  </SubMenu>\r\n                }\r\n\r\n                <span key=\"searchbarSpan\" className=\"float-left p-1\">\r\n                  <SearchBar />\r\n                </span>\r\n              </Menu>\r\n\r\n\r\n            </nav>\r\n\r\n            <div className=\"row\">\r\n              <div className=\"pull-left col-sm-12\">\r\n                <img src={logo} alt=\"Compare my Helper\" className=\"float-left header-img\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n      </header>\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default Header;","import React from \"react\";\r\n\r\nfunction Footer() {\r\n    return(\r\n        <section className=\"footer-section\">\r\n        <button type=\"button\" className=\" social-icon btn btn-sm twitter-button\"><i className=\"fab fa-twitter\"></i></button>\r\n        <button type=\"button\" className=\"social-icon btn btn-sm facebook-button\"><i className=\"fab fa-facebook\"></i></button>\r\n        <button type=\"button\" className=\"social-icon btn btn-sm facebook-button\"><i className=\"fab fa-instagram-square\"></i></button>\r\n        <button type=\"button\" className=\"social-icon btn btn-sm email-button\"><i className=\"fas fa-envelope-open\"></i></button>\r\n        <p> @Copyright 2021 -AvoMonk</p>\r\n      </section>\r\n    )\r\n}\r\nexport default Footer;\r\n","import { CheckSquareTwoTone } from \"@ant-design/icons\";\r\nimport React from \"react\";\r\nimport StarRating from \"react-star-ratings\";\r\n\r\n\r\nconst Star = ({ starClicked, numberOfStars, selected }) => {\r\n  return (\r\n    <>\r\n      <StarRating\r\n        changeRating={() => starClicked(numberOfStars)}\r\n        numberOfStars={numberOfStars}\r\n        starDimension=\"20px\"\r\n        starSpacing=\"2px\"\r\n        rating={numberOfStars}\r\n        starHoverColor=\"#1d2d50\"\r\n        starRatedColor={selected ? \"#1d2d50\" : \"#929699\"}\r\n      />\r\n      <br />\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Star;","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { Menu, Slider, Checkbox, Button, Tooltip, Empty, Tag } from \"antd\";\r\nimport { getVendorsByCount, getVendorsByFilter } from \"../../actions/vendor\";\r\nimport { fetchCategories } from \"../../actions/category\";\r\nimport { fetchSubcategories } from \"../../actions/subcategory\";\r\nimport VendorCard from \"../cards/VendorCard\";\r\nimport { DownSquareOutlined, StarOutlined, CloseOutlined, RightCircleFilled, CheckCircleOutlined } from \"@ant-design/icons\";\r\nimport Star from \"./Star\";\r\nimport Autocomplete from \"react-google-autocomplete\";\r\n\r\nconst { SubMenu, ItemGroup } = Menu;\r\n\r\nconst Shop = () => {\r\n\r\n    const dispatch = useDispatch();\r\n    const { search } = useSelector(state => ({ ...state }));\r\n    const didMountRef = useRef(false);\r\n    const [vendors, setVendors] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    //   const [area, setArea] = useState([]);\r\n    const [price, setPrice] = useState(undefined);\r\n    const [ok, setOk] = useState(false);\r\n    const [categories, setCategories] = useState([]);\r\n    const [category, setCategory] = useState([]);\r\n    const [star, setStar] = useState([]);\r\n    const [subcategories, setSubcategories] = useState([]);\r\n    const [sub, setSub] = useState(\"\");\r\n    const [areas, setAreas] = useState([]);\r\n    const [selectedArea, setSelectedArea] = useState(null);\r\n    const { text } = search;\r\n\r\n    useEffect(() => {\r\n        loadVendors();\r\n        loadCategories();\r\n        loadSubcategories();\r\n    }, []);\r\n\r\n    // load vendors by count when the page loads for the first time\r\n    const loadVendors = () => {\r\n        setLoading(true);\r\n        getVendorsByCount(12).then(v => setVendors(v.data));\r\n        setLoading(false);\r\n    };\r\n\r\n    const loadCategories = () => (fetchCategories().then(res => setCategories(res.data)));\r\n\r\n    const loadSubcategories = () => (fetchSubcategories().then(res => setSubcategories(res.data)));\r\n\r\n    //load vendors based on user search text input in search bar\r\n    useEffect(() => {\r\n        if (didMountRef.current) {\r\n            const delay = setTimeout(() => {\r\n                loadVendorsByFilter({ query: text });\r\n                if (!text) {\r\n                    loadVendors();\r\n                }\r\n            }, 300);\r\n            return () => clearTimeout(delay);\r\n        }\r\n        else {\r\n            didMountRef.current = true;\r\n        }\r\n    }, [text]);\r\n\r\n    const loadVendorsByFilter = (arg) => {\r\n        getVendorsByFilter(arg)\r\n            .then((res) => {\r\n                setVendors(res.data)\r\n            })\r\n            .catch((res) => {\r\n                console.log(\"filter catch : \" + res)\r\n            });\r\n    }\r\n\r\n    // load vendors based on price range selected\r\n    useEffect(() => {\r\n        if (didMountRef.current) {\r\n            handleFilters();\r\n            window.scrollTo({\r\n                top: 0,\r\n                left: 0,\r\n                behavior: \"smooth\"\r\n            });\r\n        }\r\n        else {\r\n            didMountRef.current = true;\r\n        }\r\n    }, [ok]);\r\n\r\n    const handleSlider = (value) => {\r\n        dispatch({\r\n            type: \"SEARCH_QUERY\",\r\n            payload: { text: \"\" }\r\n        })\r\n        setPrice(value);\r\n        setTimeout(() => {\r\n            setOk(!ok)\r\n        }, 300)\r\n    }\r\n\r\n    const clearSliderFilter = () => {\r\n\r\n        dispatch({\r\n            type: \"SEARCH_QUERY\",\r\n            payload: { text: \"\" }\r\n        });\r\n        setPrice(undefined);\r\n        setTimeout(() => {\r\n            setOk(!ok)\r\n        }, 300)\r\n    }\r\n\r\n    const clearRatingFilter = () => {\r\n\r\n        dispatch({\r\n            type: \"SEARCH_QUERY\",\r\n            payload: { text: \"\" }\r\n        });\r\n        setStar([]);\r\n        setTimeout(() => {\r\n            setOk(!ok)\r\n        }, 300)\r\n    }\r\n\r\n    const clearSubCategoryFilter = (e) => {\r\n\r\n        dispatch({\r\n            type: \"SEARCH_QUERY\",\r\n            payload: { text: \"\" }\r\n        });\r\n        setSub(\"\")\r\n        setTimeout(() => {\r\n            setOk(!ok)\r\n        }, 300)\r\n        e.preventDefault();\r\n    }\r\n\r\n    //handle change for categories\r\n    const handleCategoryChange = (e) => {\r\n        dispatch({\r\n            type: \"SEARCH_QUERY\",\r\n            payload: { text: \"\" }\r\n        })\r\n        const catInState = [...category];\r\n        const catChecked = e.target.value;\r\n        //check if the category id already exists in the array of current categories. \r\n        //if the item is found, it returns index of the item otherwise it returns -1\r\n        const catAlreadyInState = catInState.indexOf(catChecked);\r\n        if (catAlreadyInState === -1) {\r\n            catInState.push(catChecked);\r\n        } else {\r\n            catInState.splice(catAlreadyInState, 1);\r\n        }\r\n        setCategory(catInState);\r\n        setTimeout(() => {\r\n            setOk(!ok)\r\n        }, 300)\r\n    }\r\n\r\n    const handleStarClicked = (num) => {\r\n        dispatch({\r\n            type: \"SEARCH_QUERY\",\r\n            payload: { text: \"\" }\r\n        })\r\n        var selectedStars = [...star];\r\n        const alreadySelectedStars = selectedStars.indexOf(num);\r\n        if (alreadySelectedStars === -1) {\r\n            selectedStars.push(num);\r\n        } else {\r\n            selectedStars.splice(alreadySelectedStars, 1);\r\n        }\r\n\r\n        setStar(selectedStars);\r\n        setTimeout(() => {\r\n            setOk(!ok)\r\n        }, 300)\r\n    }\r\n\r\n    const handleAreas = (area) => {\r\n        setSelectedArea(area);\r\n        setAreas(result => [...result, area]);\r\n        // setAreas(areas.filter(a => a.place_id != area.place_id));\r\n\r\n    }\r\n\r\n    //handle selection of star ratings\r\n    const showStars = () => (\r\n        <div className=\"pr-4 pl-4 pb-2\">\r\n            <Star starClicked={handleStarClicked} numberOfStars={5} selected={[...star].indexOf(5) > -1} />\r\n            <Star starClicked={handleStarClicked} numberOfStars={4} selected={[...star].indexOf(4) > -1} />\r\n            <Star starClicked={handleStarClicked} numberOfStars={3} selected={[...star].indexOf(3) > -1} />\r\n            <Star starClicked={handleStarClicked} numberOfStars={2} selected={[...star].indexOf(2) > -1} />\r\n            <Star starClicked={handleStarClicked} numberOfStars={1} selected={[...star].indexOf(1) > -1} />\r\n        </div>\r\n    )\r\n\r\n    const showAreas = () => (\r\n        [...areas].map((s) => (\r\n            <Tag\r\n                color='blue'\r\n                className=\"p-1 m-1\"\r\n                key={s.place_id}\r\n                style={{ cursor: \"pointer\" }}\r\n            >{s.formatted_address}</Tag>\r\n        ))\r\n    )\r\n\r\nconst handleSubCategory = (sub) => {\r\n    console.log(sub);\r\n    dispatch({\r\n        type: \"SEARCH_QUERY\",\r\n        payload: { text: \"\" }\r\n    })\r\n    setSub(sub);\r\n    setTimeout(() => {\r\n        setOk(!ok)\r\n    }, 300)\r\n}\r\n\r\nconst handleFilters = () => {\r\n    console.log(price);\r\n    loadVendorsByFilter({ query: text, price: price, category: category, stars: star, sub: sub })\r\n}\r\n\r\nreturn (\r\n    <div className=\"container-fluid\">\r\n        <div className=\"row mt-2\">\r\n            <div className=\"col col-md-3 mt-2\">\r\n                <h4>Search/Filter</h4>\r\n                <hr />\r\n                <Menu defaultOpenKeys={[\"1\", \"2\", \"3\", \"4\", \"5\"]} mode=\"inline\">\r\n                    <SubMenu key=\"1\" title={<span className=\"h6\">Area</span>}>\r\n                        <div className=\"row\">\r\n                            <div className=\"col col-md-10\">\r\n                                <Autocomplete\r\n                                    apiKey=\"AIzaSyAG4N6GONCjaMkk-QnJw1eHeConkKFrzGY\"//\"AIzaSyBnYVkxZoAHzYSlNAq167HjQ3seFcUPa7Q\" //--AIzaSyAG4N6GONCjaMkk-QnJw1eHeConkKFrzGY\r\n                                    onPlaceSelected={(place) => {\r\n                                        handleAreas(place);\r\n                                    }}\r\n                                    className=\"ml-3 w-100\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"col col-md-10\">\r\n                                <div className=\"pl-4 pr-4\">\r\n                                    {showAreas()}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </SubMenu>\r\n                    <SubMenu key=\"2\" title={<span className=\"h6\">\r\n                        Price\r\n                    </span>\r\n                    }>\r\n                        <div className=\"row\">\r\n                            <div className=\"col col-md-9\">\r\n                                <Slider className=\"ml-4 mt-2\"\r\n                                    tipFormatter={(v) => `£${v}`}\r\n                                    range\r\n                                    value={price == undefined ? [0, 0] : price}\r\n                                    onChange={handleSlider}\r\n                                    max=\"500\"\r\n                                />\r\n                            </div>\r\n                            <div className=\"col col-md-2\">\r\n                                <Tooltip title=\"Clear Price\">\r\n                                    <Button size=\"small\" shape=\"circle\" type=\"dashed\" onClick={clearSliderFilter}\r\n                                        icon={<CloseOutlined className=\"d-block\" style={{ fontSize: \"medium\" }} />} />\r\n                                </Tooltip>\r\n                            </div>\r\n                            <div className=\"col-md-12 mt-1 mb-1\">\r\n                                <b className=\"text-primary ml-4\"> {(price ? `£${price[0]} - £${price[1]}` : \"\")} </b>\r\n                            </div>\r\n                        </div>\r\n                    </SubMenu>\r\n                    <SubMenu key=\"3\" title={<span className=\"h6\">\r\n                        <DownSquareOutlined /> Categories\r\n                    </span>\r\n                    }>\r\n                        <div style={{ marginTop: \"-10px\" }}>\r\n\r\n                            {categories && categories.map((c) => (\r\n                                <div className=\"pt-2 fixedHeight overflowScroll\" key={c._id}>\r\n                                    <Checkbox className=\"pb-2 pl-4 pr-4\"\r\n                                        onChange={handleCategoryChange}\r\n                                        value={c._id}\r\n                                        name=\"category\"\r\n                                        checked={category.includes(c._id)}\r\n                                    >{c.name}</Checkbox>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    </SubMenu>\r\n                    <SubMenu key=\"4\" title={<span className=\"h6 mt-2\">\r\n                        <StarOutlined style={{ marginTop: \"-2px\" }} /> Rating\r\n                        <Tooltip title=\"Clear Ratings\">\r\n                            <Button size=\"small\" shape=\"circle\" type=\"dashed\" onClick={clearRatingFilter}\r\n                                style={{ float: \"right\", top: \"10px\", paddingLeft: \"3px\" }}\r\n                                icon={<CloseOutlined className=\"d-block\" style={{ fontSize: \"medium\" }} />} />\r\n                        </Tooltip>\r\n                    </span>\r\n                    }>\r\n                        <div style={{ marginTop: \"-10px\" }}>\r\n                            {showStars()}\r\n                        </div>\r\n                    </SubMenu>\r\n                    <SubMenu key=\"5\" title={<span className=\"h6 mt-2\">\r\n                        <DownSquareOutlined /> Sub Category\r\n                        <Tooltip title=\"Clear Sub Category\">\r\n                            <Button size=\"small\" shape=\"circle\" type=\"dashed\" onClick={clearSubCategoryFilter}\r\n                                style={{ float: \"right\", top: \"10px\", paddingLeft: \"3px\" }}\r\n                                icon={<CloseOutlined className=\"d-block\" style={{ fontSize: \"medium\" }} />} />\r\n                        </Tooltip>\r\n                    </span>\r\n                    }>\r\n                        <div className=\"pl-4 pr-4\">\r\n                            {subcategories && subcategories.map((s) => (\r\n                                <Tag\r\n                                    color={`${s._id == sub._id ? '#1d2d50' : ''}`} //#108ee9\r\n                                    onClick={() => handleSubCategory(s)}\r\n                                    className=\"p-1 m-1\"\r\n                                    key={s._id}\r\n                                    style={{ cursor: \"pointer\" }}\r\n                                >{s.name}</Tag>\r\n                            ))\r\n                            }\r\n                        </div>\r\n                    </SubMenu>\r\n                </Menu>\r\n            </div>\r\n            <div className=\"col col-md-9\">\r\n                {loading ? <h4 className=\"text-danger\">Loading...</h4>\r\n                    : <h4>Vendors</h4>\r\n                }\r\n\r\n                {vendors.length < 1 && <Empty description={<b>\"Sorry, we couldn't find any results !\"</b>} />}\r\n\r\n                <div className=\"col col-md-12\">\r\n                    <div className=\"row\">\r\n\r\n                        {vendors.map((v) => (\r\n                            <div className=\"col col-md-4\"\r\n                                key={v._id}\r\n                                style={{ cursor: \"pointer\" }}\r\n                            >\r\n                                <VendorCard vendor={v} />\r\n                            </div>\r\n\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n                <div>\r\n\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n\r\n    </div>\r\n)\r\n}\r\n\r\nexport default Shop;","import React from \"react\";\r\nimport ModalImage from \"react-modal-image\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {CloseCircleOutlined} from \"@ant-design/icons\";\r\n\r\nconst VendorCardCheckout= ({v}) => {\r\n\r\n    {console.log(\"VALUE OF V\",v)}\r\n\r\nconst dispatch= useDispatch();\r\n\r\n const handleQuantityChange= (e) => {\r\n     \r\n    let cart= [];\r\n    let count = e.target.value < 1 ? 1 : e.target.value\r\n     \r\n     if (typeof window !== \"undefined\") {\r\n         if (localStorage.getItem(\"cart\")) {\r\n             cart= JSON.parse(localStorage.getItem(\"cart\"));\r\n         }\r\n\r\n         cart.map( (vendor,i) => {\r\n            if (vendor._id === v._id)\r\n             cart[i].count= count            \r\n         });\r\n         localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n         dispatch({ \r\n                type: \"ADD_TO_CART\",\r\n                payload:cart\r\n         });\r\n     }     \r\n }\r\n\r\n const handleRemove= () => {\r\n    console.log(v._id);\r\n    let cart= [];\r\n\r\n    if (typeof window !== \"undefined\") {\r\n        if (localStorage.getItem(\"cart\")) {\r\n            cart= JSON.parse(localStorage.getItem(\"cart\"));\r\n        }\r\n    }\r\n    cart.map( (vendor,i) => {\r\n        if (vendor._id === v._id)\r\n         cart.splice(i,1);\r\n    });\r\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\r\n         dispatch({ \r\n                type: \"ADD_TO_CART\",\r\n                payload:cart\r\n    });\r\n }  \r\n\r\n  return(\r\n      <tbody>\r\n         <tr>\r\n             <td>\r\n              <div style= {{ width: \"100px\", height:\"auto\"}}>\r\n               {v.images.length ? <ModalImage  small= {v.images[0].url}\r\n                                               large = {v.images[0].url}/> : \"\"}\r\n              </div>\r\n              \r\n             </td>\r\n             <td>{v.vendorInfoId.name} </td>\r\n             <td>{v.subcategories[0].name} </td>\r\n             <td>{v.vendorInfoId.city}</td>\r\n             <td> £{v.price} , {v.pricetype}</td>\r\n             <td>{v.bookingDate}</td>\r\n             <td>\r\n                 {v.bookingSlots && v.bookingSlots.map( bslot => (\r\n                     bslot.tstimeslot && bslot.tstimeslot.map ( tslot => (\r\n                           <p key= {tslot._id}>{tslot.startSlot}- {tslot.endSlot}</p> \r\n                     ))                       \r\n                     )\r\n                 )                  \r\n                 }\r\n             </td>\r\n             <td >\r\n              <input \r\n                  type=\"number\"\r\n                  style= {{width: \"80px\"}}\r\n                  className=\"form-control\"\r\n                  value={v.count}\r\n                  onChange= {handleQuantityChange}\r\n              />  \r\n             </td>\r\n             <td className= \"font-weight-bold\" >    \r\n               <CloseCircleOutlined  className= \"text-danger pointer mt-3 ml-3\" \r\n                               onClick= {handleRemove}   />\r\n               </td>\r\n         </tr>\r\n      </tbody>\r\n  )\r\n  \r\n}\r\n\r\nexport default VendorCardCheckout;","import axios from \"axios\";\r\n\r\n\r\nconst ROOT_URL = 'http://localhost:5000';\r\n\r\nexport const userCart = async (cart, authtoken) => {\r\n  const cartval = await axios.post(`${ROOT_URL}/user/cart`, { cart },\r\n    { headers: { authtoken } });\r\n  console.log(`VALUE OF CART FROM ACTION USER CART`, cartval);\r\n  return cartval;\r\n}\r\n\r\nexport const getuserCart = async (authtoken) => {\r\n  const cart = await axios.get(`${ROOT_URL}/user/cart`,\r\n    { headers: { authtoken } });\r\n\r\n  console.log(`CART FROM GET`, cart);\r\n  return (cart);\r\n}\r\n\r\nexport const emptyUserCart = async (authtoken) => {\r\n  await axios.delete(`${ROOT_URL}/user/cart`, { headers: { authtoken } });\r\n}\r\n\r\nexport const saveUserAddress = async (address, authtoken) => {\r\n  return await axios.post(`${ROOT_URL}/user/address`, { address },\r\n    { headers: { authtoken } });\r\n}\r\n\r\n// update user in local storage for stripe\r\nexport const updateUserInLocalStorage = (user, next) => {\r\n  if (window.localStorage.getItem(`user`)) {\r\n    let userval = JSON.parse(localStorage.getItem(`user`));\r\n    const token = userval.token;\r\n    userval = {\r\n      _id: user._id,\r\n      email: user.email,\r\n      name: user.name,\r\n      role: user.role,\r\n      picture: user.picture,\r\n      address: user.address,\r\n      cart: user.cart,\r\n      stripe_account_id: user.stripe_account_id,\r\n      stripe_seller: user.stripe_seller,\r\n      stripeSession: user.stripeSession,\r\n      token: userval.token\r\n    }\r\n    console.log(`USERVAL NEW`, userval);\r\n    localStorage.setItem(`user`, JSON.stringify(userval));\r\n    next();\r\n  }\r\n}\r\n\r\nexport const createOrder = async (stripeResponse, authtoken) => {\r\n  return await axios.post(`${ROOT_URL}/user/order`, { stripeResponse },\r\n    { headers: { authtoken } });\r\n}\r\n\r\nexport const getUserOrders = async (authtoken) => {\r\n  return await axios.get(`${ROOT_URL}/user/order`,\r\n    { headers: { authtoken } });\r\n}\r\n\r\n","import React from \"react\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { getVendorsTotal } from \"../actions/vendor\";\r\nimport VendorCardCheckout from \"./cards/VendorCardCheckout\";\r\nimport {userCart} from \"../actions/user\";\r\n\r\nconst Cart= ({history}) => {\r\n\r\n  const {user,cart} = useSelector( (state) => ({...state}));\r\n  const dispatch = useDispatch();\r\n\r\n  const getCartTotal= () => {\r\n      return cart.reduce( (currentValue, nextValue) => {\r\n          return currentValue + nextValue.count * nextValue.price\r\n      },0)\r\n  }\r\n\r\n  // const cartval= cart[0].subcategories\r\n\r\n  {console.log(\"VALUE OF CART\",cart)}\r\n\r\n  const saveOrderToDB= () => {\r\n      userCart(cart,user.token)\r\n      .then ( res => {\r\n         console.log(\"Cart response ZZZ\",res.data)\r\n         if (res.data.ok) history.push(\"/checkout\");\r\n      })\r\n      .catch ((err) => console.log(err));\r\n      }\r\n  const showCartItems= () => (\r\n    <div className= \"table-responsive\">\r\n      <table className= \"table table-bordered\">\r\n        <thead className= \"thead-light\">\r\n         <tr>\r\n             <th scope=\"col\">Image</th>\r\n             <th scope=\"col\">Name</th>\r\n             <th scope=\"col\">Sub Catgeory</th>\r\n             <th scope=\"col\">Area</th>\r\n             <th scope=\"col\">Price</th>\r\n             <th scope=\"col\">Booking Date</th>\r\n             <th scope=\"col\"> Booked Timeslots</th>\r\n             <th scope=\"col\">Count</th>\r\n             <th scope=\"col\"> Remove</th>\r\n         </tr>\r\n        </thead>\r\n        {cart.map( (v) => (\r\n            <VendorCardCheckout key={v._id} v = {v} />\r\n        ))}\r\n      </table>\r\n      </div>\r\n  )\r\n\r\n  return (\r\n      <div className= \"container-fluid\">\r\n        <div className= \"row mt-2\">\r\n         <div className= \"col col-md-8\">\r\n            <h4>Cart / {cart.length} Vendors</h4> \r\n             { !cart.length ? <p className= \"h6\">No helper selected. <Link to=\"/shop\">Find a helper</Link></p>\r\n              : showCartItems()\r\n             }\r\n         </div>\r\n         <div className= \"col col-md-4\">\r\n             <h4>Order Summary</h4>\r\n             <hr />\r\n             <p className= \"font-weight-bold\">Selected Helper</p>\r\n             \r\n             {cart.map((c,i) => (\r\n                 <div key={i}>\r\n                   <p>{c.vendorInfoId.name}  {c.subcategories[0].name} =  £{c.price * c.count}</p>\r\n                 </div>\r\n             ))}\r\n             \r\n             <hr />\r\n              Total : <b> £{getCartTotal()}</b>\r\n             <hr />\r\n             {\r\n               user ? \r\n               <button onClick= {saveOrderToDB} \r\n                       className= \"btn btn-sm btn-primary mt-2 font-weight-bold\"\r\n                       disabled= {!cart.length}\r\n                       >Proceed to Checkout</button>  \r\n               : (\r\n                 <button className= \"btn btn-sm btn-secondary font-weight-bold mt-2\">\r\n                  <Link to= {{\r\n                    pathname: \"/login\",\r\n                    state: { from:\"cart\"}\r\n                  }} >\r\n                    Login to Checkout\r\n                  </Link>                 \r\n                 </button>  \r\n               )\r\n             }\r\n         </div>\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Cart;","import react from \"react\";\r\nimport {Drawer,Button} from \"antd\";\r\nimport {useSelector,useDispatch} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst SideDrawer= () => {\r\n\r\n    const dispatch= useDispatch();\r\n\r\n    const {cart,drawer} = useSelector( (state) => ({...state}));\r\n\r\n    return (\r\n\r\n        <Drawer \r\n          title={`Cart / ${cart.length} Helpers`}\r\n          onClose= { () => {\r\n            dispatch({\r\n              type: \"SET_VISIBLE\",\r\n              payload:false\r\n          });\r\n        }} visible={drawer} >\r\n           { cart.map( (c) => (\r\n            <div className=\"row\" key= {c._id}>\r\n               <div className=\"col\">\r\n                {c.images[0] ? \r\n                <>               \r\n                <img src= {c.images[0].url}\r\n                  style= {{ width:\"100%\", height:\"60px\",objectFit:\"cover\"}}\r\n                />                   \r\n                <p className=  \"bg-secondary font-weight-bold\">{c.vendorInfoId.name} x {c.count}</p> \r\n                </>\r\n                : \r\n                <>\r\n                \"No image\"\r\n                <p className= \"background-secondary font-weight-bold\">{c.vendorInfoId.name} x {c.count}</p> \r\n                </>\r\n                } \r\n              </div>   \r\n             \r\n            </div>\r\n           ))}\r\n           <Link to=\"/cart\">\r\n           <button className= \"btn btn-primary btn-raised btn-block\"\r\n                   onClick= { () => \r\n                     dispatch({\r\n                         type: \"SET_VISIBLE\",\r\n                         payload:false\r\n                   })  \r\n                   }\r\n           >\r\n              Go To Cart\r\n           </button>\r\n           </Link>\r\n        </Drawer>\r\n    )\r\n\r\n}\r\n\r\nexport default SideDrawer;","import axios from \"axios\";\r\nconst ROOT_URL = 'http://localhost:5000';\r\nexport const createConnectAccount = async (authtoken) => {\r\n  return await axios.post(`${ROOT_URL}/api/create-connect-account`, {},\r\n    { headers: { authtoken } });\r\n}\r\n\r\nexport const getAccountStatus = async (authtoken) => {\r\n\r\n  console.log(\"AUTHTOKEN FROM GETACCOUNT STATUS\", authtoken);\r\n  const res = await axios.post(`${ROOT_URL}/api/get-account-status`, {},\r\n    { headers: { authtoken } });\r\n  console.log(\"RES from get account status\", res);\r\n  return res;\r\n}\r\n\r\nexport const getAccountBalance = async (authtoken) => {\r\n  const res = await axios.post(`${ROOT_URL}/api/get-account-balance`, {},\r\n    { headers: { authtoken } });\r\n  return res;\r\n}\r\n\r\nexport const currencyFormatter = data => {\r\n  return (data.amount / 100).toLocaleString(data.currency, {\r\n    style: \"currency\",\r\n    currency: data.currency\r\n  });\r\n}\r\n\r\nexport const payoutSettings = async (authtoken) => {\r\n  const res = await axios.post(`${ROOT_URL}/api/payout-settings`, {},\r\n    { headers: { authtoken } });\r\n  return res;\r\n}\r\n\r\n\r\nexport const createPaymentIntent = async (authtoken) => {\r\n  const res = await axios.post(`${ROOT_URL}/api/create-payment-intent`, {},\r\n    { headers: { authtoken } });\r\n  return res;\r\n}\r\n\r\nexport const getSessionId = async (authtoken, vendorId) => {\r\n  const res = await axios.post(`${ROOT_URL}/api/stripe-session-id`, { vendorId },\r\n    { headers: { authtoken } });\r\n  console.log(\"RES from STRIPE SESSION\", res);\r\n  return res;\r\n}\r\n\r\nexport const stripeSuccessRequest = async (authtoken, vendor) => {\r\n  console.log(\"FROM stripe success action\", vendor);\r\n  const res = await axios.post(`${ROOT_URL}/api/stripesuccess`, { vendor },\r\n    { headers: { authtoken } });\r\n  console.log(\"RES FROM STRIPE SESSION SUCCESS\", res);\r\n  return res;\r\n}\r\n\r\n\r\n","import react,{useState, useEffect} from \"react\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {toast} from \"react-toastify\";\r\nimport {emptyUserCart, getuserCart} from \"../../actions/user\";\r\nimport {loadStripe} from \"@stripe/stripe-js\";\r\nimport keys from \"../../config/keys\";\r\nimport { getSessionId} from \"../../actions/stripe\";\r\n\r\nconst Checkout= ({history}) => {\r\n\r\n  const [ vendors, setVendors] = useState([]);\r\n  const [total,setTotal] = useState(0);\r\n  const [name, setName] = useState([]);\r\n  \r\n  const dispatch = useDispatch();\r\n\r\n  const {user} = useSelector( (state) => ({...state}));\r\n\r\n  useEffect( () => {\r\n    getuserCart(user.token)\r\n    .then( res => {\r\n        setVendors(res.data.vendors);\r\n        setTotal(res.data.cartTotal);\r\n    }); \r\n  },[]);\r\n\r\n     \r\n   const emptyCart= () => {\r\n     //remove from local storage\r\n     if (typeof window !== \"undefined\") {\r\n       localStorage.removeItem(\"cart\")\r\n     }\r\n    //remove from redux \r\n    dispatch({\r\n      type: \"ADD_TO_CART\",\r\n      payload: []\r\n    });\r\n    // remove from backend\r\n    emptyUserCart(user.token).then( res => {\r\n      setVendors([]);\r\n      setTotal(0);\r\n      toast.success(\"Cart is empty. Continue shopping...\");\r\n    })\r\n   } \r\n\r\n   const handleSubmit= async (e) => {\r\n       e.preventDefault();\r\n       console.log(\"FROM CHECKOUT\",user.token, vendors[0].vendor.userId);\r\n       const res= await getSessionId(user.token,vendors[0].vendor.userId);\r\n       console.log(\"SESSION ID\",res.data.sessionId);\r\n       const stripe= await loadStripe(keys.REACT_APP_STRIPE_KEY);\r\n       stripe.redirectToCheckout({\r\n           sessionId: res.data.sessionId\r\n       }).then( (result) => console.log(\"RESULT\",result));\r\n   }\r\n \r\n  return (\r\n    <div className=\"row d-flex justify-content-center\">\r\n       <div className= \"col col-md-6 \">\r\n         <h4>Order Summary</h4>\r\n           \r\n         <hr />\r\n         <h4>Helpers - {vendors.length}</h4>\r\n         <hr />\r\n         <h4>Selected Helpers</h4>\r\n         {vendors.map((v, i) => (\r\n           <div key= {i}>\r\n             <b className=\"d-flex content-align-center h6\"> {v.vendor.vendorInfoId.name} [{v.vendor.subcategories[0].name}] X {v.count} = {v.vendor.price}</b> \r\n                 \r\n           </div>\r\n         ))}\r\n         <hr />\r\n         <p className= \"font-weight-bold h6\">Cart Total: {total}</p>\r\n\r\n         <div className=\"row\">\r\n             <div className=\"col col-md-6 mt-2\"> \r\n               <button className=\"btn btn-primary mt-3\"\r\n                      disabled= { !vendors.length}\r\n                      onClick= {handleSubmit}\r\n                >Place Order</button>\r\n             </div>\r\n             <div className=\"col col-md-6 mt-4\"> \r\n               <button className=\"btn btn-primary\"\r\n                       disabled= {!vendors.length}\r\n                       onClick= {emptyCart}\r\n               >Empty Cart</button>\r\n             </div>             \r\n             \r\n         </div>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Checkout;","import React, {useState, useEffect} from \"react\";\r\nimport {CardElement, useStripe,useElements} from \"@stripe/react-stripe-js\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {Card} from \"antd\";\r\nimport {PoundOutlined} from \"@ant-design/icons\";\r\nimport {createPaymentIntent, getSessionId} from \"../../actions/stripe\";\r\nimport {createOrder, emptyUserCart} from \"../../actions/user\";\r\n\r\nconst StripeCheckout= ({history}) => {\r\n\r\n    const dispatch= useDispatch();\r\n    const {user} = useSelector( state => ({...state}));\r\n\r\n    const [succeeded,setSucceeded]= useState(false);\r\n    const [error,setError]= useState(null);\r\n    const [processing,setProcessing]= useState(\"\");\r\n    const [disabled,setDisabled]= useState(true);\r\n    const [clientSecret,setClientSecret]= useState(false);\r\n\r\n    const stripe= useStripe();\r\n    const elements= useElements();\r\n\r\n    const [cartTotal,setCartTotal]= useState(0);\r\n   \r\n    useEffect( () => {\r\n       createPaymentIntent(user.token)\r\n       .then ( res => {\r\n           console.log(\"Response from payement intent\",res.data);\r\n           setClientSecret(res.data.clientSecret);\r\n           setCartTotal(res.data.cartTotal);\r\n       })\r\n    },[]);\r\n\r\n    const handleSubmit=  async (e) => {\r\n         e.preventDefault()\r\n         setProcessing(true);\r\n        \r\n         const res= await getSessionId(user.token,cartTotal);\r\n         console.log(\"SESSION ID\",res.data.sessionId);\r\n         const payload= await stripe.confirmCardPayment(clientSecret, {\r\n             payment_method: {\r\n                 card: elements.getElement(CardElement),\r\n                 billing_details: {\r\n                   name:  e.target.name.value\r\n                 }\r\n             }\r\n         })\r\n\r\n         {console.log(\"PAYLOAD\",payload)}\r\n\r\n         if (payload.error) {\r\n               setError(`Payment failed ${payload.error.message}`);\r\n               setProcessing(false);                  \r\n         } else {\r\n             //create order and save to the database for admin to process\r\n              createOrder(payload,user.token)\r\n              .then ((res) => {\r\n                if (res.data.ok) {\r\n                  //empty cart from local storage\r\n                   if ( typeof window !== \"undefined\") localStorage.removeItem(\"cart\");\r\n                   //empty cart from redux store\r\n                   dispatch({\r\n                     type: \"ADD_TO_CART\",\r\n                     payload: []\r\n                   });\r\n                   emptyUserCart(user.token);\r\n                }\r\n              });\r\n              \r\n               console.log(JSON.stringify(payload));\r\n               setError(null);\r\n               setProcessing(false);\r\n               setSucceeded(true);\r\n         }\r\n     }\r\n\r\n    const handleChange= async (e) => {\r\n        //listen to changes to card details and display errors as the customer enters card details\r\n        setDisabled(e.empty);\r\n        setError(e.error ? e.error.message : \"\");              \r\n    }\r\n\r\n    const cartStyle = {\r\n        style: {\r\n          base: {\r\n            color: \"#32325d\",\r\n            fontFamily: \"Arial, sans-serif\",\r\n            fontSmoothing: \"antialiased\",\r\n            fontSize: \"16px\",\r\n            \"::placeholder\": {\r\n              color: \"#32325d\",\r\n            },\r\n          },\r\n          invalid: {\r\n            color: \"#fa755a\",\r\n            iconColor: \"#fa755a\",\r\n          },\r\n        },\r\n      };\r\n\r\n    return (\r\n      <>\r\n       \r\n         <div className=\" pb-5\">\r\n\r\n          <Card\r\n              actions={[\r\n                <>\r\n                 <PoundOutlined className=\"text-info\" /> <br /> Total Payable: £\r\n                   {cartTotal}\r\n                </>               \r\n              ]}\r\n          />\r\n         </div>\r\n\r\n        <form id=\"payment-form\" className=\"stripe-form\" onSubmit= {handleSubmit} >\r\n          <CardElement id=\"card-element\" \r\n                       options={cartStyle} \r\n                       onChange= {handleChange}    \r\n          />\r\n          <button className=\"stripe-button\"\r\n                  disabled= {processing || disabled || succeeded}\r\n          >\r\n           <span id=\"button-text\">\r\n               {processing ? <div className=\"spinner\" id=\"spinner\"></div> : \"Pay\"}\r\n           </span>\r\n          </button>\r\n          <br />\r\n         { error && <div className=\"card-error\" role=\"alert\">{error}</div> }\r\n\r\n        <p className= {succeeded ? \"result-message\" :  \"result-message hidden\"}>\r\n           Payment Successful. <Link to= \"/user/history\">View your Purchase History</Link>\r\n        </p>\r\n\r\n        </form>\r\n\r\n        \r\n      </>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default StripeCheckout;","import React from \"react\";\r\nimport {loadStripe} from \"@stripe/stripe-js\";\r\nimport {Elements} from \"@stripe/react-stripe-js\";\r\nimport keys from \"../../config/keys\";\r\nimport \"../../stripe.css\";\r\nimport StripeCheckout from \"../stripe/StripeCheckout\";\r\n\r\nconst promise= loadStripe(keys.REACT_APP_STRIPE_KEY)\r\n\r\nconst Payment= () => {\r\n\r\n    return (\r\n\r\n        <div className= \"container p-5\">\r\n          <h4>Complete your payment</h4>\r\n          {console.log(\"IN stripe payment\")}\r\n          <div className= \"col col-md-8 offset-md-2\">\r\n            <StripeCheckout />\r\n         </div>\r\n                  \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Payment;","import axios from \"axios\";\r\nimport history from \"../history\";\r\n\r\nconst ROOT_URL = 'http://localhost:5000';\r\n\r\nexport const fetchVendorCalendarCurrent = async (userid, start) => {\r\n  const res = await axios.get(`${ROOT_URL}/api/vendorcalendar/existing/${userid}/${start}`);\r\n  console.log(`Existing res ZZZZ`, res);\r\n  return res;\r\n}\r\n\r\nexport const addVendorCalendar = async (userid, formvalues, authtoken) => {\r\n  console.log(`Before response`, formvalues);\r\n  const res = await axios.post(`${ROOT_URL}/api/vendorcalendar/${userid}`, formvalues,\r\n    { headers: { authtoken } });\r\n  console.log(`RES from Vendor Calendar`, res);\r\n  // history.push(`/vendor/dashboard`);   \r\n};\r\n\r\nexport const fetchVendorCalendar = async (userid) => {\r\n  const res = await axios.get(`${ROOT_URL}/api/vendorcalendar/${userid}`);\r\n  console.log(`Vendor Calendar values`, res);\r\n  return res;\r\n};\r\n\r\nexport const fetchVendorCalendarVend = async (vendorid) => {\r\n  const res = await axios.get(`${ROOT_URL}/api/vendorcalendar/vendor/${vendorid}`);\r\n  console.log(`Vendor Calendar by vendor values`, res);\r\n  return res;\r\n};\r\n\r\nexport const fetchVendorCalendarDate = async (vendorid, start, end) => {\r\n  const res = await axios.get(`${ROOT_URL}/api/vendorcalendar/vendor/date/${vendorid}/${start}/${end}`);\r\n  console.log(`Vendor calendar by date range`, res);\r\n  return res;\r\n}\r\n\r\n\r\nexport const readVendorCalendar = async (id) => {\r\n  const res = await axios.get(`${ROOT_URL}/api/vendorcalendar/single/${id}`);\r\n  console.log(`Vendor Calendar values`, res);\r\n  return res;\r\n};\r\n\r\n\r\nexport const editVendorCalendar = async (userid, startdate, formValues, authtoken) => {\r\n  const res = await axios.put(`${ROOT_URL}/api/vendorcalendar/${userid}/${startdate}`, formValues,\r\n    { headers: { authtoken } });\r\n  console.log(`Response from edit`, res);\r\n  // history.push(`/admin/categories/categorieslist`); \r\n};\r\n\r\nexport const addBulkBooking = async (userid, formvalues, authtoken) => {\r\n  const res = await axios.post(`${ROOT_URL}/api/vendorcalendar/bulkbook/${userid}`, formvalues,\r\n    { headers: { authtoken } });\r\n  console.log(`Response from bulk booking`, res);\r\n  return res;\r\n}\r\n\r\nexport const addBulkAvail = async (userid, formvalues, authtoken) => {\r\n  const res = await axios.post(`${ROOT_URL}/api/vendorcalendar/bulkavail/${userid}`, formvalues,\r\n    { headers: { authtoken } });\r\n  console.log(`Response from bulk avail`, res);\r\n  return res;\r\n}","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector,useDispatch} from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport _ from \"lodash\";\r\n\r\nconst RenderTimeslot = ({timeslotval,index,day,currentslots}) => {  \r\n\r\n     const {dayval} = useSelector( (state) => ({...state}));\r\n     const {timeslotsval}= useSelector( (state) => ({...state}));\r\n     const [caldata,setCaldata] = useState([]);\r\n     const [ color, setColor] = useState(false);\r\n    \r\n    const dispatch= useDispatch();\r\n    const timeslots= [];\r\n    \r\n    \r\n    //  {console.log(\"Current slots ZZZ\", currentslots,timeslotval,index,day)}\r\n\r\n    const handleClick= (e,timeslotval,index,day) => {\r\n      e.preventDefault();     \r\n      setColor(!color); \r\n      localStorage.setItem(\"dayval\", day);\r\n      if (typeof window !== \"undefined\")  {\r\n        if (localStorage.getItem(\"timeslots\")) {\r\n          timeslots= JSON.parse(localStorage.getItem(\"timeslots\"))\r\n        }\r\n        timeslots.push({ ...timeslotval,\r\n                         count: 1})\r\n      } \r\n      let unique=_.uniqWith(timeslots,_.isEqual);  \r\n      //add to redux store\r\n      dispatch({\r\n        type: \"SELECTED_DAY\",\r\n         payload:{ \r\n             dayval: day\r\n         }\r\n      });\r\n\r\n      dispatch({\r\n            type: \"SELECTED_TIMESLOT\",\r\n             payload:{ \r\n                 tsday:day,\r\n                 tstimeslot:unique\r\n             }\r\n          });             \r\n        \r\n     } \r\n     \r\n     const disableButtons= (timeslots,key) => {\r\n      let newslots = new Set();\r\n      return timeslots.filter(item => {\r\n          let k = key(item);\r\n          return newslots.has(k) ? false : newslots.add(k);\r\n      });\r\n  } \r\n        \r\n  return (\r\n             <div>    \r\n              {/* {console.log(\"DAY\",day)} \r\n              {console.log(currentslots.map(slots => moment(slots?.availability[0].start).format('DD/MM/YYYY') == moment(day) \r\n                                            &&  slots?.availability[0].timeslots?.some(slot => {return(slot._id == timeslotval._id)})))}  */}\r\n              \r\n              <button className= \"btn btn-primary btn-sm font-weight-bold\"\r\n                      key={timeslotval._id}\r\n                      disabled = {currentslots.map(slots => moment(slots?.availability[0].start).format('DD/MM/YYYY') == day &&  slots?.availability[0].timeslots?.some(slot => {return(slot._id == timeslotval._id)})).includes(true)}  \r\n                      className=  { currentslots.map(slots => moment(slots?.availability[0].start).format('DD/MM/YYYY') == day &&  slots?.availability[0].timeslots?.some(slot => {return(slot._id == timeslotval._id)})).includes(true) ? \"btn btn-secondary mb-1\" : \r\n                                    day==dayval.dayval\r\n                                    && timeslotsval.timeslotsval.some(slot => {return slot.tstimeslot[0]._id == timeslotval._id})\r\n                                    ?  \"btn btn-danger mb-1\" :  \"btn btn-primary mb-1\"}\r\n                       value= {timeslotval._id}\r\n                        onClick= {(e) => handleClick(e,timeslotval,index,day)} \r\n                                             \r\n              >\r\n                    {timeslotval.startSlot}-{timeslotval.endSlot}\r\n                    \r\n               </button>\r\n             \r\n             </div>      \r\n     \r\n       \r\n  )\r\n}\r\n\r\nexport default RenderTimeslot;","import React, {useState, useEffect} from \"react\";\r\nimport { List, Card } from \"antd\";\r\nimport {useSelector,useDispatch} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {fetchTimeslots} from \"../../actions/timeslot\";\r\nimport moment from \"moment\";\r\nimport RenderTimeslot from \"./RenderTimeslot\";\r\nimport _ from \"lodash\";\r\nimport { fetchVendorCalendarDate } from \"../../actions/vendorCalendar\";\r\nimport {getVendorCategory} from \"../../actions/vendor\";\r\n\r\nconst SelectTimeslot = ({match}) => {\r\n  \r\n   {console.log(\"Selected Date XXXX\", match.params.vendor, match.params.selectedvalue)}\r\n\r\n    const {dayval,timeslotsval} = useSelector( (state) => ({...state}));\r\n    const [ timeslots, setTimeslots] = useState([]);\r\n    const [currentslots,setCurrentslots] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    const [tooltip, setTooltip] = useState('Click to add');\r\n    const [vendata,setVendata] = useState(\"\");\r\n\r\n  \r\n    const days= [];\r\n    \r\n    const dispatch = useDispatch();\r\n    let noOfDays= 6;\r\n    let startDate= moment(match.params.selectedvalue);\r\n    let endDate= moment(startDate).add(noOfDays, 'days'); \r\n\r\n    console.log(\"End date XXXX\",endDate._d);\r\n\r\n    useEffect( () => {\r\n        setLoading(true);\r\n        fetchTimeslots().then( res => setTimeslots(res.data));\r\n        setLoading(false);\r\n    },[]);\r\n\r\n    useEffect( () => {\r\n       setLoading(true);\r\n       fetchVendorCalendarDate(match.params.vendor,startDate,endDate._d)\r\n       .then( res => setCurrentslots(res.data));\r\n       setLoading(false);\r\n    },[]);\r\n\r\n    useEffect( () => {\r\n      getVendorCategory(match.params.vendor)\r\n      .then ( res => setVendata(res.data));\r\n  },[]);\r\n\r\n   const fetchDates= () => {\r\n       for (let i=0; i< noOfDays; i++) {\r\n         days.push( moment(startDate).add(i, 'days').format('DD/MM/YYYY'));\r\n       }\r\n    };\r\n\r\n    \r\n   \r\n   {console.log(\"VENDOR FROM SELECT VENDOR\", match.params)}\r\n   {console.log(\"Vendor NNNN\",vendata)} \r\n\r\n \r\n    const handleSubmit= (e,timeslot,index,day) => {\r\n      e.preventDefault();\r\n      {console.log(\"VALUES FROM SLOT\",e,index,timeslot,day,match.params.vendor,match.params.selectedValue)}\r\n       let cart = [];\r\n      //check if the cart already has an item\r\n      if ( typeof window !== \"undefined\") {\r\n        if (localStorage.getItem(\"cart\")) {\r\n          cart= JSON.parse(localStorage.getItem(\"cart\"))\r\n        }\r\n        cart.push({\r\n          ...vendata,\r\n          bookingDate:dayval.dayval,\r\n          bookingSlots:timeslotsval.timeslotsval,\r\n          count: timeslotsval.timeslotsval.length\r\n        })\r\n        let unique=_.uniqWith(cart,_.isEqual);\r\n         console.log(\"VALUE OF CART\",unique);\r\n           localStorage.setItem(\"cart\",JSON.stringify(unique));\r\n           setTooltip(\"Added\");\r\n\r\n        //add to redux store\r\n        dispatch({\r\n          type: \"ADD_TO_CART\",\r\n          payload:unique\r\n        });\r\n        dispatch({\r\n          type: \"SET_VISIBLE\",\r\n          payload:true\r\n        });\r\n       }\r\n     }  \r\n\r\n  return (\r\n   <form  onSubmit= {handleSubmit}>\r\n    <div className= \"row\">\r\n      {fetchDates()}\r\n      {console.log(\"CALDATE\",days)}\r\n      {days && days.map ( day => (\r\n       <div className= \"col col-md-2 d-flex justify-content-center\" key={day}>\r\n        <Card   title= {day} >\r\n         {timeslots && timeslots.map ( (timeslot,index) => (\r\n            <RenderTimeslot \r\n              timeslotval= {timeslot}\r\n              index={index}\r\n              key={index}\r\n              day={day}  \r\n              currentslots= {currentslots}                     \r\n            />            \r\n         ))\r\n         }\r\n        </Card>\r\n       </div>\r\n      ))\r\n      }\r\n      <div className= \"col col-md-6 mt-2 d-flex justify-content-end\">\r\n        <button className= \"btn btn-primary \"                   \r\n                type= \"submit\"\r\n        >Add To Cart</button>\r\n      </div>\r\n      <div className= \"col col-md-6 mt-2 d-flex justify-content-start\">\r\n        <Link to= {`/bookvendor/${match.params.vendor}`}\r\n               type=\"button\" className= \"btn btn-info\">Back to Calendar</Link>\r\n      </div>\r\n      </div>      \r\n\r\n      </form>\r\n    \r\n  )\r\n}\r\n\r\nexport default SelectTimeslot;","import React, {useState} from \"react\";\r\nimport { Calendar, Alert } from 'antd';\r\nimport {Link} from \"react-router-dom\";\r\nimport moment from 'moment';\r\nimport SelectTimeslot from \"../booking/SelectTimeslot\";\r\n\r\nconst SelectCalendar= ({vendor}) => {\r\n\r\n    \r\n    const [value, setValue] = useState(moment(new Date()));\r\n    const [selectedValue, setSelectedValue] = useState(moment(new Date));\r\n    \r\n    const onSelect = value => {\r\n        setValue(value);\r\n        setSelectedValue(value); \r\n        <SelectTimeslot \r\n          selectedValue= {value}\r\n          vendor= {vendor}\r\n        />             \r\n      }\r\n    const onPanelChange = value => {\r\n           setValue(value);\r\n      };\r\n    \r\n    return (        \r\n\r\n      <div className= \"row d-flex justify-content-center\">\r\n        <div className= \"col col-md-6 font-weight-bold mb-2\">\r\n        {!selectedValue \r\n        ? <button \r\n            className= \"btn btn-secondary mb-2 d-flex justify-content-center\"\r\n            disabled\r\n            >Book Timeslot\r\n           </button>        \r\n        :<Link to= {`/selectslot/${vendor}/${selectedValue}`} \r\n                 className= \"btn btn-danger mb-2 d-flex justify-content-center\">Book Timeslot\r\n          </Link>\r\n        }\r\n       <Alert\r\n          message={`You selected date: ${selectedValue}`}\r\n        />\r\n        \r\n        <Calendar value={value} \r\n                  onSelect={onSelect} \r\n                  onPanelChange={onPanelChange}   \r\n                  disabledDate= { (current => \r\n                    current && current.valueOf() < moment().subtract( 1 - \"days\"))}              \r\n         />\r\n        </div>\r\n      </div>\r\n  )\r\n\r\n}\r\n\r\nexport default SelectCalendar;\r\n\r\n\r\n\r\n\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {fetchTimeslots} from \"../../actions/timeslot\";\r\nimport {fetchVendorCalendar, fetchVendorCalendarVend} from \"../../actions/vendorCalendar\";\r\nimport SelectCalendar from \"../booking/SelectCalendar\";\r\n\r\nconst BookVendor = ({match}) => {\r\n\r\n    const [timeslots, setTimeslots] = useState([]);\r\n    const [vendorCal, setVendorCal] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n    {console.log(\"MATCH\", match.params.id)}\r\n    useEffect( () => {\r\n        setLoading(true);\r\n        fetchTimeslots()\r\n        .then ( (res) => setTimeslots(res.data));\r\n        setLoading(false);\r\n    },[]);\r\n    \r\n    useEffect( () => {\r\n       setLoading(true);\r\n       fetchVendorCalendarVend(match.params.id)\r\n       .then ( (res) => setVendorCal(res.data));\r\n       setLoading(false);\r\n    },[]);\r\n\r\n\r\n    {console.log(\"VENDORCAL\",vendorCal)}\r\n    const renderList = () => (\r\n         vendorCal && vendorCal.map ( vc => {\r\n         return (\r\n               <div className= \"row\" key= {vc._id}>\r\n                 <div className= \"col col-md-3\">\r\n                    {vc.availability[0].start}   \r\n                 </div>\r\n                 <div className= \"col col-md-3\">\r\n                    {vc.availability[0].end}   \r\n                 </div>\r\n                  <p>{vc.availability.endSlot}</p>                     \r\n              </div>\r\n            )\r\n         }\r\n         )         \r\n    )\r\n\r\n       \r\n    return (\r\n      <div className= \"container-fluid category-center\">\r\n       <div className= \"row d-flex justify-content-center mb-2\">\r\n        { loading ? <h2>Loading....</h2>\r\n                  : <h6 className= \"font-weight-bold \">Select a date to Check Vendor Availability</h6>\r\n        }\r\n        \r\n         <div className= \"row\">\r\n          <div className= \"col col-md-12 mt-2\">\r\n          <form>\r\n\r\n            <SelectCalendar \r\n              vendor= {match.params.id} /> \r\n           {/* {renderList()}  */}\r\n           </form>\r\n            \r\n         </div>\r\n         </div>\r\n\r\n       </div>\r\n       </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default BookVendor;","import { Descriptions } from \"antd\";\r\nimport React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst VendorListItems= ({vendor}) => {\r\n \r\n   const  {description,price, pricetype,category, vendorInfoId, subcategories} = vendor;\r\n           \r\n      return (\r\n        \r\n       \r\n        <ul className=\"list-group\">\r\n          { vendorInfoId &&\r\n           <li className=\"list-group-item\">\r\n              Area{\" \"} <span className= \"label label-default label-pill float-right\"> \r\n                          {vendorInfoId.city} \r\n                        </span>\r\n           </li>\r\n          }\r\n           <li className=\"list-group-item\">\r\n               Price{\" \"} <span className= \"label label-default label-pill float-right\"> \r\n                 £ {price} {pricetype} </span>\r\n           </li>\r\n           <li className=\"list-group-item\">\r\n              About Me:{\" \"} <span className= \"label label-default label-pill float-right\"> \r\n                 {description} </span>\r\n           </li>\r\n           { category && \r\n           <li className=\"list-group-item\">\r\n               Category{\" \"} <Link to= {`/category/${category._id}`}\r\n                             className= \"label label-default label-pill  float-right\">   \r\n                    {category.name}                     \r\n                </Link> \r\n           </li>\r\n           }\r\n\r\n           {subcategories &&\r\n            <li className=\"list-group-item\">\r\n               Sub Categories{\" \"} \r\n               {subcategories.map( (s) => (                \r\n                <Link \r\n                  key= {s._id}\r\n                  to= {`/vendorcat/${s.slug}`}\r\n                  className= \"label label-default label-pill mr-2 float-right\"> \r\n                  {s.name} </Link>\r\n               ))}\r\n            </li>\r\n           }\r\n\r\n           {/* <li className=\"list-group-item\">\r\n               Rating{\" \"} <span className= \"label label-default label-pill float-right\"> \r\n                    </span>\r\n           </li> */}\r\n        </ul>\r\n        )\r\n      \r\n      \r\n    }\r\n\r\nexport default VendorListItems;","import React, {useState} from \"react\";\r\nimport {Modal, Button} from \"antd\";\r\nimport {useHistory, useParams} from \"react-router-dom\";\r\nimport {useSelector} from \"react-redux\";\r\nimport { toast } from \"react-toastify\";\r\nimport {StarOutlined} from \"@ant-design/icons\";\r\n\r\n\r\nconst StarRatingModal= ({children}) => {\r\n   \r\n    const {user} = useSelector(state => ({...state}));\r\n    const [modalVisible, setModalVisible] = useState(false);\r\n\r\n    let history = useHistory();\r\n    let params= useParams();\r\n\r\n    console.log(\"children\",{children});\r\n\r\n    const handleChange= () => {\r\n        if (user && user.token) {\r\n            setModalVisible(true);\r\n        } else {\r\n            history.push({\r\n                         pathname: \"/login\",\r\n                         state: {from: `/vendordetails/${params.id}`}\r\n                         });\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n         <div onClick=  {handleChange} >\r\n             <StarOutlined  className=\"text-danger\"/> <br />{\" \"}\r\n             { user ? \"Leave a rating\" : \"Login to leave a rating\" }\r\n         </div>\r\n         <Modal\r\n           title= \"Leave a rating for the vendor\"\r\n           centered\r\n           visible= {modalVisible}\r\n           onOk= { () => {\r\n               setModalVisible(false);\r\n               toast.success(\"Thank you for your review. It will appear on our website shortly\");\r\n           }}\r\n           onCancel= { () => {\r\n               setModalVisible(false);\r\n           }}\r\n         >\r\n            {children}\r\n         </Modal>\r\n        </>\r\n    )\r\n\r\n}\r\n\r\nexport default StarRatingModal;","import React, {useState} from \"react\";\r\nimport {Card,Tabs, Tooltip} from \"antd\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {HeartOutlined, ShoppingCartOutlined} from \"@ant-design/icons\";\r\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\r\nimport { Carousel } from 'react-responsive-carousel';\r\nimport VendorListItems from \"./VendorListItems\";\r\nimport StarRatings from  \"react-star-ratings\";\r\nimport StarRatingModal from \"../Modal/StarRatingModal\";\r\nimport {showAverageRating} from \"../../actions/rating\";\r\nimport _ from \"lodash\";\r\nimport BookVendor from \"../pages/BookVendor\";\r\n\r\nconst {TabPane} = Tabs;\r\n\r\nconst SingleVendor= ({vendor, onRatingClick, rating}) => {\r\n\r\n  const {user, cart} = useSelector((state) => ({...state}));\r\n\r\n\r\n  const dispatch= useDispatch();\r\n   \r\n    const {_id,vendorInfoId, images} = vendor;\r\n\r\n    {console.log(\"vendor from single vendor XXXX\",vendor)}\r\n\r\n    const handleAddToCart= ({vendor}) => {\r\n\r\n      <BookVendor\r\n          vendor= {vendor}\r\n       />\r\n\r\n     \r\n    } \r\n    return (\r\n        <div className=\"row\">\r\n            <div className= \"col col-md-6\">\r\n              <Carousel showArrows={true} autoPlay infiniteLoop> \r\n                 {images && images.map( (i) => (\r\n                      <img src= {i.url} key={i.public_id} />                 \r\n                 )\r\n                 )}\r\n              </Carousel> \r\n            \r\n           </div>\r\n           \r\n            <div className= \"col col-md-6 font-weight-bold h6\">\r\n           { vendor ?  <h1 className=\"bg-info p-3\">{vendorInfoId.name}</h1>\r\n                    : <h1>Loading...</h1>}           \r\n            { vendor && vendor.ratings && vendor.ratings.length > 0\r\n              ? showAverageRating(vendor)\r\n              : <div className= \"d-flex justify-content-center mt-1 mb-3\">\"No rating yet\"</div>\r\n            }\r\n             <Card\r\n              actions= {[\r\n                    // <Tooltip title= {tooltip}>\r\n                    //  <a onClick= {handleAddToCart}>\r\n                    //   <ShoppingCartOutlined  className= \"text-info\" /><br />Select Vendor\r\n                    //   </a>\r\n                    // </Tooltip>,\r\n                    <Link to= {`/bookvendor/${_id}`} >\r\n                       <ShoppingCartOutlined  className= \"text-info\" /><br />Select Vendor\r\n                    </Link>,\r\n                     <StarRatingModal>\r\n                        <StarRatings \r\n                            starRatedColor= \"red\"\r\n                            noOfStars= {5}\r\n                            rating={rating}\r\n                            changeRating= {onRatingClick}                            \r\n                            name={_id}\r\n                            isSelectable={true}\r\n                         />\r\n                       </StarRatingModal>\r\n                       ]}    >\r\n                 <VendorListItems vendor = {vendor}/>\r\n            </Card>\r\n                 \r\n            </div>\r\n          <div className=\"row\">\r\n            <Tabs type= \"card\">\r\n              <TabPane tab= \"More Details\" key=\"1\">\r\n                  For any further queries, please call us on XXXX-XXX-XXXX\r\n              </TabPane>\r\n            </Tabs>\r\n          </div> \r\n        </div>\r\n        \r\n\r\n    )\r\n\r\n}\r\n\r\nexport default SingleVendor;","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {getVendorCategory, vendorRating, getRelatedVendors } from \"../../actions/vendor\";\r\nimport SingleVendor from \"../cards/SingleVendor\";\r\nimport VendorCard from \"../cards/VendorCard\";\r\n\r\nconst VendorDetails= ({match}) => {\r\n\r\n const {user}  = useSelector( state => ({ ...state})); \r\n const [vendor, setVendor] = useState(\"\");\r\n const [loading,setLoading] = useState(false);\r\n const [star,setStar] = useState(0);\r\n const [related, setRelated] = useState([]);\r\n const {id} = match.params;\r\n\r\n \r\n useEffect( () => {\r\n     loadVendorDetails(); \r\n },[id]);\r\n\r\n useEffect( () => {\r\n     if (vendor.ratings && user) {\r\n        let existingRatingObject= vendor.ratings.find( \r\n            (e) => e.postedBy.toString() === user._id.toString()\r\n        );\r\n         existingRatingObject && setStar(existingRatingObject.star);\r\n     }\r\n })\r\n\r\n const loadVendorDetails= () => {\r\n     setLoading(true);\r\n      getVendorCategory(id)\r\n      .then ( (res) => {\r\n               setVendor(res.data);\r\n               getRelatedVendors(res.data._id).then ( res => setRelated(res.data));\r\n               setLoading(false);\r\n\r\n            }) \r\n      .catch ( (err) => {\r\n          console.log(err);\r\n      });\r\n }\r\n\r\n const onRatingClick = (newRating,name) => {    \r\n    setStar(newRating);\r\n    console.log(\"rating VALUE before update\",star,name,user.token);\r\n    vendorRating(name,newRating,user.token)\r\n    .then ( (res) => {\r\n        console.log(\"Rating after Update\",res);\r\n        loadVendorDetails();\r\n    })\r\n    \r\n }\r\n\r\n return (\r\n     <div className= \"container\">\r\n       <div className= \"row pt-4\">\r\n        { loading ? <h1>Loading...</h1>\r\n                :  <SingleVendor vendor= {vendor}  \r\n                                 onRatingClick= {onRatingClick}\r\n                                 rating= {star}\r\n                                 /> \r\n        }          \r\n       </div>  \r\n       <div className=\"row\">\r\n        <div className= \"col pt-5 pb-5\">\r\n         <hr />\r\n          <h4>Other Vendors in your area</h4>\r\n         <hr />\r\n         <div className= \"row pb-5 \">\r\n         {related.length \r\n           ? related.map( (r) => <div className= \"col col-md-4\" key={r._id}> <VendorCard  vendor= {r}/> </div>)\r\n           : <div className= \"text-\"> </div>\r\n           }\r\n             \r\n                  \r\n         </div>\r\n        \r\n        </div>\r\n\r\n       </div>      \r\n     </div>\r\n )\r\n}\r\n\r\nexport default VendorDetails;","import React, {useState, useEffect} from \"react\";\r\nimport {toast} from \"react-toastify\";\r\nimport VendorCard from \"../cards/VendorCard\";\r\nimport LoadingCard from \"../cards/LoadingCard\";\r\nimport {fetchSubcategory,fetchSubcatVendors} from \"../../actions/subcategory\";\r\nimport {Pagination} from \"antd\";\r\n\r\n\r\nconst GetVendorsSubcat= ({match}) => {\r\n    \r\n    const [subcat, setSubcat] = useState([]);\r\n    const [vendors,setVendors] = useState([]);\r\n    const [loading,setLoading] = useState(false);\r\n    const [page,setPage] = useState(1);\r\n    const [vendorsTotal, setVendorsTotal]= useState(0);\r\n\r\n    useEffect( () => {\r\n        loadSubcat();\r\n        loadVendorsSubcat();\r\n    },[]);\r\n\r\n   const loadSubcat= (() => {\r\n      setLoading(true);\r\n      fetchSubcategory(match.params.slug).then ( (sub) => setSubcat(sub.data));\r\n      setLoading(false);\r\n   });\r\n\r\n    const loadVendorsSubcat = () => {\r\n        setLoading(true);\r\n        fetchSubcatVendors(match.params.slug)\r\n        .then ( (res) => {\r\n            setVendors(res.data)\r\n            setLoading(false);\r\n         })\r\n        .catch ( (err) => {\r\n            console.log(err);\r\n            setLoading(false);\r\n            toast.error(err.message);\r\n        })\r\n    }\r\n\r\n    return (\r\n        <div>\r\n          <div className= \"container-fluid\">\r\n               { loading ? <h4 className= \"text-center p-3 mt-5 mb-5  jumbotron\">Loading....</h4>\r\n                      : <h4 className= \"float-center p-3 mt-5 mb-5 jumbotron\">                      \r\n                       We found {vendors.length} {subcat.name} in your area\r\n                      </h4>\r\n            }\r\n             <div className=\"row ml-2\" key={vendors._id}> \r\n             {vendors.map( (vendor) => (      \r\n                 <VendorCard \r\n                     vendor= {vendor}\r\n                     key={vendor._id}\r\n                 />              \r\n             ))}\r\n            </div>            \r\n            \r\n          <div className=\"row \">\r\n            <nav className= \"col col-md-4 offset-md-4 pt-5 p-3 d-flex justify-content-center\">        \r\n              <Pagination  current= {page}\r\n                    total= {(vendorsTotal / 3) * 10}\r\n                    onChange={ (value) => setPage(value)}          />         \r\n            </nav>          \r\n          </div>\r\n        </div>           \r\n        </div>\r\n    )\r\n}\r\n\r\nexport default GetVendorsSubcat;","import axios from 'axios';\r\nconst ROOT_URL = 'http://localhost:5000';\r\nexport const createOrUpdateUser = async (authtoken) => {\r\n    const res= await axios.post( `${ROOT_URL}/api/auth/createupdateuser`, {},\r\n     {headers: {authtoken} });   \r\n    console.log(\"RES from CREATEUPDATE ACTION\",res) ;\r\n    return res;\r\n   }\r\n\r\n   export const createOrUpdateVendor = async (authtoken) => {\r\n    const res= await axios.post( `${ROOT_URL}/api/auth/createupdatevendor`, {},\r\n     {headers: {authtoken} });   \r\n    console.log(\"RES from CREATEUPDATE VENDOR\",res) ;\r\n    return res;\r\n   }\r\n\r\nexport const currentUser = async (authtoken) => {\r\n    return  await axios.post( `${ROOT_URL}/api/auth/currentuser`, {},\r\n     {headers: {authtoken} });           \r\n   }\r\n\r\nexport const adminUser = async (authtoken) => {\r\n    return  await axios.post( `${ROOT_URL}/api/auth/adminuser`, {},\r\n     {headers: {authtoken} });           \r\n }\r\n\r\n export const vendorUser = async (authtoken) => {\r\n  return  await axios.post( `${ROOT_URL}/api/auth/vendoruser`, {},\r\n   {headers: {authtoken} });           \r\n}\r\n\r\nexport const updateUserInLocalStorage= (token,next) => {\r\n  if(window.localStorage.getItem(\"user\")) {\r\n    let user= JSON.parse(localStorage.getItem(\"user\"));\r\n    user.token= token;\r\n    localStorage.setItem(\"user\",JSON.stringify(user));\r\n    next();\r\n  }\r\n}\r\n\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {auth, googleAuthProvider, facebookAuthProvider} from \"../../firebase\";\r\nimport {toast,ToastContainer} from \"react-toastify\";\r\nimport {Button } from 'antd';\r\nimport { MailOutlined, FacebookOutlined, GoogleOutlined} from '@ant-design/icons';\r\nimport { LOGGED_IN_USER } from \"../../actions/types\";\r\nimport { createOrUpdateUser} from \"../../actions/auth\";\r\n\r\n  \r\nconst Login = ({history}) => {\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const dispatch= useDispatch();\r\n  const {user} = useSelector( (state) => ({...state}));\r\n\r\n      \r\n  useEffect( () => {\r\n     if (history.location.state) {\r\n       return;\r\n     } else {\r\n      if ( user && user.token) {\r\n          history.push(\"/\");\r\n      }}\r\n  }, [user,history]);\r\n\r\n  const roleBasedRedirect = (res) => {\r\n    \r\n    //check if user needs to be redirected to a different page\r\n    let userPage= history.location.state;\r\n    if (userPage) {\r\n      history.push(userPage.from);\r\n    }  else { \r\n     //role based redirect \r\n     if (res.data.role ===  \"admin\") {\r\n       history.push(\"/admin/dashboard\");\r\n     } \r\n     else if (res.data.role === \"vendor\") {\r\n       history.push(\"/vendor/dashboard\");\r\n     } else {\r\n       history.push(\"/user/history\");\r\n     }\r\n    }\r\n  }\r\n \r\nconst handleSubmit= async (e) => {\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      const result= await auth.signInWithEmailAndPassword(email,password);\r\n     \r\n      const {user} = result;\r\n      const idTokenResult = await user.getIdTokenResult();\r\n     \r\n      createOrUpdateUser(idTokenResult.token)     \r\n          .then ( (res) =>  { dispatch  ({\r\n                 type: LOGGED_IN_USER,\r\n                 payload: {\r\n                 name: res.data.name,\r\n                 email: res.data.email,\r\n                 token: idTokenResult.token,\r\n                 role: res.data.role,\r\n                _id: res.data._id,\r\n                address: res.data.address,\r\n                createdAt: res.data.createdAt,\r\n                stripe_account_id:res.data.stripe_account_id,\r\n                stripe_seller: res.data.stripe_seller,\r\n                stripeSession: res.data.stripeSession,\r\n              }\r\n          });\r\n          var userval= {name:res.data.name, \r\n                        email: res.data.email,\r\n                        token: idTokenResult.token,\r\n                         _id:res.data._id,\r\n                         role:res.data.role,\r\n                         address:res.data.address,\r\n                         createdAt: res.data.createdAt,\r\n                         stripe_account_id:res.data.stripe_account_id,\r\n                         stripe_seller: res.data.stripe_seller,\r\n                         stripeSession: res.data.stripeSession, }\r\n          window.localStorage.setItem(\"user\",JSON.stringify(userval));\r\n          roleBasedRedirect(res);\r\n         }) \r\n          .catch ( (err) => console.log(err))           \r\n          // history.push(\"/\");\r\n          }  \r\n    catch (err) {\r\n      console.log(err);\r\n      toast.error(err.message);\r\n      setLoading(false);\r\n    }\r\n}\r\n\r\n const googleLogin = async () => {\r\n    \r\n      await auth.signInWithPopup(googleAuthProvider).then( async (result) => {\r\n        const {user} = result;\r\n        console.log(\"user from google\", result.user);\r\n        const idTokenResult = await user.getIdTokenResult();\r\n      \r\n       createOrUpdateUser(idTokenResult.token)\r\n       .then ( (res) => { dispatch ({\r\n         type: LOGGED_IN_USER,\r\n          payload: {\r\n          name: res.data.name,\r\n          email: res.data.email,\r\n          token: idTokenResult.token,\r\n          role: res.data.role,\r\n         _id: res.data._id,\r\n         address: res.data.address,\r\n         createdAt: res.data.createdAt,\r\n         stripe_account_id:res.data.stripe_account_id,\r\n         stripe_seller: res.data.stripe_seller,\r\n         stripeSession: res.data.stripeSession,\r\n        }\r\n     })\r\n     var userval= {\r\n       name:res.data.name, \r\n       email: res.data.email,\r\n       token: idTokenResult.token,\r\n       _id:res.data._id,\r\n       role:res.data.role,\r\n       address:res.data.address,\r\n       createdAt: res.data.createdAt,\r\n       stripe_account_id:res.data.stripe_account_id,\r\n       stripe_seller: res.data.stripe_seller,\r\n       stripeSession: res.data.stripeSession\r\n       }\r\n      window.localStorage.setItem(\"user\",JSON.stringify(userval));\r\n   \r\n     roleBasedRedirect(res);\r\n     \r\n    }).catch( (err) => {\r\n            console.log(err)\r\n            toast.error(err.message)\r\n            setLoading(false) });       \r\n      })\r\n     }\r\n\r\n const facebookLogin = async () => {\r\n    auth.signInWithPopup(facebookAuthProvider).then( async (result) => {\r\n       const {user} = result;\r\n       const idTokenResult = await user.getIdTokenResult();\r\n\r\n       createOrUpdateUser(idTokenResult.token)\r\n       .then ( (res) => { dispatch ({\r\n         type: LOGGED_IN_USER,\r\n          payload: {\r\n          name: res.data.name,\r\n          email: res.data.email,\r\n          token: idTokenResult.token,\r\n          role: res.data.role,\r\n         _id: res.data._id,\r\n         address: res.data.address,\r\n         createdAt: res.data.createdAt,\r\n         stripe_account_id:res.data.stripe_account_id,\r\n         stripe_seller: res.data.stripe_seller,\r\n         stripeSession: res.data.stripeSession,\r\n        }\r\n     })\r\n     let userval= {\r\n        name:res.data.name, \r\n      email: res.data.email,\r\n      token: idTokenResult.token,\r\n       _id:res.data._id,\r\n       role:res.data.role,\r\n       address:res.data.address,\r\n       createdAt: res.data.createdAt,\r\n       stripe_account_id:res.data.stripe_account_id,\r\n       stripe_seller: res.data.stripe_seller,\r\n       stripeSession: res.data.stripeSession\r\n       }\r\n       window.localStorage.setItem(\"user\",JSON.stringify(userval));\r\n       roleBasedRedirect(res);\r\n    }).catch( (err) => {\r\n      console.log(err)\r\n      toast.error(err.message)\r\n      setLoading(false) });   \r\n   })\r\n  }\r\n\r\n\r\n const loginForm = ()  => {\r\n  \r\n  return (\r\n  <form  onSubmit = {handleSubmit}>\r\n    <div className=\"form-group font-weight-bold mb-1 question\">\r\n    <label htmlFor=\"email\">Email</label>\r\n    <input type=\"email\" \r\n           className=\"form-control\" \r\n           value= {email}\r\n           onChange = { (e) => setEmail(e.target.value) }\r\n           autoFocus\r\n    />\r\n    </div>\r\n    <div className=\"form-group font-weight-bold mb-2 question\">\r\n    <label htmlFor=\"password\">Password</label>\r\n    <input type=\"password\" \r\n           className=\"form-control\" \r\n           value= {password}\r\n           onChange = { (e) => setPassword(e.target.value) }         \r\n    />\r\n    </div>\r\n   <div className= \"row justify-content-center font-weight-bold mt-2 question\">\r\n     <Button onClick= {handleSubmit} \r\n             type=\"primary\" \r\n             shape=\"round\"\r\n             block\r\n             icon= {<MailOutlined />}\r\n             size= \"large\"\r\n             disabled= {!email || password.length < 6}\r\n             className= \"mb-2 mt-2 font-weight-bold font-weight-bold question\">Login with Email and Password\r\n      </Button>\r\n      <Button onClick= {googleLogin} \r\n             type=\"danger\" \r\n             shape=\"round\"\r\n             block\r\n             icon= {<GoogleOutlined />}\r\n             size= \"large\"\r\n             className= \"mb-2 mt-2 font-weight-bold question\">Login with Google\r\n      </Button>\r\n      <Button onClick= {facebookLogin} \r\n             type=\"primary\" \r\n             shape=\"round\"\r\n             block\r\n             icon= {<FacebookOutlined />}\r\n             size= \"large\"\r\n             className= \"mb-2 mt-2 font-weight-bold question\">Login with Facebook\r\n      </Button>\r\n      <Link to= \"/forgot/password\" className= \"text-danger mt-2\">Forgot Password</Link>\r\n   </div>\r\n  \r\n  </form>\r\n  )\r\n }\r\n return (\r\n   <div className=\"container mt-5 \">\r\n\r\n     <div className=\"row\">\r\n       <div className=\"col-md-8 offset-md-3\">\r\n         <div className=\"card register-form\">\r\n           <div className=\"card-header\">\r\n              {loading ? (<h4>Loading....</h4>) : (<h4>Login</h4>) }              \r\n           </div>\r\n           <div className=\"card-body\">           \r\n             {loginForm()}\r\n           </div>\r\n         </div>\r\n       </div>\r\n     </div>\r\n     \r\n   </div>\r\n );\r\n}\r\n\r\nexport default Login;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {auth} from \"../../firebase\";\r\nimport {toast,ToastContainer} from \"react-toastify\";\r\n\r\nconst Register = ({history}) => {\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n \r\n  const {user} = useSelector( (state) => ({...state}));\r\n\r\n  useEffect( () => {\r\n      if ( user && user.token ) {\r\n          history.push(\"/user/history\");\r\n      }\r\n  }, [user,history]);\r\n\r\n \r\nconst handleSubmit= async (e) => {\r\n    e.preventDefault();\r\n    const config = {\r\n       url: process.env.REACT_APP_REGISTER_REDIRECT_URL,\r\n       handleCodeInApp: true\r\n    }\r\n\r\n    await auth.sendSignInLinkToEmail(email,config);\r\n    toast.success(`Email is send to ${email}. Please check your email to complete registration.`);\r\n\r\n    //save the user to local storage\r\n    window.localStorage.setItem('emailForRegistration', email);\r\n    setEmail(\"\");\r\n}\r\n\r\n const registerForm = ()  => {\r\n  \r\n  return (\r\n  <form  onSubmit = {handleSubmit}>\r\n    <div className=\"form-group font-weight-bold mb-1\">\r\n    <label htmlFor=\"email\">Email</label>\r\n    <input type=\"email\" \r\n           className=\"form-control\" \r\n           value= {email}\r\n           onChange = { (e) => setEmail(e.target.value) }\r\n           autoFocus\r\n    />\r\n    </div>\r\n   <div className= \"row justify-content-center\">\r\n     <button type=\"submit\" className= \"btn btn-primary mt-3\" >Register</button>\r\n   </div>\r\n  \r\n  </form>\r\n  )\r\n }\r\n return (\r\n   <div className=\"container mt-5 \">\r\n\r\n     <div className=\"row mb-2\">\r\n       <div className=\"col-md-8 offset-md-3\">\r\n         <div className=\"card register-form\">\r\n           <div className=\"card-header\">\r\n              <h1>Register</h1>\r\n           </div>\r\n           <div className=\"card-body\">\r\n              {registerForm()}\r\n           </div>\r\n         </div>\r\n       </div>\r\n     </div>\r\n     \r\n   </div>\r\n );\r\n}\r\n\r\nexport default Register;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {auth} from \"../../firebase\";\r\nimport {toast, ToastContainer} from \"react-toastify\";\r\nimport { LOGGED_IN_USER } from \"../../actions/types\";\r\nimport { createOrUpdateUser} from \"../../actions/auth\";\r\n\r\nconst RegisterComplete = ({history}) => {\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const dispatch= useDispatch();\r\n  const {user} = useSelector( (state) => ({...state}));\r\n\r\n  //history.push(dashboard);\r\n\r\n  useEffect(() => {\r\n      setEmail(window.localStorage.getItem(\"emailForRegistration\"))\r\n  }, [history]);\r\n\r\n  const handleSubmit= async (e) => {\r\n    e.preventDefault();\r\n\r\n    if( !email || !password) {\r\n        toast.error(\"Email and password must be entered\");\r\n        return;\r\n    }\r\n    if( password.length < 6) {\r\n        toast.error(\"Password must be minimum 6 characters\");\r\n        return;\r\n    }\r\n    try {\r\n        const result = await auth.signInWithEmailLink(email, window.location.href)\r\n        \r\n        if(result.user.emailVerified) {\r\n            window.localStorage.removeItem(\"emailForRegistration\");\r\n            let user = auth.currentUser;\r\n            await user.updatePassword(password);\r\n            const idTokenResult = await user.getIdTokenResult();\r\n            // update in redux store \r\n           createOrUpdateUser(idTokenResult.token)     \r\n          .then ( (res) => dispatch ({\r\n                 type: LOGGED_IN_USER,\r\n                 payload: {\r\n                 name: res.data.name,\r\n                 email: res.data.email,\r\n                 token: idTokenResult.token,\r\n                 role: res.data.role,\r\n                _id: res.data._id\r\n              }\r\n          })) \r\n          .catch ( (err) => console.log(err)); \r\n\r\n          history.push('/');\r\n        }\r\n    } \r\n    catch (err) {\r\n       console.log(err);\r\n       toast.error(err.message);\r\n    }\r\n    }\r\n\r\n    //save the user to local storage\r\n    // window.localStorage.setItem('emailForRegistration', email);\r\n    // setEmail(\"\");\r\n\r\n\r\n const completeRegisterForm = ()  => {\r\n  \r\n  return (\r\n  <form  onSubmit = {handleSubmit}>\r\n    <div className=\"form-group font-weight-bold\">\r\n    <label htmlFor=\"email\">Email</label>\r\n    <input type=\"email\" \r\n           className=\"form-control\" \r\n           value= {email}\r\n           disabled\r\n    />\r\n    </div>\r\n    <div className=\"form-group\">\r\n    <label htmlFor=\"password\">Password</label>\r\n    <input type=\"password\" \r\n           className=\"form-control\" \r\n           placeholder= \"Password\"\r\n           value={password}\r\n           onChange= { (e) => setPassword(e.target.value)} \r\n           />\r\n    </div>\r\n   <button type=\"submit\" className= \"btn btn-primary float-center\" > Register</button>\r\n  </form>\r\n  )\r\n  }\r\n\r\n\r\n return (\r\n   <div className=\"container mt-5 \">\r\n\r\n     <div className=\"row\">\r\n       <div className=\"col-md-8 offset-md-3\">\r\n         <div className=\"card register-form\">\r\n           <div className=\"card-header\">\r\n              <h1>Complete Registration</h1>\r\n           </div>\r\n           <div className=\"card-body\">\r\n              {completeRegisterForm()}\r\n           </div>\r\n         </div>\r\n       </div>\r\n     </div>\r\n     \r\n   </div>\r\n );\r\n }\r\n\r\nexport default RegisterComplete;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {toast} from \"react-toastify\";\r\nimport {auth} from \"../../firebase\";\r\n\r\nconst ForgotPassword = ({history}) => {\r\n  const [email,setEmail] = useState('');\r\n  const [loading,setLoading] = useState(false);  \r\n  const {user} = useSelector( (state) => ({...state}));\r\n\r\n  useEffect( () => {\r\n      if ( user && user.token) {\r\n          history.push(\"/\");\r\n      }\r\n  }, [user,history]);\r\n\r\n  const handleSubmit = async (e) => {\r\n\r\n    e.preventDefault();\r\n    setLoading(true) ;\r\n    \r\n    const config = {\r\n         url: process.env.REACT_APP_FORGOT_PASSWORD_REDIRECT_URL,\r\n         handleCodeInApp: true\r\n      }\r\n    await auth.sendPasswordResetEmail(email, config)\r\n    .then( () => \r\n           { setEmail(\"\");\r\n             setLoading(false);\r\n             toast.success(\"Check your email for password reset link\");\r\n            })\r\n    .catch( (err) => {\r\n      setLoading(false);\r\n      toast.error(err.message);\r\n      console.log(\"Error from forgot password\",err);\r\n    })   \r\n  }\r\n\r\n  return(\r\n    <div className= \"container col-md-4 offset-md-4 \">\r\n     <div className=\"card register-form\">\r\n       <div className=\"card-header\">\r\n         {loading ? <h4>Loading</h4> : <h4>Forgot Password</h4>}\r\n        </div>\r\n        <div>\r\n      <div className= \"card-body\">\r\n      <form onSubmit= {handleSubmit}>\r\n          <input\r\n            type=\"email\"\r\n            className= \"form-control mb-3\"\r\n            value= {email}\r\n            onChange= { (e) => setEmail(e.target.value)}\r\n            placeholder= \"Enter your email\"\r\n            autoFocus\r\n          />\r\n          <div className= \"row justify-content-center mb-2\">\r\n           <button className= \"btn btn-primary\" disabled= {!email}>Submit</button>\r\n          </div>\r\n      </form>\r\n      </div>\r\n      </div>\r\n      </div>\r\n         {/* history.push(\"/\"); */}\r\n    </div>\r\n\r\n  )\r\n\r\n    \r\n}\r\n\r\nexport default ForgotPassword;","import React, {useState, useEffect} from \"react\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {auth,googleAuthProvider, facebookAuthProvider} from \"../../firebase\";\r\nimport {toast,ToastContainer} from \"react-toastify\";\r\nimport {Button} from \"antd\";\r\nimport {FacebookOutlined,GoogleOutlined} from \"@ant-design/icons\";\r\nimport { createOrUpdateUser} from \"../../actions/auth\";\r\nimport { LOGGED_IN_USER } from \"../../actions/types\";\r\n\r\nconst VendorRegister = ({history}) => {\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n  const dispatch= useDispatch();\r\n  const {user} = useSelector( (state) => ({...state}));\r\n\r\n  useEffect( () => {\r\n      if ( user && user.token) {\r\n          history.push(\"/\");\r\n      }\r\n  }, [user,history]);\r\n\r\n \r\nconst handleSubmit= async (e) => {\r\n    e.preventDefault();\r\n    const config = {\r\n       url: process.env.REACT_APP_VENDOR_REGISTER_REDIRECT_URL,\r\n       handleCodeInApp: true\r\n    }\r\n    console.log(\"CONFIG\",config);\r\n    await auth.sendSignInLinkToEmail(email,config);\r\n    toast.success(`Email is send to ${email}. Please check your email to complete registration.`);\r\n\r\n    //save the user to local storage\r\n    window.localStorage.setItem('emailForRegistration', email);\r\n    setEmail(\"\");\r\n}\r\n\r\n const registerForm = ()  => {\r\n  \r\n  return (\r\n  <form  onSubmit = {handleSubmit}>\r\n    <div className=\"form-group font-weight-bold mb-1\">\r\n   \r\n    <label htmlFor=\"email\">Email</label>\r\n    <input type=\"email\" \r\n           className=\"form-control\" \r\n           value= {email}\r\n           onChange = { (e) => setEmail(e.target.value) }\r\n           autoFocus\r\n    />\r\n    </div>\r\n   <div className= \"row justify-content-center\">\r\n     <button type=\"submit\" className= \"btn btn-primary mt-3\" >Register</button>\r\n   </div>\r\n  \r\n  </form>\r\n  )\r\n }\r\n\r\n const googleLogin = async () => {\r\n    \r\n    await auth.signInWithPopup(googleAuthProvider).then( async (result) => {\r\n      const {user} = result;\r\n      console.log(\"user from google\", result.user);\r\n      const idTokenResult = await user.getIdTokenResult();\r\n    \r\n     createOrUpdateUser(idTokenResult.token)\r\n     .then ( (res) => { dispatch ({\r\n       type: LOGGED_IN_USER,\r\n        payload: {\r\n        name: res.data.name,\r\n        email: res.data.email,\r\n        token: idTokenResult.token,\r\n        role: \"vendor\",\r\n       _id: res.data._id,\r\n       address: res.data.address,\r\n       createdAt: res.data.createdAt,\r\n       stripe_account_id:res.data.stripe_account_id,\r\n       stripe_seller: res.data.stripe_seller,\r\n       stripeSession: res.data.stripeSession,\r\n      }\r\n   })\r\n   var userval= {\r\n     name:res.data.name, \r\n     email: res.data.email,\r\n     token: idTokenResult.token,\r\n     _id:res.data._id,\r\n     role:\"vendor\",\r\n     address:res.data.address,\r\n     createdAt: res.data.createdAt,\r\n     stripe_account_id:res.data.stripe_account_id,\r\n     stripe_seller: res.data.stripe_seller,\r\n     stripeSession: res.data.stripeSession\r\n     }\r\n    window.localStorage.setItem(\"user\",JSON.stringify(userval));\r\n \r\n   roleBasedRedirect(res);\r\n   \r\n  }).catch( (err) => {\r\n          console.log(err)\r\n          toast.error(err.message)\r\n          setLoading(false) });       \r\n    })\r\n   }\r\n\r\nconst facebookLogin = async () => {\r\n  auth.signInWithPopup(facebookAuthProvider).then( async (result) => {\r\n     const {user} = result;\r\n     const idTokenResult = await user.getIdTokenResult();\r\n\r\n     createOrUpdateUser(idTokenResult.token)\r\n     .then ( (res) => { dispatch ({\r\n       type: LOGGED_IN_USER,\r\n        payload: {\r\n        name: res.data.name,\r\n        email: res.data.email,\r\n        token: idTokenResult.token,\r\n        role: \"vendor\",\r\n       _id: res.data._id,\r\n       address: res.data.address,\r\n       createdAt: res.data.createdAt,\r\n       stripe_account_id:res.data.stripe_account_id,\r\n       stripe_seller: res.data.stripe_seller,\r\n       stripeSession: res.data.stripeSession,\r\n      }\r\n   })\r\n   let userval= {\r\n      name:res.data.name, \r\n    email: res.data.email,\r\n    token: idTokenResult.token,\r\n     _id:res.data._id,\r\n     role:\"vendor\",\r\n     address:res.data.address,\r\n     createdAt: res.data.createdAt,\r\n     stripe_account_id:res.data.stripe_account_id,\r\n     stripe_seller: res.data.stripe_seller,\r\n     stripeSession: res.data.stripeSession\r\n     }\r\n     window.localStorage.setItem(\"user\",JSON.stringify(userval));\r\n     roleBasedRedirect(res);\r\n  }).catch( (err) => {\r\n    console.log(err)\r\n    toast.error(err.message)\r\n    setLoading(false) });   \r\n })\r\n}\r\n\r\nconst roleBasedRedirect = (res) => {\r\n    \r\n    //check if user needs to be redirected to a different page\r\n    let userPage= history.location.state;\r\n    console.log(\"User PAGE\",userPage);\r\n    if (userPage) {\r\n      history.push(userPage.from);\r\n    }  else { \r\n     //role based redirect \r\n     if (res.data.role ===  \"admin\") {\r\n       history.push(\"/admin/dashboard\");\r\n     } \r\n     else if (res.data.role === \"vendor\") {\r\n       history.push(\"/vendor/dashboard\");\r\n     } else \r\n     {\r\n       history.push(\"/user/history\");\r\n     }\r\n    }\r\n  }\r\n\r\n return (\r\n   <div className=\"container mt-5 \">\r\n\r\n     <div className=\"row mb-2\">\r\n       <div className=\"col-md-8 offset-md-3\">\r\n         <div className=\"card register-form\">\r\n           <div className=\"card-header\">\r\n              <h1>Register</h1>\r\n           </div>\r\n           <div className=\"card-body\">\r\n              {registerForm()}\r\n           </div>\r\n\r\n           <Button onClick= {googleLogin} \r\n             type=\"danger\" \r\n             shape=\"round\"\r\n             block\r\n             icon= {<GoogleOutlined />}\r\n             size= \"large\"\r\n             className= \"mb-2 mt-2 font-weight-bold question\">Login with Google\r\n         </Button>\r\n          <Button onClick= {facebookLogin} \r\n             type=\"primary\" \r\n             shape=\"round\"\r\n             block\r\n             icon= {<FacebookOutlined />}\r\n             size= \"large\"\r\n             className= \"mb-2 mt-2 font-weight-bold question\">Login with Facebook\r\n         </Button>\r\n         </div>\r\n       </div>\r\n     </div>\r\n     \r\n   </div>\r\n );\r\n}\r\n\r\nexport default VendorRegister;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {useDispatch} from \"react-redux\";\r\nimport {auth} from \"../../firebase\";\r\nimport {toast} from \"react-toastify\";\r\nimport { LOGGED_IN_USER } from \"../../actions/types\";\r\nimport { createOrUpdateVendor} from \"../../actions/auth\";\r\n\r\nconst VendorRegisterComplete = ({history}) => {\r\n\r\n  const emailVal= window.localStorage.getItem('emailForRegistration');\r\n\r\n  const [email, setEmail] = useState(emailVal);\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loading,setLoading]= useState(false);\r\n  const dispatch= useDispatch();\r\n\r\n  useEffect(() => {\r\n    setEmail(window.localStorage.getItem('emailForRegistration')); \r\n  }, [history]); \r\n\r\n  \r\n  const handleSubmit= async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"In handle SUBMIT\", email,window.location.href);\r\n    if( !email || !password) {\r\n        toast.error(\"Email and password must be entered\");\r\n        return;\r\n    }\r\n    if( password.length < 6) {\r\n        toast.error(\"Password must be minimum 6 characters\");\r\n        return;\r\n    }\r\n    try {      \r\n        const email= window.localStorage.getItem('emailForRegistration');\r\n        console.log(\"Before the result\", email,window.location.href);\r\n        if (!email) \r\n          email = window.prompt('Please provide your email for confirmation');\r\n        const result = await auth.signInWithEmailLink(email, window.location.href)\r\n        console.log(\"RESULT\", result)\r\n        if(result.user.emailVerified) {\r\n            window.localStorage.removeItem(\"emailForRegistration\");\r\n            let user = auth.currentUser;\r\n            await user.updatePassword(password);\r\n            const idTokenResult = await user.getIdTokenResult();\r\n            console.log(\"user\", user, \"idTokenResult\", idTokenResult);\r\n            // update in redux store \r\n          createOrUpdateVendor(idTokenResult.token)     \r\n          .then ( (res) => dispatch ({\r\n                 type: LOGGED_IN_USER,\r\n                 payload: {\r\n                 name: res.data.name,\r\n                 email: res.data.email,\r\n                 token: idTokenResult.token,\r\n                 role: res.data.role,\r\n                _id: res.data._id\r\n              }             \r\n          })         \r\n          ) \r\n          .catch ( (err) => console.log(err)); \r\n           history.push('/');\r\n        }\r\n    } \r\n    catch (err) {\r\n       console.log(err);\r\n       toast.error(err.message);\r\n    }\r\n    }\r\n\r\n const completeRegisterForm = ()  => (\r\n  <form  onSubmit= {handleSubmit} >\r\n    {console.log(\"IN complete registration EMAIL\", email)}\r\n    <div className=\"form-group font-weight-bold\">\r\n     <label>Email</label> \r\n    <input type=\"email\" \r\n           className=\"form-control\" \r\n           value= {email}\r\n           disabled\r\n    />\r\n    </div>\r\n    <div className=\"form-group\">\r\n    <label >Password</label> \r\n    <input type=\"password\" \r\n           className=\"form-control\" \r\n           placeholder= \"Password\"\r\n           value={password}\r\n           onChange= {(e) => setPassword(e.target.value)} \r\n           autoFocus\r\n    />\r\n    </div>\r\n     <button type=\"submit\" \r\n             className= \"btn btn-primary\" >Complete Registration\r\n     </button>\r\n  </form>\r\n  ) \r\n\r\n return (\r\n   <div className=\"container mt-5 \">  \r\n      {console.log(\"In vendor register completion\")}\r\n     <div className=\"row\">\r\n       <div className=\"col-md-8 offset-md-3\">\r\n              <h1>Complete Vendor Registration</h1> \r\n                     \r\n               {completeRegisterForm()}\r\n           </div>\r\n         </div>\r\n       </div>    \r\n );\r\n }\r\n\r\nexport default VendorRegisterComplete;\r\n","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst UserNav = () => {\r\n  return (\r\n    <nav className=\"navbar navbar-default navbar-top navlist mt-3\">\r\n      <ul className= \"nav flex-column font-weight-bold \">\r\n        <li className= \"nav-item mb-2\">\r\n          <Link to= \"/user/history\" className= \"nav-link\">USER HISTORY</Link>\r\n        </li>\r\n        <li className= \"nav-item mb-2\">\r\n          <Link to= \"/user/userpassword\" className= \"nav-link\">PASSWORD RESET</Link>\r\n        </li>        \r\n      </ul>\r\n    </nav>  \r\n  ) \r\n  }\r\n\r\nexport default UserNav;","import react, {useState,useEffect} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Card,Avatar,Badge} from \"antd\";\r\nimport moment from \"moment\";\r\nimport {SettingOutlined} from \"@ant-design/icons\";\r\nimport {toast} from \"react-toastify\";\r\nimport {getAccountBalance, \r\n        currencyFormatter,\r\n        payoutSettings} from \"../../actions/stripe\";\r\n\r\nconst {Meta} = Card;\r\nconst {Ribbon}= Badge;\r\n\r\nconst ConnectNav= () => {\r\n\r\n    const {user} = useSelector( (state) => ({...state}));\r\n    const [balance, setBalance]= useState(0);\r\n    const [loading,setLoading] = useState(false);\r\n\r\n    useEffect( () => {\r\n      loadAccountBalance();     \r\n    },[]);\r\n\r\n    const loadAccountBalance= () => {\r\n        getAccountBalance(user.token).then ( res => setBalance(res.data));\r\n    }\r\n     \r\n\r\n    const handlePayoutSettings= async () => {\r\n         setLoading(true);\r\n         try {\r\n            const res= await payoutSettings(user.token);\r\n            window.location.href= res.data.url;\r\n            setLoading(false);\r\n         } catch (err) {\r\n             console.log(err);\r\n             setLoading(false);\r\n             toast.error(\"Unable to access settings. Please try again\")\r\n         }\r\n    }\r\n\r\n    return (\r\n        \r\n        <div className= \"d-flex justify-content-around\">         \r\n         <Card>\r\n              <Meta avatar= {<Avatar>{user.name[0]}</Avatar>}\r\n                    title={user.name} \r\n                    description={`Joined on ${moment(user.createdAt).fromNow()}`}\r\n              />              \r\n          </Card>\r\n         \r\n          {user &&\r\n           user.stripe_seller &&\r\n           user.stripe_seller.charges_enabled && (\r\n            <>\r\n           <Ribbon text= \"Account Balance\" color=\"blue\">\r\n              <Card className=\"bg-light pt-1\">\r\n                {balance && balance.pending \r\n                         && balance.pending.map( (bal,i) => (\r\n                            <span key={i} className=\"lead\"\r\n                            >{currencyFormatter(bal)}</span> \r\n                         ))\r\n                }\r\n              </Card>\r\n           </Ribbon>\r\n            <Ribbon text=\"Payout Settings\" color=\"silver\">\r\n                <Card className= \"bg-light pointer\"\r\n                      onClick= {handlePayoutSettings}>\r\n                  <SettingOutlined className= \"h5 pt-2\"/>\r\n                </Card>\r\n            </Ribbon>\r\n            </>\r\n           ) }               \r\n        </div>\r\n        \r\n    )\r\n}\r\n\r\nexport default ConnectNav;","import React from \"react\";\r\n\r\n\r\nconst ShowPaymentInfo= ({order}) => {\r\n  return (\r\n      <div>\r\n         <p className=\"mb-1\">\r\n          <span className= \"mr-2 h6\">Customer Id: {order.session.customer}</span>{\"  \"}\r\n           <span className= \"mr-2 font-weight-bold h6\">Amount: \r\n                 {order.session.currency.toUpperCase()}   {(order.session.amount_total * 100)\r\n                           }</span> {\"  \"}            \r\n            <span className=\"  mr-2 h6\">Payment Method: {order.session.payment_method_types[0]}</span>{\" \"}\r\n            <span className=\"  mr-2 h6\">Payment Status: {order.session.payment_status.toUpperCase()}</span>{\" \"}\r\n                        <span className= \"badge-large bg-primary text-white h6\">Status: {order.orderStatus}</span>\r\n        </p> \r\n      </div>\r\n  )\r\n}\r\n\r\nexport default ShowPaymentInfo;","import React, { useState,useEffect } from \"react\";\r\nimport UserNav from \"../navigation/UserNav\";\r\nimport ConnectNav from \"../navigation/ConnectNav\";\r\nimport {getUserOrders} from \"../../actions/user\";\r\nimport ShowPaymentInfo from \"../cards/ShowPaymentInfo\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {toast} from \"react-toastify\";\r\nimport {PDFDownloadLink} from \"@react-pdf/renderer\";\r\nimport Invoice from \"../order/Invoice\";\r\n\r\nconst UserHistory = () => {\r\n\r\n const {user} = useSelector( (state) => ({...state}));\r\n const [orders, setOrders] = useState([]);\r\n\r\n useEffect( () => {\r\n   loadUserOrders();\r\n },[]);\r\n\r\n const loadUserOrders= () => {\r\n     getUserOrders(user.token).then ( res => {\r\n        setOrders(res.data);\r\n        console.log(res.data);\r\n     })\r\n     .catch((err) => {\r\n       console.log(err);\r\n     });\r\n }\r\n\r\n const showEachOrder= () => \r\n    orders.map((order,i) => (\r\n       <div className= \"card m-5 p-3\" key={i}>\r\n           <ShowPaymentInfo order= {order} />\r\n           {showOrdersInTable(order)}\r\n           <div className=\"row\">\r\n\r\n          \r\n             {/* <div className=\"col\">\r\n               {showDownloadLink(order)}\r\n             </div> */}\r\n           </div>\r\n       </div>\r\n    )\r\n    )\r\n\r\n    const showOrdersInTable= (order) => (\r\n       <table className=\"table table-bordered  h6\">\r\n         <thead className=\"thead-light\">\r\n         <tr>\r\n          <th scope=\"col\">Helper Name </th>\r\n          <th scope=\"col\">Sub Category </th>\r\n          <th scope=\"col\">Price </th>\r\n          <th scope=\"col\">PriceType </th>\r\n          <th scope=\"col\">Count </th>  \r\n         </tr>             \r\n         </thead>\r\n         <tbody>\r\n            {order.vendors.map((v,i) => \r\n            (\r\n              <tr key= {i}>\r\n                <td><b>{v.vendor.vendorInfoId.name}</b></td>\r\n                <td><b>{v.vendor.subcategories[0].name}</b></td>\r\n                <td><b>{v.vendor.price}</b></td>\r\n                <td><b>{v.vendor.pricetype}</b></td>\r\n                <td><b>{v.count}</b></td>\r\n              </tr> \r\n            )            \r\n            )}\r\n         </tbody>\r\n       </table>\r\n    )\r\n\r\n    const showDownloadLink= (order) => (\r\n      <PDFDownloadLink document= {\r\n         <Invoice order= {order} />\r\n      }\r\n      filename= \"invoice.pdf\"\r\n      className=\"btn btn-sm btn-block btn-outline-primary\"\r\n      >     \r\n        PDF Download\r\n      </PDFDownloadLink>\r\n   )\r\n   return(\r\n    <div className= \"container-fluid\">\r\n       <div className= \"container-fluid bg-secondary p-5\">\r\n          <ConnectNav />\r\n      </div>\r\n        <div className= \"row ml-0 text-align-top\">\r\n           <div className= \"col-md-2\">\r\n               < UserNav />   \r\n           </div>\r\n        \r\n       <div className= \"col \">            \r\n           {orders.length \r\n             ? <h3> User Orders Details</h3> \r\n             : <h3> No  Orders</h3>\r\n            } \r\n            {showEachOrder()} \r\n        </div>\r\n      </div>        \r\n       \r\n    </div>\r\n   )\r\n}\r\n\r\nexport default UserHistory;","import React from \"react\";\r\nimport {\r\n   Document, \r\n    Page, \r\n    Text, \r\n    StyleSheet\r\n   } from \"@react-pdf/renderer\";\r\n import {Table, \r\n         TableHeader, \r\n         TableCell, \r\n         TableBody, \r\n         DataTableCell} from  '@david.kucsai/react-pdf-table';\r\n\r\nconst Invoice = ({order}) => (\r\n  <Document>\r\n      <Page style= {styles.body} fixed>\r\n          <Text style={styles.header}>new Date().toLocaleString()</Text>\r\n          <Text style={styles.title}>Order Invoice</Text>\r\n          <Text style={styles.author}>Compare My Helper</Text>\r\n          <Text style={styles.subtitle}>Order Summary</Text>\r\n      </Page>\r\n  </Document>\r\n);\r\n\r\nconst styles = StyleSheet.create({\r\n    body: {\r\n      paddingTop: 35,\r\n      paddingBottom: 65,\r\n      paddingHorizontal: 35,\r\n    },\r\n    title: {\r\n      fontSize: 24,\r\n      textAlign: \"center\",\r\n    },\r\n    author: {\r\n      fontSize: 12,\r\n      textAlign: \"center\",\r\n      marginBottom: 40,\r\n    },\r\n    subtitle: {\r\n      fontSize: 18,\r\n      margin: 12,\r\n    },\r\n    text: {\r\n      margin: 12,\r\n      fontSize: 14,\r\n      textAlign: \"justify\",\r\n    },\r\n    image: {\r\n      marginVertical: 15,\r\n      marginHorizontal: 100,\r\n    },\r\n    header: {\r\n      fontSize: 12,\r\n      marginBottom: 20,\r\n      textAlign: \"center\",\r\n      color: \"grey\",\r\n    },\r\n    footer: {\r\n      padding: \"100px\",\r\n      fontSize: 12,\r\n      marginBottom: 20,\r\n      textAlign: \"center\",\r\n      color: \"grey\",\r\n    },\r\n    pageNumber: {\r\n      position: \"absolute\",\r\n      fontSize: 12,\r\n      bottom: 30,\r\n      left: 0,\r\n      right: 0,\r\n      textAlign: \"center\",\r\n      color: \"grey\",\r\n    },\r\n  });\r\n\r\nexport default Invoice;","import React, {useState} from \"react\";\r\nimport UserNav from \"../navigation/UserNav\";\r\nimport {auth} from \"../../firebase\";\r\nimport {toast} from \"react-toastify\";\r\n\r\n\r\nconst UserPassword = () => {\r\n\r\n    const [password,setPassword] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit= async (e) => {\r\n      e.preventDefaults();\r\n      setLoading(true);\r\n      await auth.currentUser.updatePassword(password)\r\n      .then ( () => {\r\n         setLoading(false);\r\n         setPassword(\"\");\r\n         toast.success(\"Your Password has been updated\");\r\n      })\r\n      .catch (err => {\r\n         console.log(err)\r\n         setLoading(false);\r\n         toast.err(err.message);\r\n      }); \r\n\r\n\r\n    }\r\n\r\n    const passwordUpdateForm = () => {\r\n        return(\r\n        <form>\r\n          <div className= \"card form-group\">\r\n           <div className= \"card-body\">\r\n            <label className= \"font-weight-bold category\">Update password</label>\r\n            <input type=\"password\" \r\n                   onChange= { (e) => setPassword(e.target.value)}\r\n                   className= \"form-control\"\r\n                   placeholder= \"Enter new password\"\r\n                   value= {password}\r\n                   disabled= {loading}\r\n            />\r\n             <div className= \"d-flex justify-content-center mt-2\">\r\n              <button className=\"btn btn-primary\"\r\n                      disabled= {!password || password.length <6 || loading}\r\n              >Submit</button>\r\n              </div>\r\n          </div>          \r\n          </div>\r\n        </form>\r\n        )\r\n    }\r\n\r\n   return(\r\n    <div className= \"container-fluid mt-2\">\r\n        <div className= \"row ml-0 text-align-top\">\r\n           <div className= \"col-md-3\">\r\n               < UserNav />   \r\n           </div>\r\n           <div className= \"col-md-4\">            \r\n            {loading ? (<h4 className= \"card-header\"> Loading... </h4>)\r\n                     : (<h4 className= \"card-header\"> Reset Password </h4>)\r\n             } \r\n              {passwordUpdateForm()}\r\n           </div>\r\n        </div>\r\n    </div>\r\n   )\r\n}\r\n\r\nexport default UserPassword;","import axios from \"axios\";\r\nimport history from \"../history\";\r\n\r\nconst ROOT_URL = 'http://localhost:5000';\r\n\r\nexport const addVendorInfo = async (formvalues, authtoken) => {\r\n  const res = await axios.post(`${ROOT_URL}/api/vendorinfo`, formvalues,\r\n    { headers: { authtoken } });\r\n  history.push(`/vendor/dashboard`);\r\n};\r\n\r\nexport const fetchVendorsInfo = async () => {\r\n  return await axios.get(`${ROOT_URL}/api/vendorinfo`);\r\n};\r\n\r\n\r\nexport const fetchVendorInfo = async (email) => {\r\n  return await axios.get(`${ROOT_URL}/api/vendorinfo/${email}`);\r\n};\r\n\r\nexport const editVendorInfo = async (email, formvalues, authtoken) => {\r\n  const res = await axios.put(`${ROOT_URL}/api/vendorinfo/${email}`, formvalues,\r\n    { headers: { authtoken } });\r\n  history.push(`/vendor/dashboard`);\r\n};\r\n\r\nexport const deleteVendorInfo = async (email, authtoken) => {\r\n  const res = await axios.delete(`${ROOT_URL}/api/vendorinfo/${email}`,\r\n    { headers: { authtoken } });\r\n  history.push(`/admin/vendors/vendorinfolist`);\r\n};\r\n\r\nexport const fetchVendorInfoById = async (id) => {\r\n  console.log(`Response from InfoId`, id);\r\n  return await axios.get(`${ROOT_URL}/api/vendorinfo/${id}`);\r\n}\r\n\r\n","import React, {useState,useEffect} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport {fetchVendorInfo} from \"../../actions/vendorInfo\";\r\n\r\nconst VendorNav = () => {\r\n\r\n  const {user} = useSelector( state => ({...state}));  \r\n  const [vendor,setVendor] = useState(\"\");\r\n\r\n  useEffect( () => {\r\n    fetchVendorInfo(user.email)\r\n    .then ( res => setVendor(res.data));\r\n  },[]);\r\n\r\n   return(\r\n    <nav className=\"navbar mt-2  navlist\">\r\n      <ul className= \"nav flex-column font-weight-bold mt-2\">\r\n      { (vendor) ?\r\n        <li className= \"nav-item\">\r\n          <Link to= {`/vendor/vendorinfoedit/${user.email}`} className= \"nav-link\"> CHANGE YOUR DETAILS</Link>\r\n        </li>     \r\n      :<li className= \"nav-item\">\r\n          <Link to= \"/vendor/vendorinfocreate\" className= \"nav-link\">ADD YOUR DETAILS</Link>\r\n        </li>\r\n      }\r\n      <li className= \"nav-item\">\r\n          <Link to= {`/vendor/vendorcatlistuser/${user._id}`} className= \"nav-link\">CHANGE CATEGORIES</Link>\r\n      </li> \r\n      <li className= \"nav-item\">\r\n          <Link to= {`/vendor/vendorcallist/${user._id}`} className= \"nav-link\">AVAILABILITY CALENDAR</Link>\r\n      </li>        \r\n        <li className= \"nav-item\">\r\n          <Link to= \"/vendor/password\" className= \"nav-link\">PASSWORD RESET</Link>\r\n        </li>\r\n      </ul>\r\n    </nav>\r\n   )\r\n  }\r\n\r\nexport default VendorNav;","import React, {useState} from \"react\";\r\nimport VendorNav from \"../navigation/VendorNav\";\r\nimport {auth} from \"../../firebase\";\r\nimport {toast} from \"react-toastify\";\r\n\r\n\r\nconst VendorPassword = () => {\r\n\r\n    const [password,setPassword] = useState(\"\");\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleSubmit= async (e) => {\r\n      e.preventDefaults();\r\n      setLoading(true);\r\n      await auth.currentUser.updatePassword(password)\r\n      .then ( () => {\r\n         setLoading(false);\r\n         setPassword(\"\");\r\n         toast.success(\"Your Password has been updated\");\r\n      })\r\n      .catch (err => {\r\n         console.log(err)\r\n         setLoading(false);\r\n         toast.err(err.message);\r\n      }); \r\n\r\n\r\n    }\r\n\r\n    const passwordUpdateForm = () => {\r\n        return(\r\n        <form>\r\n          <div className= \"card form-group\">\r\n           <div className= \"card-body\">\r\n            <label className= \"font-weight-bold category\">Update password</label>\r\n            <input type=\"password\" \r\n                   onChange= { (e) => setPassword(e.target.value)}\r\n                   className= \"form-control\"\r\n                   placeholder= \"Enter new password\"\r\n                   value= {password}\r\n                   disabled= {loading}\r\n            />\r\n             <div className= \"d-flex justify-content-center mt-2\">\r\n              <button className=\"btn btn-primary\"\r\n                      disabled= {!password || password.length <6 || loading}\r\n              >Submit</button>\r\n              </div>\r\n          </div>          \r\n          </div>\r\n        </form>\r\n        )\r\n    }\r\n\r\n   return(\r\n    <div className= \"container-fluid mt-2\">\r\n        <div className= \"row ml-0 text-align-top\">\r\n           <div className= \"col-md-3\">\r\n               < VendorNav />   \r\n           </div>\r\n           <div className= \"col-md-4\">            \r\n            {loading ? (<h4 className= \"card-header\"> Loading... </h4>)\r\n                     : (<h4 className= \"card-header\"> Reset Password </h4>)\r\n             } \r\n              {passwordUpdateForm()}\r\n           </div>\r\n        </div>\r\n    </div>\r\n   )\r\n}\r\n\r\nexport default VendorPassword;","import React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst Vendor = () =>\r\n{\r\n    return (\r\n        <div>\r\n           <Link to= \"/admin\" className= \"d-flex justify-content-center admin-class\">Admin</Link>\r\n            Vendor Master\r\n        </div>\r\n    )\r\n}\r\nexport default Vendor;","import React, {useState} from \"react\";\r\nimport CalendarTemplate from \"availability-calendar-react\";\r\n\r\nconst CalendarBooking= () => {\r\n\r\n    const [availability,setAvailability] = useState([]);\r\n    const Calendar= CalendarTemplate({\r\n         availability,\r\n         setAvailability\r\n    });\r\n\r\n    return (\r\n        <div>          \r\n            <Calendar /> \r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default CalendarBooking;","import React, {useState} from \"react\";\r\nimport { Select } from \"antd\";\r\nimport CalendarBooking from \"../../utils/CalendarBooking\";\r\nconst {Option} = Select;\r\n\r\nconst VendorForm = ( {handleSubmit, \r\n                     handleChange,\r\n                     vendorInfoId, \r\n                     vendorName,                    \r\n                     userId,\r\n                     values,\r\n                     setValues,\r\n                     handleCategoryChange,\r\n                     subOptions,\r\n                     showSubs,                    \r\n                    }) =>  {\r\n\r\n  \r\n const {   \r\n   description,\r\n  categories,\r\n  subcategories,\r\n  category, \r\n   price,\r\n   pricetypes,\r\n   pricetype     \r\n}  = values;\r\n\r\n {console.log(\"Vendor....\",vendorInfoId)}\r\n\r\n const [calendar,setCalendar] = useState(false);\r\n\r\n const showCalendar= () => {\r\n  setCalendar(!calendar)   \r\n }\r\n \r\n\r\n    const renderFields= () => {\r\n        return (\r\n            <form onSubmit= {handleSubmit}>\r\n            <section >\r\n              <div className= \"form-group\">\r\n                <label className= \"admin-class\">Vendor</label>\r\n                <input\r\n                  type= \"text\"\r\n                  disabled= \"disabled\"\r\n                  name= \"vendorname\"\r\n                  className= \"form-control\"\r\n                  value= {vendorName}                 \r\n                 />                            \r\n                \r\n                 <label className= \"admin-class\">Description</label>\r\n                <textarea\r\n                  name= \"description\"\r\n                  rows=\"2\"\r\n                  className= \"form-control\"\r\n                  value= {description}\r\n                  onChange= {handleChange}\r\n                 />  \r\n\r\n                  <label className= \"admin-class\">Category</label>\r\n                 <select\r\n                   name= \"category\"\r\n                   className= \"form-control\"\r\n                   onChange= { handleCategoryChange}\r\n                 >\r\n                 <option>Select a Category</option>\r\n                 {categories.length > 0 && categories.map( (c) => (\r\n                    <option key= {c._id} value= {c._id}> {c.name}</option>\r\n                 ))\r\n                 }\r\n                 </select> \r\n\r\n                 { showSubs && (\r\n                 <div>\r\n                  <label className= \"admin-class mt-1 mb-1\">Subcategories</label>\r\n                  <Select mode= \"multiple\"\r\n                          style={{ width: '100%' }}\r\n                          placeholder= \"Select a Sub category\"\r\n                          className= \"font-weight:800\"\r\n                          value= {subcategories}\r\n                          onChange= { (value) => setValues({...values, subcategories: value})}\r\n                  >\r\n                     { subOptions.length && subOptions.map( (s) => (\r\n                         <Option key= {s._id} value= {s._id}>\r\n                            {s.name}\r\n                         </Option>\r\n                     ))}\r\n                  </Select>                  \r\n                 </div>\r\n                 )}\r\n                 \r\n                 <label className= \"admin-class\">Price Type</label>``\r\n                 <select\r\n                   name= \"pricetype\"\r\n                   className= \"form-control\"\r\n                   onChange= {handleChange}\r\n                 >\r\n                  <option>Select a price type</option> \r\n                  {pricetypes.map((c) => (\r\n                  <option key={c} value={c}>\r\n                  {c}\r\n                 </option>\r\n                 ))}         \r\n                 </select>\r\n                 <label className= \"admin-class\">Price</label>\r\n                 <input\r\n                  type= \"number\"\r\n                  name= \"price\"\r\n                  className= \"form-control\"\r\n                  value= {price}\r\n                  onChange= {handleChange}\r\n                 />  \r\n                 <input\r\n                  type= \"hidden\"                  \r\n                  name= \"userId\"\r\n                  className= \"form-control\"\r\n                  value= {userId}                 \r\n                 />   \r\n                 <input\r\n                  type= \"hidden\"                  \r\n                  name= \"vendorInfoId\"\r\n                  className= \"form-control\"\r\n                  value= {vendorInfoId}                 \r\n                 />                                    \r\n               </div>\r\n               <div className= \"d-flex justify-content-center mt-1\">\r\n                  <button type=\"button\"\r\n                          className = \"btn btn-primary font-weight-bold mb-2\" \r\n                          name=\"booking\"\r\n                          onClick= {showCalendar}>Appointment Availability</button>  \r\n               </div> \r\n               {calendar && <CalendarBooking />}             \r\n\r\n               <div className= \"d-flex justify-content-center mt-1\">\r\n                  <button type=\"submit\" \r\n                          className = \"btn btn-primary font-weight-bold mt-2 \" \r\n                          name=\"category\">Save</button>  \r\n               </div> \r\n            </section>\r\n            </form>\r\n        ) \r\n    }            \r\n    \r\n   \r\n        return(   \r\n            <div>             \r\n               {renderFields()}        \r\n            </div>        \r\n        )\r\n    }\r\n\r\n\r\n\r\n export default VendorForm;\r\n","import React from \"react\";\r\nimport { reduxForm, Field} from \"redux-form\";\r\nimport {withRouter} from \"react-router-dom\";\r\nimport VendorField from \"./VendorField\";\r\nimport { connect } from \"react-redux\";\r\nimport { bindActionCreators } from 'redux';\r\nimport { submitVendor} from \"../../actions\";\r\nimport { submitVendorCategories} from \"../../actions\";\r\n\r\nconst VendorCategories = (props) => {\r\n\r\n   const { handleSubmit } = props;\r\n   function renderCategories() {\r\n      return(\r\n      <div>\r\n            <Field  \r\n             type= \"text\"\r\n             label= \"Category\"\r\n             name= \"subcategory\"\r\n             component= {VendorField}    />\r\n             <Field  \r\n             type= \"text\"\r\n             label= \"Areas Covered\"\r\n             name= \"areascovered\"\r\n             component= {VendorField}    />\r\n            <Field  \r\n             type= \"text\"\r\n             label= \"Price Type\"\r\n             name= \"pricetype\"\r\n             component= {VendorField}    />\r\n            <Field  \r\n             type= \"text\"\r\n             label= \"Price\"\r\n             name= \"price\"\r\n             component= {VendorField}    />\r\n             <Field  \r\n             type= \"text\"\r\n             label= \"Website\"\r\n             name= \"website\"\r\n             component= {VendorField}    />\r\n      </div>\r\n      )\r\n    }\r\n\r\n   function onSubmit()  {\r\n      console.log(\"Form values from on submit\", props.formValues.vendorForm);\r\n      props.submitVendor(props.formValues.vendorForm.values);\r\n      props.submitVendorCategories(props.formValues.vendorCategories.values);\r\n    } \r\n    \r\n   \r\n    return(\r\n    <div>        \r\n        <h1 className=\"h2 font-weight-bold card-header\">Add Categories Details</h1>\r\n                \r\n             <section className= \"vendor-center\">\r\n             <div className=\"card\">\r\n             <div className=\"card-body\">\r\n             <form onSubmit= {handleSubmit(() => onSubmit())}>\r\n               {renderCategories()}\r\n               <div className= \"row\">\r\n               <div className= \"col pull-left mt-2\">\r\n               <button \r\n                  className= \"btn btn-md btn-warning font-weight-bold \"\r\n                  onClick = {props.onCancel}\r\n                >Back</button>\r\n               </div>\r\n               <div className= \"col-pull-right mt-2 mr-3\">\r\n               <button type=\"submit\" \r\n                    //   onClick = {() => props.submitVendor(props.formValues.vendorForm, props.history)}\r\n                      className= \"btn btn-md btn-primary font-weight-bold \">Submit</button>\r\n               </div>\r\n               </div>\r\n            </form> \r\n             </div> \r\n            </div>\r\n            </section>\r\n            </div>  \r\n    )      \r\n}\r\n\r\n\r\n\r\nfunction validate(values)\r\n{\r\n  const errors = {};\r\n\r\n  if (!values.category) \r\n  {\r\n      errors.category = \"Please select the category\";\r\n  }\r\n  if (!values.areascovered) \r\n  {\r\n      errors.areascovered = \"Please select the Areas Covered\";\r\n  }\r\n  if (!values.pricetype) \r\n  {\r\n      errors.pricetype = \"Please select the Price Type\";\r\n  }\r\n  if (!values.price) \r\n  {\r\n      errors.price = \"Please select the Price\";\r\n  }\r\n   return errors;\r\n}\r\n\r\nfunction mapDispatchToProps(dispatch)  {\r\n    return bindActionCreators({\r\n           submitVendor: submitVendor,\r\n           submitVendorCategories: submitVendorCategories\r\n           }, dispatch);\r\n  };\r\n\r\nfunction mapStateToProps(state) {\r\n    console.log(\"In state:\", state);\r\n    return { formValues: state.form};\r\n}\r\n\r\nconst formWrapped = reduxForm( {\r\n    validate: validate,\r\n    form: \"vendorCategories\",\r\n   destroyOnUnmount: false\r\n})(withRouter(VendorCategories));\r\n\r\nexport default connect(mapStateToProps,mapDispatchToProps)(formWrapped);","import {\r\n    LOGGED_IN_USER,\r\n    LOGOUT\r\n} from \"../actions/types\";\r\n\r\nlet userState;\r\n\r\nif (window.localStorage.getItem(\"user\")) {\r\n    userState= JSON.parse(window.localStorage.getItem(\"user\"));\r\n    console.log(\"USER STATE from REDUCER\",JSON.stringify(userState));\r\n} else {\r\n    userState=null;\r\n}\r\n\r\n\r\n\r\nconst userReducer= (state = userState, action) => {\r\nswitch(action.type) {\r\n    case LOGGED_IN_USER:\r\n        return action.payload;\r\n    case LOGOUT:\r\n        return action.payload;\r\n    default:\r\n        return state;\r\n}\r\n}\r\nexport default userReducer;","//This form shows vendor login details and the categories selected\r\n\r\nimport React, {Component} from \"react\";\r\nimport {reduxForm} from \"redux-form\";\r\nimport VendorForm from \"./VendorProducts/VendorForm\";\r\nimport VendorCategories from \"./VendorCategories\";\r\n\r\nclass VendorNew extends Component {\r\n \r\n\r\n  state = {showVendorCategories: false};\r\n\r\n  renderContent() {\r\n   if (this.state.showVendorCategories) {\r\n     \r\n     return <VendorCategories onCancel = { () =>\r\n                          this.setState({showVendorCategories: false})  } />\r\n   }\r\n    return  <VendorForm  onVendorSubmit = { () => \r\n                        this.setState({showVendorCategories: true})}/>\r\n  }\r\n\r\nrender() {\r\n \r\nreturn(\r\n  \r\n  <div>\r\n      {this.renderContent()}\r\n  </div>    \r\n)}\r\n}\r\n\r\nexport default reduxForm({\r\n         form: \"vendorForm\" }\r\n)(VendorNew);","import  React from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\n\r\nconst VendorCategories = () =>\r\n{\r\n    return (\r\n        <div>\r\n           <Link to= \"/admin\" className= \"d-flex justify-content-center admin-class\">Admin</Link>\r\n            Vendor Categories\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VendorCategories;","import axios from \"axios\";\r\n\r\nconst KEY= \"NShGwNxnpEeli1H-k4xi7w29358\";\r\n\r\nexport default axios.create ( {\r\n  baseURL : \"https://api.getAddress.io\",\r\n    params: {\"api-key\" : KEY }\r\n});\r\n","import React from \"react\";\r\nimport { Route,Redirect} from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport CounterToRedirect from \"./CounterToRedirect\";\r\n\r\nconst UserRoute = ({ children, ...rest }) => {\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n\r\n  // debugger\r\n  return user && user.token ? (\r\n    <Route {...rest} \r\n    // render={() => children}\r\n     />\r\n  ) : (\r\n     <Redirect  to= \"/\" />\r\n    // <CounterToRedirect />\r\n  );\r\n};\r\n\r\nexport default UserRoute;\r\n","import React,{useState,useEffect} from \"react\";\r\nimport { Route,Redirect} from \"react-router-dom\";\r\nimport { useSelector } from \"react-redux\";\r\nimport {adminUser} from \"../../actions/auth\";\r\n// import CounterToRedirect from \"./CounterToRedirect\";\r\n\r\nconst AdminRoute = ({ children, ...rest }) => {\r\n\r\n  const { user } = useSelector((state) => ({ ...state }));\r\n  console.log(\"User Role\",user)\r\n//   debugger\r\n  const [admin, setAdmin] = useState(false);\r\n\r\n  useEffect( () => {\r\n      if (user && user.token) {\r\n          adminUser(user.token)\r\n          .then ( res => {\r\n             console.log(\"Admin route response\",res);\r\n              setAdmin(true);\r\n      })\r\n      .catch ( (err) => {\r\n          console.log(\"Admin route err\",err);\r\n          setAdmin(false);\r\n      })\r\n      }\r\n  }, [user]);\r\n console.log(\"ADMIN VAL\",admin);\r\n   return  <Route {...rest}  />\r\n\r\n  // return admin ? <Route {...rest}  />  : <Redirect  to= \"/\" />\r\n    // <CounterToRedirect />\r\n  \r\n}\r\n\r\nexport default AdminRoute;","import React, {useState, useEffect} from \"react\";\r\nimport VendorNav from \"../navigation/VendorNav\";\r\nimport ConnectNav from \"../navigation/ConnectNav\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {ToolOutlined} from \"@ant-design/icons\";\r\nimport {toast} from \"react-toastify\";\r\nimport {createConnectAccount} from \"../../actions/stripe\";\r\nimport { getVendorCategoriesUser } from \"../../actions/vendor\";\r\nimport { Card } from 'antd';\r\n\r\nconst { Meta } = Card;\r\n\r\nconst VendorDashboard = ({history}) => {\r\n    \r\n    const {user} = useSelector( (state) => ({...state}));\r\n    const [loading, setLoading] = useState(false);\r\n    const [vendors,setVendors] = useState([]);\r\n\r\n    {console.log(\"User data from vendor dashboard\",user._id, user.email)}\r\n\r\n    useEffect(() => {\r\n      loadVendorDetails();\r\n    },[]);\r\n\r\n    const loadVendorDetails= () => {\r\n      getVendorCategoriesUser(user._id)\r\n      .then( res => setVendors(res.data));\r\n    }\r\n\r\n    const handleClick=  async () => {\r\n        setLoading(true);\r\n        try {\r\n          const res= await createConnectAccount(user.token);\r\n          console.log(\"RES\",res);\r\n          window.location.href=res.data;\r\n          setLoading(false);\r\n        } catch (err) {\r\n            console.log(err);\r\n            toast.error(\"Stripe connect failed. Please try again\");\r\n            setLoading(false);\r\n        }\r\n    }\r\n\r\n    const connectedVendor= () => (\r\n     <div className= \"row ml-0 text-align-top\">\r\n        <div className= \"col-md-3 mt-2 \">\r\n            <VendorNav />   \r\n        </div>  \r\n        <div className=\"col col-md-9 \"> \r\n        <div className=\"row d-flex justify-content-center\">             \r\n           <h2 className= \"font-weight-bold mb-2 mt-2 \"> Your Current Categories</h2>\r\n           <br />\r\n        </div>\r\n         <div className= \"row d-flex justify-content-center mt-3\">\r\n           <div className= \"col d-flex m-2\">\r\n\r\n           {/* {JSON.stringify(vendors)} */}\r\n             {vendors && vendors.map( (v) => (\r\n               <Card  key= {v._id} cover= {\r\n                <img \r\n                 key= {v._id}\r\n                 src= { v.images && v.images.length ? v.images[0].url : \"\"} \r\n                 style= {{ height: \"180px\", objectFit: \"cover\"}}                \r\n               />\r\n             }>\r\n                 <p>{v.vendorInfoId.name}</p>\r\n                 <p>{v.vendorInfoId.email}</p>\r\n                 <p>{v.subcategories[0].name}</p>\r\n                 <Meta title= {`Price-£${v.price} ${v.pricetype}`} description= {v.subcats} />\r\n               </Card>\r\n              \r\n             )\r\n            )} \r\n            </div>\r\n        </div>\r\n        </div>\r\n     </div>\r\n    )\r\n\r\n    const notConnectedVendor= () => (\r\n    <div className= \"container-fluid\">\r\n    <div className= \"row\"> \r\n    <div className= \"col col-md-6 offset-3 text-center\">\r\n      <div className= \"p-5 pointer\">\r\n        <ToolOutlined className=\"h2\" />\r\n        <h4 className= \"font-weight-bold \"> Setup payouts to add your jobs</h4>\r\n        <p className=\"lead\"> Compare my helper partners with stripe to transfer your earnings to your bank account</p>\r\n        <button className=\"btn btn-primary mb-3\"\r\n                disabled= {loading}\r\n                onClick= {handleClick}\r\n                > { loading ? \"Processing...\"  : \"Setup Payouts\"}</button>\r\n        <p className=\"text-muted\">\r\n           <small className=\"font-weight-bold\" > *You will be redirected to stripe to complete the onboarding process</small> \r\n        </p>\r\n      </div>\r\n        \r\n    </div>\r\n    </div>\r\n    </div>\r\n    )\r\n\r\n\r\n    return(\r\n    <>\r\n    <div className= \"container-fluid bg-secondary p-5\">\r\n            <ConnectNav />\r\n    </div>\r\n    { user && user.stripe_seller && user.stripe_seller.charges_enabled\r\n     ? connectedVendor()\r\n     : notConnectedVendor()\r\n    }\r\n        \r\n    </>\r\n    )\r\n}\r\n\r\nexport default VendorDashboard;","import React from \"react\";\r\nimport axios from \"axios\";\r\nimport { useSelector } from \"react-redux\";\r\nimport Resizer from \"react-image-file-resizer\";\r\nimport { Avatar, Badge } from 'antd';\r\n\r\nconst ROOT_URL = 'http://localhost:5000';\r\n\r\nconst FileUpload = ({ values, setValues, setLoading }) => {\r\n\r\n    const { user } = useSelector((state) => ({ ...state }));\r\n    const fileUploadAndResize = (e) => {\r\n        setLoading(true);\r\n        let files = e.target.files;\r\n        let allUploadedFiles = values.images;\r\n        if (files) {\r\n            for (let i = 0; i < files.length; i++) {\r\n                Resizer.imageFileResizer(files[i], 360, 360, 'JPEG', 100, 0, (uri) => {\r\n                    axios.post(`${ROOT_URL}/api/uploadimages`, { image: uri },\r\n                        {\r\n                            headers: {\r\n                                authtoken: user ? user.token : \"\"\r\n                            }\r\n                        })\r\n                        .then(res => {\r\n                            console.log(\"Image Upload Response\", res);\r\n                            setLoading(false);\r\n                            allUploadedFiles.push(res.data);\r\n                            setValues({ ...values, images: allUploadedFiles });\r\n                            console.log(\"Values after image add\", values);\r\n                        })\r\n                        .catch((err) => {\r\n                            setLoading(false);\r\n                            console.log(`Cloudinary upload error:${err}`);\r\n                        })\r\n                }, 'base64')\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleImageRemove = (public_id) => {\r\n        setLoading(true);\r\n        console.log(public_id);\r\n        axios.post(`${ROOT_URL}/api/removeimage`, { public_id },\r\n            {\r\n                headers: {\r\n                    authtoken: user ? user.token : \"\"\r\n                }\r\n            })\r\n            .then((res) => {\r\n                setLoading(false);\r\n                const { images } = values;\r\n                let filteredImages = images.filter((item) => {\r\n                    return item.public_id !== public_id\r\n                });\r\n                setValues({ ...values, images: filteredImages });\r\n                console.log(\"Values after image remove\", values);\r\n\r\n            })\r\n            .catch(err => {\r\n                setLoading(false);\r\n                console.log(err);\r\n            })\r\n    }\r\n    return (\r\n        <>\r\n            <div className=\"row\">\r\n                {values.images && values.images.map(image => (\r\n                    <Badge count=\"X\"\r\n                        key={image.public_id}\r\n                        style={{ cursor: \"pointer\" }}\r\n                        onClick={() => handleImageRemove(image.public_id)}\r\n                    >\r\n                        <Avatar\r\n                            src={image.url}\r\n                            size={100}\r\n                            shape=\"square\"\r\n                            className=\"ml-3\"\r\n                        />\r\n                    </Badge>\r\n                ))}\r\n            </div>\r\n            <div className=\"row admin-class mt-1\">\r\n                <label className=\"btn btn-primary ml-2\">\r\n                    Choose File to upload\r\n                    <input type=\"file\"\r\n                        multiple\r\n                        hidden\r\n                        accept=\"/images/*\"\r\n                        onChange={fileUploadAndResize}\r\n                    />\r\n                </label>\r\n            </div>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default FileUpload;","import React, {useState, useEffect} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport {useSelector} from \"react-redux\";\r\nimport VendorNav from \"../../navigation/VendorNav\";\r\nimport {addVendor} from \"../../../actions/vendor\";\r\nimport VendorForm from \"./VendorForm\";\r\nimport {fetchCategories, fetchCategorySubs} from \"../../../actions/category\";\r\nimport {fetchVendorInfo} from \"../../../actions/vendorInfo\";\r\nimport FileUpload from \"../../utils/FileUpload\";\r\nimport { LoadingOutlined } from \"@ant-design/icons\";\r\n\r\nconst VendorCreate = () => {\r\n\r\n const {user} = useSelector( state => ({...state}));   \r\n\r\n const initialState= {  \r\n   userId: user._id, \r\n   vendorInfoId: \"\" ,\r\n   description: \"\",\r\n   categories: [],\r\n   category: \"\",\r\n   subcategories: [],\r\n   subcategory: \"\",\r\n   price: \"\",\r\n   pricetypes: [\"Hourly\", \"Job\", \"Daily\"],\r\n   pricetype: \"Hourly\",\r\n   images: []\r\n}\r\n const [values, setValues] = useState(initialState); \r\n const [loading,setLoading] = useState(false);\r\n const [subOptions, setSubOptions] = useState([]);\r\n const [ showSubs, setShowSubs] = useState(false);\r\n const [vendor, setvendor] = useState(\"\");\r\n\r\n\r\n useEffect( () => {\r\n    getCategories();\r\n    getVendorInfo();\r\n }, []);\r\n\r\n const getCategories= () => {\r\n    fetchCategories().then( (res) => setValues({ ...values, subcategories:[], categories: res.data}));\r\n }\r\n\r\n const getVendorInfo = () => {\r\n    setLoading(true);\r\n    fetchVendorInfo(user.email)\r\n       .then ( (v) =>  {\r\n          setLoading(false);        \r\n          setvendor(v.data);\r\n       })      \r\n       .catch ( (err) => {\r\n          setLoading(false);\r\n          console.log(err);\r\n          toast.error(`Vendor info not found for user: ${user.email}`);\r\n       })\r\n }\r\n\r\n  const handleChange= (e) => {  \r\n        setValues({ ...values, [e.target.name] : e.target.value, vendorInfoId: vendor._id});     \r\n        console.log((\"Values from handlechange\"),values);\r\n    }\r\n\r\n  const handleCategoryChange= (e) => {\r\n    e.preventDefault();   \r\n    setValues({ ...values,subcategories: [], category: e.target.value});\r\n    fetchCategorySubs(e.target.value)\r\n    .then ( (res) => {      \r\n      setSubOptions(res.data)\r\n    })\r\n    .catch ( (err) => {\r\n       console.log(err);\r\n    })\r\n    setShowSubs(true);\r\n  }\r\n    \r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        setLoading(true);\r\n        console.log(\"Values before submit\",values);\r\n        setValues({ ...values,vendorInfoId: vendor._id,userId: user._id}); \r\n        setLoading(false);\r\n        console.log(\"Values after set values vendor submit\",values);\r\n      \r\n        addVendor(values, user.token)\r\n        .then ( (res) => {\r\n            setLoading(false);\r\n            window.alert(`Vendor is created successfully !!!!` );\r\n            window.location.reload();\r\n        })\r\n        .catch ( (err) => {\r\n           console.log(err);\r\n           setLoading(false);\r\n           toast.error(err.response);            \r\n        });        \r\n   }\r\n  \r\n\r\n    return (\r\n        <div className= \"row\">\r\n           <div className= \"col col-md-2\">\r\n              <VendorNav />\r\n           </div>\r\n           <div className= \"col col-md-10\">\r\n             <section className= \"vendor-center\">\r\n             { loading ? <LoadingOutlined  className= \"text-danger h1\"/>\r\n                       : <h2 className= \"card-header font-weight-bold\">Vendor Categories Form</h2>  \r\n             }\r\n             \r\n              <div className = \"card \" >\r\n               <div className= \" card-body mb-1 \" > \r\n\r\n               <div className= \"p3\">\r\n                  <FileUpload\r\n                     values= {values}\r\n                     setValues= {setValues}\r\n                     setLoading= {setLoading}\r\n                   />\r\n\r\n               </div>  \r\n\r\n              <VendorForm \r\n                 handleSubmit= {handleSubmit}\r\n                 handleChange= {handleChange}\r\n                 vendorInfoId={vendor._id}  \r\n                 vendorName= {vendor.name}\r\n                 userId={user._id}\r\n                 values= {values}\r\n                 setValues= {setValues}\r\n                 handleCategoryChange= {handleCategoryChange}\r\n                 subOptions= {subOptions}\r\n                 showSubs= {showSubs}                 \r\n              /> \r\n             </div>\r\n             </div>\r\n             </section>\r\n           </div>\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n\r\nexport default VendorCreate;","import React from \"react\";\r\nimport { Select } from \"antd\";\r\nconst {Option} = Select;\r\n\r\nconst VendorUpdateForm = ( {handleSubmit, \r\n                            handleChange,                    \r\n                            values,\r\n                            setValues,\r\n                            categories,\r\n                            subOptions,\r\n                            arrOfSubIds,\r\n                            setArrOfSubIds,\r\n                            handleCategoryChange,\r\n                            selectedCategory                                     \r\n                           }) =>  {\r\n\r\n const {   \r\n   description,  \r\n   subcategories,\r\n   category, \r\n   price,\r\n   pricetypes,\r\n   pricetype,\r\n   vendorInfoId  \r\n}  = values;\r\n\r\n \r\n    const renderFields= () => {\r\n        return (\r\n            <form onSubmit= {handleSubmit}>\r\n            <section >\r\n              <div className= \"form-group ml-2\">\r\n                <label className= \"admin-class\">Vendor</label>\r\n                <input\r\n                  type= \"text\"\r\n                  disabled= \"disabled\"\r\n                  name= \"vendorname\"\r\n                  className= \"form-control\"\r\n                  value= {vendorInfoId.name}                 \r\n                 />                  \r\n                                 \r\n                 <label className= \"admin-class\">Description</label>\r\n                <textarea\r\n                  name= \"description\"\r\n                  rows=\"2\"\r\n                  className= \"form-control\"\r\n                  value= {description}\r\n                  onChange= {handleChange}\r\n                 />  \r\n\r\n                 <label className= \"admin-class\">Category</label>\r\n                 <select\r\n                   name= \"category\"\r\n                   value= {selectedCategory ? selectedCategory : category._id}\r\n                   className= \"form-control\"\r\n                   onChange= { handleCategoryChange}\r\n                 >\r\n                  {/* <option>{ category ? category.name : \"Select a category\"}</option> */}\r\n                  {categories.length > 0 && categories.map( (c) => (\r\n                    <option key= {c._id} value= {c._id}> {c.name}</option>\r\n                 ))\r\n                 }\r\n                 </select> \r\n\r\n                 <div>\r\n                  <label className= \"admin-class mt-1 mb-1\">Subcategories</label>\r\n                  <Select mode= \"multiple\"\r\n                          style={{ width: '100%' }}\r\n                          placeholder= \"Select a Sub category\"\r\n                          className= \"font-weight:800 subdropdown\"\r\n                          value= {arrOfSubIds}\r\n                          onChange= { (value) => setArrOfSubIds( value) }\r\n                  >\r\n                     { subOptions.length && subOptions.map( (s) => (\r\n                         <Option key= {s._id} value= {s._id}>\r\n                            {s.name}\r\n                         </Option>\r\n                     ))}\r\n                  </Select>                  \r\n                 </div>\r\n                                   \r\n                 <label className= \"admin-class\">Price Type</label>``\r\n                 <select\r\n                   value= {pricetype}\r\n                   name= \"pricetype\"\r\n                   className= \"form-control\"\r\n                   onChange= {handleChange}\r\n                 >\r\n                 \r\n                  {pricetypes.map((c) => (\r\n                  <option key={c} value={c}>\r\n                  {c}\r\n                 </option>\r\n                 ))}         \r\n                 </select>\r\n                 <label className= \"admin-class\">Price</label>\r\n                 <input\r\n                  type= \"number\"\r\n                  name= \"price\"\r\n                  className= \"form-control\"\r\n                  value= {price}\r\n                  onChange= {handleChange}\r\n                 />  \r\n                                                   \r\n\r\n               </div>\r\n               <div className= \"d-flex justify-content-center mt-1\">\r\n                  <button type=\"submit\" className = \"btn btn-primary font-weight-bold \" name=\"category\">Save</button>  \r\n               </div> \r\n            </section>\r\n            </form>\r\n        ) \r\n    }            \r\n    \r\n   \r\n        return(   \r\n            <div>             \r\n               {renderFields()}        \r\n            </div>        \r\n        )\r\n    }\r\n\r\n\r\n\r\n export default VendorUpdateForm;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {toast} from \"react-toastify\";\r\nimport VendorNav from \"../../navigation/VendorNav\";\r\nimport {fetchCategories, fetchCategorySubs} from \"../../../actions/category\";\r\nimport {getVendorCategory, updateVendor} from \"../../../actions/vendor\";\r\nimport VendorUpdateForm from \"./VendorUpdateForm\";\r\nimport FileUpload from \"../../utils/FileUpload\";\r\n\r\nconst VendorEdit = ({match,history}) => {\r\n\r\n   const {user} = useSelector( (state) => ({...state}));\r\n   const [loading,setLoading] = useState(false);\r\n   const [categories, setCategories]= useState([]);\r\n   const [subOptions, setSubOptions] = useState([]);\r\n   const [arrOfSubIds, setArrOfSubIds]= useState([]);\r\n   const [selectedCategory, setSelectedCategory]= useState(\"\");\r\n\r\n   const initialState= {  \r\n    userId: user._id, \r\n    vendorInfoId: \"\" ,\r\n    description: \"\",   \r\n    category: \"\",\r\n    subcategories: [],\r\n    subcategory: \"\",\r\n    price: \"\",\r\n    pricetypes: [\"Hourly\", \"Job\", \"Daily\"],\r\n    pricetype: \"\",\r\n    images: [],\r\n }\r\n  \r\n  const [values, setValues] = useState(initialState);\r\n  console.log(\"values before set\",values);\r\n\r\n   useEffect( () => {\r\n     loadVendorCategory();\r\n     loadCategories();\r\n   }, []);\r\n\r\n   const loadVendorCategory= () => {\r\n        setLoading(true);\r\n        getVendorCategory(match.params.id)\r\n        .then ( (cat) => {\r\n            setValues({...values, ...cat.data});\r\n            fetchCategorySubs(cat.data.category._id)\r\n              .then ( res => setSubOptions(res.data));\r\n             let arr= [];\r\n             cat.data.subcategories.map( (s) => {\r\n                 arr.push(s._id)\r\n             });\r\n             console.log(\"ARR\", arr);\r\n             setArrOfSubIds((prev) => arr); \r\n        })\r\n        .catch ( (err) => {\r\n            console.log(err);\r\n            toast.error(err.response);\r\n        })\r\n   }\r\n\r\n   const loadCategories= () => {\r\n       fetchCategories().then ( (res) => setCategories( res.data));\r\n   }   \r\n\r\n   const handleChange= (e) => {  \r\n      setValues({ ...values, [e.target.name] : e.target.value});     \r\n    // console.log((\"Values from handlechange\"),values);\r\n   }\r\n\r\n  const handleCategoryChange= (e) => {\r\n    e.preventDefault();   \r\n    setValues({ ...values,subcategories: []});\r\n    setSelectedCategory(e.target.value);\r\n    fetchCategorySubs(e.target.value)\r\n    .then ( (res) => {      \r\n      setSubOptions(res.data)\r\n    })\r\n    .catch ( (err) => {\r\n       console.log(err);\r\n    })\r\n    //if the user clicks on the original category, fetch the previously selected subcats\r\n    if( values.category._id === e.target.value) {\r\n        loadVendorCategory();\r\n    }\r\n    setArrOfSubIds([]);    \r\n  }\r\n\r\n   const handleSubmit= (e) => {\r\n       e.preventDefault();\r\n       setLoading(true);\r\n       values.subcategories= arrOfSubIds;\r\n       values.category= selectedCategory ? selectedCategory : values.category;\r\n       updateVendor( match.params.id, values, user.token)\r\n       .then ( (res) => {\r\n         setLoading(false);\r\n         toast.success(\"Vendor categories updated successfully !!!!\");\r\n         history.push(`/vendor/vendorcatlistuser/${match.params.id}`);\r\n       })\r\n       .catch ( (err) => {\r\n         setLoading(false);\r\n         console.log(err);\r\n         toast.error(err.response.data.err);\r\n       })\r\n   }\r\n\r\n    return (\r\n        <div className= \"row\">\r\n          <div className= \"col col-md-2\">\r\n            <VendorNav />\r\n          </div>\r\n          <div className= \"col col-md-10 \">   \r\n          <section className= \"vendor-center\">      \r\n            <h2 className= \"font-weight-bold mb-2\">Change Categories </h2>\r\n            {/* {JSON.stringify(values)} */}\r\n\r\n            <div className= \"p3 ml-2\">\r\n                  <FileUpload\r\n                     values= {values}\r\n                     setValues= {setValues}\r\n                     setLoading= {setLoading}\r\n                   />\r\n\r\n               </div>  \r\n            <VendorUpdateForm \r\n                handleSubmit= {handleSubmit}\r\n                handleChange= {handleChange}\r\n                setvalues= {setValues}\r\n                values= {values}\r\n                user= {user}\r\n                categories= {categories}\r\n                subOptions= {subOptions}\r\n                arrOfSubIds= {arrOfSubIds}\r\n                setArrOfSubIds= {setArrOfSubIds}\r\n                handleCategoryChange= {handleCategoryChange}\r\n                selectedCategory= {selectedCategory}\r\n            />\r\n            </section>\r\n          </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VendorEdit;","//changes for vendorinfo form\r\nimport React, {useState,useEffect} from \"react\";\r\nimport PostcodeSearch from \"../../utils/PostcodeSearch\";\r\nimport {fetchCities, fetchCounties} from \"../../../actions/area\";\r\n\r\nconst VendorForm = ( {handleSubmit, \r\n                     handleChange,                     \r\n                     email,                    \r\n                     name, \r\n                     postcode,\r\n                     houseNo,\r\n                     addressLine1,\r\n                     addressLine2, \r\n                     city,\r\n                     county,\r\n                     country,\r\n                     handleCounty,\r\n                     handleCity,\r\n                    website\r\n                    }) =>  {\r\n\r\nconst [cities,setCities] = useState([]);\r\nconst [counties,setCounties] = useState([]);\r\n\r\nuseEffect( () => {\r\n  fetchCities()\r\n  .then ( res => {\r\n    setCities(res.data)\r\n    return res.data;\r\n  } );       \r\n},[]);\r\n\r\nuseEffect(() => {\r\n  if(city){\r\n      fetchCounties(city)\r\n      .then ( res => {\r\n        setCounties(res.data)\r\n        return res.data;\r\n      })\r\n      .catch ( err => console.log(err));\r\n  }\r\n}, [city])\r\n\r\n\r\nconst handleCityChange= (e) => {\r\n  e.preventDefault();\r\n  handleCity(e);\r\n  fetchCounties(e.target.value)\r\n  .then ( res => {\r\n    setCounties(res.data)\r\n    return res.data;\r\n  })\r\n  .catch ( err => console.log(err));\r\n}\r\n\r\nconsole.log(\"Counties\",counties);\r\nconst renderFields= () => {\r\n\r\n      const handlePostcodeChange= (props) => {\r\n          console.log(\"Props from vendor autocomplete\", props);\r\n      }\r\n        return (\r\n            <form onSubmit= {handleSubmit}>\r\n            <section >\r\n              <div className= \"form-group\">\r\n              <label className= \"admin-class\">Your email</label>\r\n              <input\r\n                  type= \"text\"\r\n                  disabled= \"disabled\"\r\n                  name= \"email\"\r\n                  className= \"form-control\"\r\n                  value= {email}                 \r\n                 />\r\n                <label className= \"admin-class\">Name</label>\r\n                <input\r\n                  type= \"text\"\r\n                  name= \"name\"\r\n                  className= \"form-control\"\r\n                  value= {name}\r\n                  onChange= {handleChange}\r\n                  autoFocus\r\n                 />\r\n                                \r\n                 <label className= \"admin-class\">Postcode</label>\r\n                 {/* <PostcodeSearch  \r\n                   className=\"form-control\"\r\n                   name=\"postcode\"\r\n                   value= {postcode}\r\n                   onChange= {() => handlePostcodeChange}\r\n                /> */}\r\n\r\n                <input\r\n                  type= \"text\"\r\n                  name= \"postcode\"\r\n                  className= \"form-control\"\r\n                  value= {postcode}\r\n                  onChange= {handleChange}\r\n                 />\r\n                <label className= \"admin-class\">House No</label>\r\n                <input\r\n                  type= \"text\"\r\n                  name= \"houseNo\"\r\n                  className= \"form-control\"\r\n                  value= {houseNo}\r\n                  onChange= {handleChange}\r\n                 />\r\n                <label className= \"admin-class\">Address Line 1</label>\r\n                <input\r\n                  type= \"text\"\r\n                  name= \"addressLine1\"\r\n                  className= \"form-control\"\r\n                  value= {addressLine1}\r\n                  onChange= {handleChange}\r\n                 />\r\n                <label className= \"admin-class\">Address Line 2</label>\r\n                <input\r\n                  type= \"text\"\r\n                  name= \"addressLine2\"\r\n                  className= \"form-control\"\r\n                  value= {addressLine2}\r\n                  onChange= {handleChange}\r\n                 />\r\n                <label className= \"admin-class\">City</label>\r\n                <select className=\"form-control\"  \r\n                   name=\"city\"\r\n                   onChange= {handleCityChange}    \r\n                 >\r\n               <option>Select a city</option>             \r\n               {cities.length > 0 && cities.map(cityval => \r\n              {\r\n                 return (<option key={cityval} \r\n                        value={cityval}\r\n                         selected={cityval===city}\r\n                        > \r\n                    {cityval} </option> \r\n               )})}\t \r\n\t           </select>\r\n              <label className= \"admin-class\">County</label>\r\n               <select className=\"form-control\"  \r\n                   name=\"county\"\r\n                   onChange= {handleCounty} \r\n              >\r\n               <option>Select the county</option>             \r\n               {counties.length > 0 && counties.map(countyval => \r\n              (\r\n                // {console.log(\"COUNTY\",countyval.county,county)}\r\n                <option key={countyval.county} \r\n                        value={countyval.county}\r\n                        selected={countyval.county===county}\r\n                        > \r\n                    {countyval.county} </option> \r\n               ))}                  \r\n               </select> \r\n\r\n                 <label className= \"admin-class\">Country</label>\r\n                 <input\r\n                  type= \"text\"\r\n                  name= \"country\"\r\n                  className= \"form-control\"\r\n                  value= {country}\r\n                  onChange= {handleChange}\r\n                 />\r\n                \r\n                <label className= \"admin-class\">Website</label>\r\n                 <input\r\n                  type= \"text\"\r\n                  name= \"website\"\r\n                  className= \"form-control\"\r\n                  value= {website}\r\n                  onChange= {handleChange}\r\n                 />\r\n                \r\n               </div>\r\n               <div className= \"d-flex justify-content-center mt-1 mb-2 \">\r\n                  <button type=\"submit\" className = \"btn btn-primary font-weight-bold \" name=\"category\">Save</button>  \r\n               </div> \r\n            </section>\r\n            </form>\r\n        ) \r\n    }            \r\n    \r\n   \r\n        return(   \r\n            <div>             \r\n               {renderFields()}        \r\n            </div>        \r\n        )\r\n    }\r\n\r\n\r\n\r\n export default VendorForm;\r\n\r\n","import React, {useState, useEffect} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport {useSelector} from \"react-redux\";\r\nimport VendorNav from \"../../navigation/VendorNav\";\r\nimport {addVendorInfo} from \"../../../actions/vendorInfo\";\r\nimport VendorInfoForm from \"../VendorInfo/VendorInfoForm\";\r\n\r\nconst VendorInfoCreate = () => {\r\n\r\n const {user} = useSelector( state => ({...state})); \r\n \r\n const initialState= {  \r\n    userId: user._id,\r\n    email: user.email,    \r\n    postcode: \"\",\r\n    name: \"\",\r\n    houseNo: \"\",\r\n    addressLine1: \"\",\r\n    addressLine2: \"\",\r\n    city: \"\",\r\n    county: \"\",\r\n    country: \"United Kingdom\",\r\n    website: \"\"\r\n }\r\n const [values, setValues] = useState(initialState); \r\n const [loading,setLoading] = useState(false);\r\n\r\n   \r\n const {\r\n  email, \r\n  userId,\r\n  postcode,\r\n  name,\r\n  houseNo,\r\n  addressLine1,\r\n  addressLine2,\r\n  city,\r\n  county,  \r\n  country,\r\n  website\r\n}  = values;\r\n\r\n  const handleChange= (e) => {  \r\n        setValues({ ...values, [e.target.name] : e.target.value});\r\n        console.log(e.target.name, \".....\", e.target.value);\r\n    }\r\n      \r\n  const handleSubmit = (e) => {       \r\n        e.preventDefault();\r\n        setLoading(true);\r\n        setValues({ ...values,  userId: user._id, email:user.email});        \r\n        addVendorInfo(values, user.token)\r\n        .then ( (res) => {\r\n            setLoading(false);\r\n            window.alert(`Vendor Information is created successfully for ${user.email}` );\r\n            window.location.reload();\r\n        })\r\n        .catch ( (err) => {\r\n           console.log(err);\r\n           setLoading(false);\r\n           toast.error(err.response);            \r\n        });        \r\n   }  \r\n\r\n    return (\r\n        <div className= \"row\">\r\n           <div className= \"col col-md-2\">\r\n              <VendorNav />\r\n           </div>\r\n           <div className= \"col col-md-10\">\r\n                           \r\n              <section className= \"vendor-center\">  \r\n\r\n              { loading ? <h2>Loading....</h2> \r\n               : <h2 className=\"card-header font-weight-bold\" > Vendor Information </h2>  }    \r\n \r\n             <div className = \"card  mb-2\" >\r\n             <div className= \" card-body mb-1 \" >   \r\n              <VendorInfoForm \r\n                 handleSubmit= {handleSubmit}\r\n                 handleChange= {handleChange}\r\n                 email= {user.email}\r\n                 userId={user._Id}\r\n                 user={user}                              \r\n                 name= {name}\r\n                 postcode= {postcode}\r\n                 houseNo = {houseNo}\r\n                 addressLine1= {addressLine1}\r\n                 addressLine2= {addressLine2}\r\n                 city= {city}\r\n                 county= {county}\r\n                 country= {country} \r\n                 website= {website}                \r\n                 values= {values}\r\n                 setValues= {setValues}\r\n              /> \r\n             </div>\r\n             </div>\r\n             </section>\r\n           </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VendorInfoCreate;","import React, {useState, useEffect} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport {useSelector} from \"react-redux\";\r\nimport VendorNav from \"../../navigation/VendorNav\";\r\nimport {fetchVendorInfo,editVendorInfo} from \"../../../actions/vendorInfo\";\r\nimport VendorInfoForm from \"./VendorInfoForm\";\r\n\r\n\r\nconst VendorInfoEdit = ({match}) => {\r\n\r\n const {user} = useSelector( state => ({...state}));   \r\n const [values, setValues] = useState([]); \r\n const [loading,setLoading] = useState(false);\r\n const email= match.params.email\r\n\r\n {console.log(\"MATCH\",match)}\r\n  useEffect( () => {\r\n     getVendorInfo();\r\n },[]);\r\n\r\n const getVendorInfo= () => \r\n {\r\n    fetchVendorInfo(user.email)\r\n      .then ( res => setValues(res.data))\r\n      .catch ( (err)  => {\r\n         console.log(\"No vendor info was found\",err);         \r\n      })\r\n } \r\n\r\n \r\n\r\nconsole.log(\"Authtoken:\",user.token );\r\n\r\n  const handleChange= (e) => {  \r\n        setValues({ ...values, [e.target.name] : e.target.value});\r\n        console.log(e.target.name, \".....\", e.target.value);\r\n    }\r\n\r\n    const handleCity = (e) => {\r\n      setValues({ ...values, [e.target.name] : e.target.value});\r\n    }\r\n\r\n    const handleCounty = (e) => {\r\n      setValues({ ...values, [e.target.name] : e.target.value});\r\n    }\r\n\r\n    console.log(\"values from vendor edit\",values);\r\n    const {\r\n     postcode,\r\n     name,\r\n     houseNo,\r\n     addressLine1,\r\n     addressLine2,\r\n     city,\r\n     county,\r\n     country,\r\n     website\r\n   }  = values;\r\n\r\n\r\n      \r\n  const handleSubmit = (e) => {       \r\n        e.preventDefault();\r\n        setLoading(true);  \r\n        console.log(\"Values before EDIT\",values, values.county);           \r\n        editVendorInfo(email,values, user.token)\r\n        .then ( (res) => {\r\n            setLoading(false);\r\n            window.alert(`Vendor Information is changed successfully for ${user.email}` );\r\n            window.location.reload();\r\n        })\r\n        .catch ( (err) => {\r\n           console.log(err);\r\n           setLoading(false);\r\n           toast.error(err.response);            \r\n        });        \r\n   }  \r\n\r\n    return (\r\n        <div className= \"row\">\r\n           <div className= \"col col-md-2\">\r\n              <VendorNav />\r\n           </div>\r\n           <div className= \"col col-md-10\">\r\n                           \r\n              <section className= \"vendor-center\">  \r\n\r\n              { loading ? <h2>Loading....</h2> \r\n               : <h2 className=\"card-header font-weight-bold\" > Edit Vendor Information </h2>  }    \r\n \r\n             <div className = \"card  mb-2\" >\r\n             <div className= \" card-body mb-1 \" >   \r\n              <VendorInfoForm \r\n                 handleSubmit= {handleSubmit}\r\n                 handleChange= {handleChange}\r\n                 handleCity={handleCity}\r\n                 handleCounty= {handleCounty}\r\n                 email= {user.email}                                            \r\n                 name= {name}\r\n                 postcode= {postcode}\r\n                 houseNo = {houseNo}\r\n                 addressLine1= {addressLine1}\r\n                 addressLine2= {addressLine2}\r\n                 city= {city}\r\n                 county={county}\r\n                 country= {country}                 \r\n                 website= {website}                \r\n                 values= {values}\r\n                 setValues= {setValues}\r\n              /> \r\n                         \r\n             </div>\r\n             </div>\r\n             </section>\r\n           </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default VendorInfoEdit;","import React, {useState, useEffect} from \"react\";\r\nimport AdminNav from \"../../navigation/AdminNav\";\r\nimport {getAllVendorCategories} from \"../../../actions/vendor\";\r\nimport AdminVendorCard from \"../../cards/AdminVendorCard\";\r\nimport {EditOutlined, DeleteOutlined} from \"@ant-design/icons\";\r\n\r\nconst VendorCatList = () => {\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect( () => {\r\n     loadVendorCategories();     \r\n  },[]);\r\n\r\n  const loadVendorCategories= () => {\r\n    setLoading(true);\r\n    getAllVendorCategories()\r\n    .then ( res => {\r\n        setCategories(res.data);\r\n        setLoading(false);\r\n    })\r\n    .catch ( err => {\r\n        setLoading(false);\r\n        console.log(err);\r\n    })\r\n  }\r\n      \r\n   return(\r\n    <div className= \"container-fluid\">\r\n        <div className= \"row ml-0 text-align-top\">\r\n           <div className= \"col-md-2 mt-2 \">\r\n               < AdminNav />   \r\n           </div>  \r\n           <div className= \"col col-md-10\">\r\n            { loading ? <h4>Loading....</h4>\r\n                      :  <h4 className= \"font-weight-bold\">All Vendor Categories</h4>\r\n            }\r\n            <div className= \"row pb-3\">\r\n            { categories.map( (cat) => {\r\n             return (\r\n              <div className= \"col col-md-4\"  key= {cat._id}>                              \r\n               <AdminVendorCard  cat= {cat}                                \r\n               />\r\n               </div>\r\n             )\r\n            })\r\n            } \r\n            </div>         \r\n             \r\n           </div>\r\n        </div>\r\n    </div>\r\n   )\r\n}\r\n\r\n\r\nexport default VendorCatList;\r\n\r\n\r\n\r\n\r\n\r\n\r\n  \r\n\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport AdminMenu from \"../AdminMenu\";\r\nimport Modal from \"../../Modal\";\r\nimport history from \"../../../history\";\r\nimport { toast } from \"react-toastify\";\r\nimport {deleteVendor, getAllVendorCategories, getVendorCategory} from \"../../../actions/vendor\";\r\n\r\n\r\nconst VendorCatDelete = (props) => {\r\n\r\n    const {user} = useSelector( state => ({...state})); \r\n    const [vendors, setVendors] = useState([]);\r\n    const [loading,setLoading] = useState(false);\r\n    const [ vendor, setVendor] = useState(\"\");\r\n    const id = props.match.params.id;\r\n    \r\n    console.log(\"ID\", props.match.params);\r\n\r\n    useEffect ( () => {\r\n       loadVendorCategories();\r\n       loadAllVendorCategories();      \r\n    }, []);\r\n\r\n    const loadAllVendorCategories= () => {         \r\n        getAllVendorCategories()\r\n          .then ( (res) => setVendors(res.data));          \r\n          };\r\n\r\n    const loadVendorCategories= () => {\r\n        getVendorCategory(id)\r\n        .then ( (v) => setVendor(v.data))\r\n        .catch ( (err) => {\r\n            console.log(err);\r\n            toast.error(\"No vendor category was found\");\r\n        })\r\n    }\r\n    \r\n     const addRoute= () => {\r\n        return(\"/vendor/vendorcatlist\");\r\n     } \r\n    const handleDelete = () => {\r\n        setLoading(true);\r\n        console.log(\"ID & Token\", id,user.token);\r\n        deleteVendor(id, user.token)\r\n       .then ( res => {\r\n          setLoading(false);\r\n          toast.success(`vendor Category deleted successfully: ${id}`);\r\n          getAllVendorCategories(); \r\n       })          \r\n        .catch( (err) => {\r\n            console.log(err);\r\n            toast.error(`Could not delete the vendor category for:${id}`)\r\n        })\r\n    }\r\n\r\n    const renderActions = () => {\r\n       \r\n        return (\r\n           <React.Fragment>\r\n           <button onClick= { () => {handleDelete()}    } \r\n              type=\"submit\" className=\" btn btn-danger primary-button mr-3\">Yes</button>\r\n           <Link to= \"/vendor/vendorcatlist\" \r\n                 type=\"button\" className= \"btn btn-secondary primary-button\">No</Link>\r\n           </React.Fragment>\r\n           );\r\n        }\r\n  \r\n      const renderContent= () => {\r\n         \r\n        //  if(!id) {\r\n            return (\"Are you sure you want to delete this vendor category?\");\r\n         }\r\n            // return(`Are you sure you want to delete the vendor category: ${vendor.subcategories[0].name}`);\r\n        // }\r\n\r\n  return (   \r\n     <div>\r\n       <AdminMenu  \r\n        addRoute= {addRoute()}\r\n        />         \r\n        <Modal \r\n            title= \"Delete Vendor Categories\"\r\n            content= {renderContent()}\r\n            actions= {renderActions()}\r\n            onDismiss = {() => history.push(\"/vendor/vendorcatlist\") }\r\n         />\r\n    </div>    \r\n    \r\n  );\r\n    \r\n}\r\n\r\nexport default VendorCatDelete;","import React, {useState, useEffect} from \"react\";\r\nimport {Link} from \"react-router-dom\";\r\nimport VendorNav from \"../../navigation/VendorNav\";\r\nimport {getVendorCategoriesUser} from \"../../../actions/vendor\";\r\nimport AdminVendorCard from \"../../cards/AdminVendorCard\";\r\nimport {useSelector} from \"react-redux\";\r\n\r\nconst VendorListUser = () => {\r\n\r\n  const {user} = useSelector( state => ({...state}));\r\n  const [categories, setCategories] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect( () => {\r\n     loadVendorCategoriesUser();     \r\n  },[]);\r\n\r\n   const loadVendorCategoriesUser= () => {\r\n    setLoading(true);\r\n    getVendorCategoriesUser(user._id)\r\n    .then ( res => {\r\n        setCategories(res.data)\r\n        setLoading(false);\r\n    })\r\n    .catch ( err => {\r\n        setLoading(false);\r\n        console.log(err);\r\n    })\r\n  }\r\n\r\n        \r\n   return(\r\n    <div className= \"container-fluid\">\r\n        <div className= \"row ml-0 text-align-top\">\r\n           <div className= \"col-md-2 mt-2 \">\r\n               <VendorNav />   \r\n           </div>  \r\n           <div className= \"col col-md-10\">\r\n           \r\n           <li className= \"nav-item col d-flex justify-content-center admin-class mb-2\">\r\n            <Link to= \"/vendor/vendorcreate\" className= \"nav-link\">Add New Categories</Link>\r\n          </li>  \r\n            { loading ? <h4>Loading....</h4>\r\n                      :  <h4 className= \"font-weight-bold\"> Current Categories</h4>\r\n            }\r\n            <div className= \"row pb-3\">\r\n            { categories.map( (cat) => {\r\n             return (\r\n              <div className= \"col col-md-4\"  key= {cat._id}>                              \r\n               <AdminVendorCard  cat= {cat}                                \r\n               />\r\n               </div>\r\n             )\r\n            })\r\n            } \r\n            </div>         \r\n             \r\n           </div>\r\n        </div>\r\n    </div>\r\n   )\r\n}\r\n\r\n\r\nexport default VendorListUser;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector } from \"react-redux\";\r\nimport VendorNav from \"../../navigation/VendorNav\";\r\nimport { DatePicker } from \"antd\";\r\nimport { fetchTimeslots } from \"../../../actions/timeslot\";\r\nimport { addVendorCalendar, readVendorCalendar, fetchVendorCalendarCurrent } from \"../../../actions/vendorCalendar\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Link } from \"react-router-dom\";\r\nimport moment from \"moment\";\r\n\r\nconst VendorCalendar = ({ match }) => {\r\n\r\n  const { user } = useSelector(state => ({ ...state }));\r\n  const [fromDate, setFromDate] = useState(\"\"); // DatePicker = DD/MM/YYYY | API need to conver in YYYY-MM-DD\r\n  const [timeslots, setTimeslots] = useState([]);\r\n  const [currentBooking, setCurrentBooking] = useState('');\r\n  const [clicked, setClicked] = useState([]);\r\n  const [caldata, setCaldata] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  let currentDate = [];\r\n\r\n\r\n  useEffect(() => {\r\n    fetchTimeslots().then(res => setTimeslots(res.data));\r\n  }, []);\r\n\r\n\r\n  //   { loading ?  <h2>\"loading...\"</h2> : console.log(currentBooking)\r\n  //   //  : console.log(\"CURRENT BOOKING\",currentDate= moment(currentBooking.availability[0].start).format(\"YYYY-MM-DD\"), fromDate)\r\n  // }\r\n  // { loading ?  <h2>\"loading...\"</h2>\r\n  //   :  currentDate= moment(currentBooking.availability[0].start).format(\"YYYY-MM-DD\") \r\n  // }\r\n\r\n  const getDateForApiFormat = (dateStr) => {\r\n    let dtstr = \"\";\r\n    if (dateStr) {\r\n      let dtArr = dateStr.split(\"/\");\r\n      if (dtArr && dtArr.length) {\r\n        dtstr = dtArr[2] + \"-\" + dtArr[1] + \"-\" + dtArr[0];\r\n      }\r\n    }\r\n    return dtstr;\r\n  }\r\n\r\n  const handleClick = (e, t, index) => {\r\n    e.preventDefault();\r\n    timeslots && timeslots.map((slot, i) => {\r\n      if (clicked.includes(index)) {\r\n        const temp = [...clicked];\r\n        const tempCal = [...caldata];\r\n        // removing the element using splice\r\n        temp.splice(temp.indexOf(index), 1);\r\n        tempCal.splice(temp.indexOf(index), 1);\r\n        // updating the list\r\n        setClicked(temp);\r\n        setCaldata(tempCal);\r\n        return;\r\n      }\r\n      if (i === index) {\r\n        setClicked(prevArray => [...prevArray, i]);\r\n        setCaldata(prevArray => [...prevArray, e.target.value]);\r\n      } else {\r\n        return slot\r\n      }\r\n    })\r\n  }\r\n\r\n  const loadCurrentBookings = async () => {\r\n    setLoading(true);\r\n    let dtstr = getDateForApiFormat(fromDate);\r\n    return await fetchVendorCalendarCurrent(user._id, dtstr)\r\n      .then(res => {\r\n        // https://stackoverflow.com/questions/54069253/usestate-set-method-not-reflecting-change-immediately\r\n        setCurrentBooking(res.data);\r\n        setLoading(false);\r\n        return res.data;\r\n      }).catch(err => {\r\n        console.log(err);\r\n      });\r\n  }\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    let currentBooking = await loadCurrentBookings();\r\n    let currentDateStr = \"\";\r\n    console.log(\"CURRE DATE\", currentBooking);\r\n\r\n    if (currentBooking) {\r\n      currentDate = moment(currentBooking.availability[0].start).format(\"YYYY-MM-DD\");\r\n      currentDateStr = moment(currentBooking.availability[0].start).format(\"DD/MM/YYYY\");\r\n    }\r\n\r\n    let dtstr = getDateForApiFormat(fromDate);\r\n\r\n    if (!fromDate) {\r\n      toast.error(\"Please select the booking date\");\r\n    } else if (caldata.length === 0) {\r\n      toast.error(\"Please select the slots to book\");\r\n    } else if (currentDateStr == fromDate) {\r\n      toast.error(\"Bookings already exist for this date. Please go to edit bookings\");\r\n    } else {\r\n      setLoading(true);\r\n      addVendorCalendar(user._id, {\r\n        vendorInfoId: user._id,\r\n        availability: [{\r\n                        start: dtstr,\r\n                        timeslots: caldata\r\n                      }]\r\n        }, user.token)\r\n        .then((res) => {\r\n          setLoading(false);\r\n          toast.success(\"Successfully created calendar booking\");\r\n          // setTimeout( () => {\r\n          //   window.location.reload();\r\n          // },1000);\r\n        })\r\n        .catch(err => {\r\n          console.log(err);\r\n          setLoading(false);\r\n          if (err.response === 400)\r\n            toast.error(err.response.data);\r\n          else\r\n            toast.error(err.response);\r\n        })\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <div className=\"row\">\r\n      <div className=\"col col-md-2 mt-1\">\r\n        <VendorNav />\r\n      </div>\r\n      <div className=\"col col-md-10\">\r\n        {(loading)\r\n          ? <h2>Loading.....</h2>\r\n          : <h2 className=\"font-weight-bold\">Add your Availability</h2>\r\n        }\r\n\r\n        <form onSubmit={handleSubmit} >\r\n          <div className=\"col d-flex justify-content-center\">\r\n            <DatePicker\r\n              className=\"site-calendar-card mt-1 ml-4 h6\"\r\n              placeholder=\"Enter booking date\"\r\n              size=\"large\"\r\n              format=\"DD/MM/YYYY\"\r\n              onChange={(date, dateString) =>\r\n                setFromDate(dateString)\r\n              }\r\n              disabledDate={(current =>\r\n                current && current.valueOf() < moment().subtract(1 - \"days\"))}\r\n            />\r\n\r\n          </div>\r\n          <br />\r\n          {timeslots && timeslots.map((t, index) => (\r\n            <div className=\"font-weight-bold d-flex justify-content-center mt-1\"\r\n              key={t._id}>\r\n              <button className={!clicked.includes(index) ? \"btn btn-primary\" : \"btn btn-danger\"}\r\n                value={t._id}\r\n                onClick={(e) => handleClick(e, t, index)}\r\n              >\r\n                {t.startSlot} - {t.endSlot} </button>\r\n            </div>\r\n          ))\r\n          }\r\n\r\n          <div className=\"row  mt-3\">\r\n            <div className=\"col col-md-6 d-flex justify-content-end\" >\r\n              <button className=\"btn btn-secondary font-weight-bold\"\r\n                type=\"submit\"> Submit your Availability</button>\r\n            </div>\r\n\r\n            <div className=\"col col-md-6 d-flex justify-content-start\">\r\n              <Link to={`/vendor/vendorcallist/${user._id}`}\r\n                type=\"button\" className=\"btn btn-secondary font-weight-bold\">Back</Link>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VendorCalendar;","import React from \"react\";\r\nimport {Card} from \"antd\";\r\nimport {Link} from \"react-router-dom\";\r\nimport { EditOutlined } from \"@ant-design/icons\";\r\nimport moment from \"moment\";\r\n\r\nconst {Meta} = Card;\r\n\r\nconst VendorCalCard = ({cal}) => {\r\n\r\n      const start = new Date(cal.availability[0].start).toLocaleDateString();      \r\n   \r\n  return (\r\n      <Card \r\n       actions= {[ <Link to= {`/vendor/vendorcaledit/${cal._id}`}>\r\n                      <EditOutlined  className= \"text-warning\" />\r\n                    </Link>                   \r\n                 ]} \r\n      >    \r\n      <b className= \"mb-2\">Booking Date: {start}    </b>\r\n      {cal.availability[0].timeslots && cal.availability[0].timeslots.map((ts, i) => (\r\n        <p key= {ts._id + \"_\" + i} className=\"bg-info font-weight-bold \">{ts.startSlot}-{ts.endSlot}</p>\r\n      )\r\n      )}\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default VendorCalCard;\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport VendorNav from \"../../navigation/VendorNav\";\r\nimport {fetchVendorCalendar} from \"../../../actions/vendorCalendar\";\r\nimport VendorCalCard from \"../../cards/VendorCalCard\";\r\n\r\nconst VendorCalendarList = () => {\r\n\r\n    const {user} = useSelector( state => ({...state}));\r\n    const [vendorCal, setVendorCal] = useState([]);\r\n    const [loading, setLoading] = useState(\"false\");\r\n\r\n   useEffect (() => {\r\n      loadVendorCalendar();\r\n   }, []);\r\n\r\n  \r\n   const loadVendorCalendar= () => {\r\n    setLoading(true);\r\n    fetchVendorCalendar(user._id)\r\n    .then (res => setVendorCal(res.data));\r\n    setLoading(false);\r\n   }\r\n   \r\n  \r\n    return (\r\n        <div className= \"row\">\r\n         <div className= \"col col-md-3\">\r\n        <VendorNav />\r\n        </div>  \r\n       <div className = \"col col-md-9 \"> \r\n        <div className= \"row\">\r\n         <li className= \"col d-flex justify-content-end mb-2 font-weight-bold admin-class\">\r\n            <Link to= {`/vendor/vendorcalcreate/${user._id}`} className= \"nav-link font-weight-bold\"><button>Add New Calendar Availability</button></Link>\r\n         </li>\r\n         <li className= \"col d-flex justify-content-start admin-class mb-2\">\r\n            <Link to= {`/vendor/vendorcalbulk/${user._id}`} className= \"nav-link\"><button>Add Bulk Booking</button></Link>\r\n         </li>\r\n         </div> \r\n         { loading ? <h4>Loading....</h4>\r\n                      :  <h4 className= \"font-weight-bold\"> Your Current Bookings</h4>\r\n         }\r\n\r\n         <div className= \"row pb-3\">\r\n            { vendorCal.map( (cal) => {\r\n             return (\r\n              <div className= \"col col-md-4\"  key= {cal._id}>                              \r\n               <VendorCalCard  cal= {cal}                                \r\n               />\r\n               </div>\r\n             )\r\n            })\r\n            } \r\n            </div> \r\n           \r\n         <div>\r\n\r\n         </div>  \r\n       </div>\r\n\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nexport default VendorCalendarList;","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport VendorNav from \"../../navigation/VendorNav\";\r\nimport {DatePicker} from \"antd\";\r\nimport {Link} from \"react-router-dom\";\r\nimport moment from \"moment\";\r\nimport {fetchTimeslots} from \"../../../actions/timeslot\";\r\nimport {readVendorCalendar,editVendorCalendar} from \"../../../actions/vendorCalendar\";\r\nimport {toast} from \"react-toastify\";\r\n\r\nconst VendorCalendarEdit= ({match}) => {\r\n\r\nconst {user} = useSelector( (state) => ({...state}));\r\nconst [fromDate, setFromDate] = useState(\"\");\r\nconst [caldata, setCaldata] = useState([]);\r\nconst [toDate, setToDate] = useState(\"\");\r\nconst [timeslots, setTimeslots] = useState([]);\r\nconst [currentSlots, setCurrentSlots] = useState([]);\r\n\r\nconst [clicked, setClicked] = useState([]);\r\nconst [loading,setLoading] = useState(false);\r\n\r\nuseEffect( () => {    \r\n    fetchTimeslots().then( res => setTimeslots(res.data));\r\n},[]);\r\n\r\n{console.log(\"MATCH\", match.params.id)}\r\n\r\nuseEffect( () => {\r\n   readVendorCalendar(match.params.id)\r\n   .then ( (res) => {\r\n        setFromDate(res.data.availability[0].start)\r\n        setToDate (res.data.availability[0].end)\r\n        setCurrentSlots(res.data.availability[0].timeslots)\r\n   });  \r\n},[]);\r\n\r\nconsole.log(\"Current slots\",  currentSlots);\r\n\r\nconst getDateForApiFormat = (dateStr) => {\r\n    let dtstr = \"\";\r\n    if (dateStr && dateStr.includes(\"/\")) {\r\n      let dtArr = dateStr.split(\"/\");\r\n      if (dtArr && dtArr.length) {\r\n        dtstr = dtArr[2] + \"-\" + dtArr[1] + \"-\" + dtArr[0];\r\n      }\r\n    }\r\n    else{\r\n      dtstr = moment(dateStr).format(\"YYYY-MM-DD\");\r\n    }\r\n    return dtstr;\r\n  }\r\n\r\nconst handleClick= (e,t,index) => {\r\n    e.preventDefault();\r\n    timeslots && timeslots.map ( (slot,i) => {\r\n      if (clicked.includes(index)) {\r\n        const temp = [...clicked];\r\n        const tempCal= [...caldata];\r\n       // removing the element using splice\r\n        temp.splice(temp.indexOf(index),1);\r\n        tempCal.splice(temp.indexOf(index),1);\r\n      // updating the list\r\n        setClicked(temp);\r\n        setCaldata(tempCal);\r\n        return;\r\n      }\r\n      if (i === index) {        \r\n        setClicked(prevArray => [...prevArray, i]);\r\n        setCaldata(prevArray => [...prevArray, e.target.value]);                 \r\n      } else {\r\n        return slot\r\n      }\r\n       })\r\n       }\r\n\r\nconst handleSubmit= (e) => {  \r\n    e.preventDefault();\r\n    if (!fromDate ) {\r\n      toast.error(\"Please select the booking date\");\r\n    } else if (caldata.length === 0)\r\n    {\r\n      toast.error(\"Please select the slots to book\");\r\n    } else\r\n    {\r\n    setLoading(true);\r\n    let dtstr = getDateForApiFormat(fromDate);\r\n    editVendorCalendar(user._id, dtstr,{  availability: [ {timeslots:caldata }\r\n                                                 ]}, user.token)\r\n    .then ( (res) => {\r\n      setLoading(false); \r\n      setCaldata([]);\r\n      toast.success(\"Timeslots data is updated successfully\");  \r\n           \r\n    })\r\n    .catch (err => {\r\n      console.log(err);\r\n      setLoading(false);\r\n      if(err.response===400) \r\n         toast.error(err.response.data);\r\n      else\r\n          toast.error(err.response);\r\n    })\r\n  }\r\n}    \r\n\r\n\r\n    return (\r\n     <div className= \"row\">\r\n      <div className= \"col col-md-3\">\r\n        <VendorNav />\r\n      </div>\r\n      <div className=\"col col-md-9\">\r\n        { loading ? <h2>Loading....</h2> : <h2 className=\"font-weight-bold\">Update your Availability</h2>\r\n        }\r\n        <form>\r\n            <div className= \"col d-flex justify-content-center\">\r\n            { fromDate && <DatePicker\r\n              className=\"site-calendar-card  ml-4 h6\"\r\n              placeholder=\"From date\"\r\n              size= \"large\"   \r\n              defaultValue= {moment(fromDate, \"YYYY-MM-DD\")}  \r\n              format=\"DD/MM/YYYY\"            \r\n              onChange= {(date,dateString) => \r\n                        setFromDate(dateString)\r\n                       }\r\n              disabledDate= { (current => \r\n                current && current.valueOf() < moment().subtract( 1- \"days\"))}\r\n             /> \r\n            }\r\n            { toDate && <DatePicker\r\n              className=\"site-calendar-card  ml-4 h6\"\r\n              placeholder=\"To date\" \r\n              size=\"large\"   \r\n              defaultValue= {moment(toDate, \"YYYY-MM-DD\")}       \r\n              onChange= {(date,dateString) => \r\n                          setToDate(dateString)\r\n                          }\r\n              disabledDate= { (current => \r\n                    current && current.valueOf() < moment().subtract( 1- \"days\"))}\r\n             /> \r\n            }\r\n             </div>\r\n             <br />\r\n             {/* {JSON.stringify(currentSlots)} */}\r\n              {/* {currentSlots && currentSlots.map( (sl) => ( */}\r\n              {/* <div key= {sl._id}>     */}\r\n                {timeslots && timeslots.map( (t, index) => (\r\n               <div className= \"col  font-weight-bold d-flex justify-content-center mt-1 \"\r\n                   key= {t._id}>                         \r\n                        \r\n                        {/* {console.log(t,!currentSlots.some(slot => {return slot._id == t._id}),'t')} */}\r\n                        {}\r\n                 {/* {sl._id === t._id ? setClicked=== index : setClicked=== null} */}\r\n                 <button className=  { currentSlots.some(slot => {return slot._id == t._id})\r\n                                       ? \"btn btn-secondary\" : !clicked.includes(index) \r\n                                       ?  \"btn btn-primary\" :  \"btn btn-danger\"}\r\n                        value= {t._id}\r\n                       disabled = {currentSlots.some(slot => {return slot._id == t._id})}\r\n                        onClick= {(e) => handleClick(e,t,index)}                        \r\n                >  \r\n                   {t.startSlot} - {t.endSlot} </button>          \r\n                           \r\n              </div>\r\n             ))\r\n             }\r\n             {/* </div> */}\r\n              \r\n             {/* )}  */}\r\n          \r\n            <div className= \"row \">\r\n              <div className= \"col col-md-6 d-flex justify-content-end\" >\r\n               <button className=\"btn btn-secondary font-weight-bold\"\r\n                      onClick= {handleSubmit}> Submit your Availability</button>\r\n               </div>\r\n            \r\n            <div className= \"col col-md-6 d-flex justify-content-start\">\r\n              <Link to= {`/vendor/vendorcallist/${user._id}`}\r\n               type=\"button\" className= \"btn btn-secondary font-weight-bold\">Back</Link>\r\n            </div>\r\n            </div>\r\n            </form>\r\n      </div>\r\n\r\n     </div>\r\n    )\r\n\r\n}\r\n\r\nexport default VendorCalendarEdit;","import React, {useState, useEffect} from \"react\";\r\nimport {fetchTimeslots} from \"../../../actions/timeslot\";\r\nimport {toast} from \"react-toastify\";\r\nimport moment from \"moment\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {addBulkAvail} from \"../../../actions/vendorCalendar\";\r\n\r\n\r\nconst BulkTimeslots= ({match}) => {\r\n {console.log(\"NOW in bulk timeslots\",match.params)}\r\nconst {user} = useSelector( state => ({...state}));\r\nconst [timeslots, setTimeslots]= useState([]);\r\nconst [caldata,setCaldata] = useState([]);\r\nconst [loading,setLoading] = useState(false);\r\nconst [clicked,setClicked] = useState(\"\");\r\nconst days= [];\r\n\r\nuseEffect( () => {\r\n    fetchTimeslots().then( res => setTimeslots(res.data));\r\n  },[]);\r\n\r\n  const handleClick= (e,t,index) => {\r\n    e.preventDefault();\r\n    timeslots && timeslots.map ( (slot,i) => {\r\n      if (clicked.includes(index)) {\r\n        const temp = [...clicked];\r\n        const tempCal= [...caldata];\r\n       // removing the element using splice\r\n        temp.splice(temp.indexOf(index),1);\r\n        tempCal.splice(temp.indexOf(index),1);\r\n      // updating the list\r\n        setClicked(temp);\r\n        setCaldata(tempCal);\r\n        return;\r\n      }\r\n      if (i === index) {        \r\n        setClicked(prevArray => [...prevArray, i]);\r\n        setCaldata(prevArray => [...prevArray, e.target.value]);                 \r\n      } else {\r\n        return slot\r\n      }\r\n       })\r\n     }\r\n\r\n  const handleSubmit= (e) => {\r\n     e.preventDefault();\r\n     const noOfDaysA= moment(match.params.toDate).diff(moment(match.params.fromDate),\"days\");\r\n     console.log(\"NO OF days\",noOfDaysA);\r\n     for (let i=0; i< noOfDaysA; i++) {\r\n         days.push( moment(match.params.fromDate).add(i, 'days')+1);\r\n       }\r\n       console.log(\"DAYS\",days);\r\n     for (let j=0; j < days.length; j++)\r\n       {\r\n         addBulkAvail(user._id,{vendorInfoId: user._id, \r\n                                timeslots: caldata,                     \r\n                                start: days[j]                                        \r\n                              },user.token)\r\n         .then ( (res) => {\r\n            console.log(res.data);        \r\n        })\r\n        .catch ( err => {\r\n         console.log(err);\r\n         setLoading(false);\r\n         if(err.response===400) \r\n               toast.error(err.response.data);\r\n         else\r\n               toast.error(err.response);\r\n         })   \r\n      }\r\n        setLoading(false);\r\n        toast.success(\"Successfully created bulk calendar bookings\");    \r\n\r\n  }\r\n\r\nreturn (\r\n\r\n    <div className= \"row\"> \r\n      <div className= \"col col-md-12 d-flex justify-content-center\">\r\n     <form>\r\n\r\n         <div className= \"row\">\r\n\r\n             <h6 className= \"font-weight-bold mt-2 mb-2 mr-3\">Bulk booking from : {moment(match.params.fromDate).format(\"DD/MM/YYYY\")}</h6>\r\n             <h6 className= \"font-weight-bold mt-2 mb-2 ml-3\">To :  {moment(match.params.toDate).format(\"DD/MM/YYYY\")}</h6>\r\n         </div>\r\n          {timeslots && timeslots.map( (t, index) => (\r\n              <div className= \"font-weight-bold d-flex justify-content-center mt-1\"\r\n                   key= {t._id}>\r\n                <button className=  { !clicked.includes(index) ? \"btn btn-primary\" : \"btn btn-danger\"}\r\n                        value= {t._id}\r\n                        onClick= {(e) => handleClick(e,t,index)}                        \r\n                >  \r\n                 {t.startSlot} - {t.endSlot} </button>\r\n              </div>\r\n             ))\r\n         }\r\n          <div className= \"row  mt-3\">\r\n              <div className= \"col col-md-12 d-flex justify-content-center\" >\r\n               <button className=\"btn btn-secondary font-weight-bold\"\r\n                      onClick= {handleSubmit}> Submit your Bulk Availability</button>\r\n             </div>\r\n          </div>\r\n     \r\n     \r\n     </form>    \r\n     \r\n\r\n      </div>\r\n\r\n    </div>\r\n\r\n)\r\n\r\n}\r\n\r\nexport default BulkTimeslots;","import React, {useState} from \"react\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {Link} from \"react-router-dom\";\r\nimport VendorNav from \"../../navigation/VendorNav\";\r\nimport {addBulkBooking,addBulkAvail} from \"../../../actions/vendorCalendar\";\r\nimport BulkTimeslots from \"./BulkTimeslots\";\r\nimport {DatePicker} from \"antd\";\r\nimport {toast} from \"react-toastify\";\r\nimport moment from \"moment\";\r\n\r\nconst VendorCalendarBulk = () => {\r\n\r\n    const {user} = useSelector( state => ({...state}));\r\n    const [fromDate, setFromDate] = useState(\"\");\r\n    const [toDate, setToDate] = useState(\"\");\r\n    const [loading,setLoading] = useState(false);\r\n    const days= [];\r\n\r\n   \r\n    const handleSubmitUnavail= (e) => {\r\n        e.preventDefault();\r\n        setLoading(true); \r\n        const noOfDaysU= moment(toDate).diff(moment(fromDate),\"days\") +1;\r\n        console.log(\"NO OF days\",noOfDaysU);\r\n        for (let i=0; i< noOfDaysU; i++) {\r\n            days.push( moment(fromDate).add(i, 'days')+1);\r\n          }\r\n          console.log(\"DAYS\",days);\r\n        for (let j=0; j <= days.length; j++)\r\n          {\r\n            addBulkBooking(user._id,{vendorInfoId: user._id,                      \r\n                                 start: days[j]                                        \r\n                             },user.token)\r\n            .then ( (res) => {\r\n               console.log(res.data);\r\n            })\r\n           .catch ( err => {\r\n            console.log(err);\r\n            setLoading(false);\r\n            if(err.response===400) \r\n                  toast.error(err.response.data);\r\n            else\r\n                  toast.error(err.response);\r\n            })   \r\n         }\r\n           setLoading(false);\r\n           toast.success(\"Successfully created bulk calendar bookings\");      \r\n      } \r\n\r\n   const handleSubmitAvail= (e) => {\r\n        console.log(\"IN handle submit AVAIL\");\r\n        <BulkTimeslots \r\n          fromDate= {fromDate}\r\n          toDate={toDate}\r\n        />\r\n      } \r\n\r\n\r\nreturn (\r\n  <div className= \"row\">\r\n      <div className=\"col col-md-3 mt-1\">\r\n           <VendorNav />\r\n       </div>\r\n       <div className= \" col col-md-9 mt-2 \">\r\n       <h2 className=\"font-weight-bold\">Add your Bulk Booking</h2>\r\n       <form>\r\n        <div className= \"col d-flex justify-content-center\" >\r\n       <DatePicker\r\n              className=\"site-calendar-card mt-2 ml-4 h6\"\r\n              placeholder=\"Enter booking start date\"\r\n              size= \"large\"\r\n            //   format= \"DD/MM/YYYY\"          \r\n              onChange= {(date,dateString) => \r\n                        setFromDate(dateString)\r\n                       }\r\n              disabledDate= { (current => \r\n                    current && current.valueOf() < moment().subtract( 1- \"days\"))}\r\n        />  \r\n        <DatePicker\r\n              className=\"site-calendar-card mt-2 ml-4 h6\"\r\n              placeholder=\"Enter booking end date\"\r\n              size= \"large\"\r\n            //   format= \"DD/MM/YYYY\"          \r\n              onChange= {(date,dateString) => \r\n                        setToDate(dateString)\r\n                       }\r\n              disabledDate= { (current => \r\n                    current && current.valueOf() < moment().subtract( 1- \"days\"))}\r\n        /> \r\n          </div>\r\n          <div  className=\"row mb-4\">\r\n              <div className= \"col d-flex justify-content-end mt-3\">\r\n                 <Link to= {`/vendor/bulktimeslots/${user._id}/${fromDate}/${toDate}`} className= \"btn btn-primary font-weight-bold\">Submit your Bulk Availability</Link>\r\n               </div>\r\n               <div className= \"col d-flex justify-content-start mt-3\">\r\n                <button className=\"btn btn-danger font-weight-bold\"\r\n                      onClick= {handleSubmitUnavail}> Submit your Bulk Unavailability\r\n                </button>\r\n               </div>\r\n           </div>\r\n            <div className= \"row mt-4 d-flex justify-content-center\">\r\n\r\n                <p className= \"font-weight-bold \"> *Book block dates of all slots available or your holiday/unavailable dates</p>\r\n            </div>\r\n            \r\n         </form>\r\n       </div>\r\n\r\n  </div>\r\n\r\n)\r\n\r\n}\r\n\r\nexport default VendorCalendarBulk;\r\n\r\n\r\n","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {LoadingOutlined} from \"@ant-design/icons\";\r\nimport {getAccountStatus} from \"../../actions/stripe\";\r\nimport { updateUserInLocalStorage } from \"../../actions/user\";\r\n\r\nconst StripeCallback= ({history}) => {\r\n\r\n    console.log(\"IN stripe callback page....\");\r\n    \r\n    const dispatch= useDispatch();    \r\n    const {user} = useSelector((state) => ({...state}));\r\n      \r\n    console.log(\"USER\",user);\r\n    console.log(\"USER from stripe callback\", user.token);\r\n    // const {user} = useSelector((state) => ({...state}));\r\n    // console.log(\"TOKEN for use from state\", user.token);\r\n        \r\n    useEffect( () => {    \r\n      if (user && user.token) loadAccountStatus()\r\n     },[user]);\r\n    \r\n\r\n    const loadAccountStatus=  async () => {\r\n       try { \r\n        debugger\r\n        console.log(\"User token before call to fUNC\",user.token);\r\n        const res= await getAccountStatus(user.token);\r\n        console.log(\"USER ACCOUNT STATUS STRIPE CALLBACK\",res.data);\r\n        const userval = {_id: res.data._id,\r\n          email: res.data.email,\r\n          name:res.data.name,\r\n          role: res.data.role,\r\n          picture: res.data.picture,\r\n          address: res.data.address,\r\n          cart: res.data.cart,\r\n          stripe_account_id:res.data.stripe_account_id,\r\n          stripe_seller: res.data.stripe_seller,\r\n          stripeSession: res.data.stripeSession,\r\n          token:user.token\r\n         } \r\n        updateUserInLocalStorage( res.data, () => {\r\n        dispatch({\r\n            type:\"LOGGED_IN_USER\",\r\n            payload: userval\r\n          });\r\n          window.location.href= \"/vendor/dashboard\";\r\n        })\r\n       }\r\n      catch (err) {\r\n         console.log(err);\r\n      }\r\n    }\r\n\r\n    return (\r\n        <div className=\"d-flex justify-content-center p-5\">\r\n           <h1> In callback page.... </h1>\r\n           <LoadingOutlined \r\n               className= \"display-1 p5 text-danger\"\r\n           />\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StripeCallback;","import React, {useState, useEffect} from \"react\";\r\nimport {useSelector, useDispatch} from \"react-redux\";\r\nimport {stripeSuccessRequest} from \"../../actions/stripe\";\r\nimport {createOrder, emptyUserCart} from \"../../actions/user\";\r\nimport {LoadingOutlined} from \"@ant-design/icons\";\r\n\r\nconst StripeSuccess = ({match,history}) => {\r\n\r\n    const {user} = useSelector( (state) => ({...state}));\r\n    const dispatch= useDispatch();\r\n    {console.log(\"VENDOR FROM success page\",match.params.vendor)}\r\n    console.log(\"user TOKEN\",user.token, match.params.vendor);\r\n    useEffect( () => {\r\n       stripeSuccessRequest(user.token,match.params.vendor)\r\n       .then( (res) => {\r\n           if (res && res.data && res.data.ok) {\r\n               console.log(\"RES\",res.data); \r\n               //empty cart from local storage\r\n               if ( typeof window !== \"undefined\") localStorage.removeItem(\"cart\");\r\n               //empty cart from redux store\r\n               dispatch({\r\n                 type: \"ADD_TO_CART\",\r\n                 payload: []\r\n               });\r\n               emptyUserCart(user.token);\r\n               console.log(\"RES from stripe success\", res.data)\r\n               history.push(\"/user/history\");\r\n           } else {\r\n              history.push(\"/stripe/cancel\");\r\n           }\r\n       })\r\n    },[match.params.vendor]);\r\n\r\n    return (\r\n\r\n       <div className=\"container\">\r\n        <div className=\"col\">\r\n            <LoadingOutlined  className=\"display-1 text-danger p-5\"/>\r\n         </div>\r\n       </div> \r\n    )\r\n}\r\n\r\nexport default StripeSuccess;","import React from \"react\";\r\n\r\nconst StripeCancel = () => {\r\n\r\n    return (\r\n\r\n       <div className=\"container\">\r\n        <div className=\"col\">\r\n           <h2 className=\"p5\">Payment Failed. Please try again...</h2>\r\n         </div>\r\n       </div> \r\n    )\r\n}\r\n\r\nexport default StripeCancel;","import React, { useEffect } from \"react\";\r\nimport { Router, Route, Switch } from \"react-router-dom\";\r\nimport { connect } from \"react-redux\";\r\nimport { toast, ToastContainer } from \"react-toastify\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\n\r\nimport { auth } from \"../firebase\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport * as actions from \"../actions\";\r\nimport history from \"../history\";\r\n\r\nimport Mainpage from \"./Mainpage\";\r\nimport GetAllVendors from \"./home/GetAllVendors\";\r\n\r\nimport AdminDashboard from \"./admin/AdminDashboard\";\r\nimport CategoriesCreate from \"./admin/Categories/CategoriesCreate\";\r\nimport CategoriesList from \"./admin/Categories/CategoriesList\";\r\nimport CategoriesEdit from \"./admin/Categories/CategoriesEdit\";\r\nimport CategoriesDelete from \"./admin/Categories/CategoriesDelete\";\r\nimport SubcategoriesCreate from \"./admin/Subcategories/SubcategoriesCreate\";\r\nimport SubcategoriesList from \"./admin/Subcategories/SubcategoriesList\";\r\nimport SubcategoriesDelete from \"./admin/Subcategories/SubcategoriesDelete\";\r\nimport SubcategoriesEdit from \"./admin/Subcategories/SubcategoriesEdit\";\r\nimport QuestionsCreate from \"./admin/Questions/QuestionsCreate\";\r\nimport QuestionsList from \"./admin/Questions/QuestionsList\";\r\nimport QuestionsEdit from \"./admin/Questions/QuestionsEdit\";\r\nimport QuestionsDelete from \"./admin/Questions/QuestionsDelete\";\r\nimport SubcategoryQuestionsCreate from \"./admin/SubcategoryQuestions/SubcategoryQuestionsCreate\";\r\nimport SubcategoryQuestionsEdit from \"./admin/SubcategoryQuestions/SubcategoryQuestionsEdit\";\r\nimport SubcategoryQuestionsDelete from \"./admin/SubcategoryQuestions/SubcategoryQuestionsDelete\";\r\nimport SubcategoryQuestionsList from \"./admin/SubcategoryQuestions/SubcategoryQuestionsList\";\r\nimport TimeslotCreate from \"./admin/Timeslot/TimeslotCreate\";\r\nimport TimeslotList from \"./admin/Timeslot/TimeSlotList\";\r\nimport TimeslotEdit from \"./admin/Timeslot/TimeslotEdit\";\r\nimport TimeslotDelete from \"./admin/Timeslot/TimeslotDelete\";\r\nimport AreaLoad from \"./admin/Area/AreaLoad\";\r\nimport ListAreas from \"./admin/Area/ListAreas\";\r\n\r\nimport Header from \"./Header\";\r\nimport Footer from \"./Footer\";\r\nimport Shop from \"./utils/Shop.js\";\r\nimport Cart from \"./Cart\";\r\nimport SideDrawer from \"./drawer/SideDrawer\";\r\nimport Checkout from \"./pages/Checkout\";\r\nimport Payment from \"./pages/Payment\";\r\nimport BookVendor from \"./pages/BookVendor\";\r\nimport SelectTimeslot from \"./booking/SelectTimeslot\";\r\n// home page\r\nimport VendorDetails from \"./home/VendorDetails\";\r\nimport GetVendorsSubcat from \"./home/GetVendorsSubcat\";\r\n\r\n//login and registration\r\nimport Login from \"./login/Login\";\r\nimport Register from \"./login/Register\";\r\nimport RegisterComplete from \"./login/RegisterComplete\";\r\nimport ForgotPassword from \"./login/ForgotPassword\";\r\nimport VendorRegister from \"./login/VendorRegister\";\r\nimport VendorRegisterComplete from \"./login/VendorRegisterComplete\";\r\n// use navigation\r\nimport UserHistory from \"./user/UserHistory\";\r\nimport UserPassword from \"./user/UserPassword\";\r\n//vendor navigation\r\nimport VendorHistory from \"./vendor/VendorHistory\";\r\nimport VendorPassword from \"./vendor/VendorPassword\";\r\nimport Vendor from \"./admin/Vendor\";\r\nimport VendorNew from \"./vendor/VendorNew\";\r\nimport VendorCategories from \"./admin/VendorCategories\";\r\nimport Vendorsign from \"./vendor/Vendorsign\";\r\nimport UserRoute from \"./routes/UserRoute\";\r\nimport AdminRoute from \"./routes/AdminRoute\";\r\n\r\nimport VendorDashboard from \"./vendor/VendorDashboard\";\r\nimport VendorCreate from \"./vendor/VendorProducts/VendorCreate\";\r\nimport VendorEdit from \"./vendor/VendorProducts/VendorEdit\";\r\nimport VendorInfoCreate from \"./vendor/VendorInfo/VendorInfoCreate\";\r\nimport VendorInfoEdit from \"./vendor/VendorInfo/VendorInfoEdit\";\r\nimport VendorsInfoList from \"./vendor/VendorInfo/VendorsInfoList\"\r\nimport VendorCatList from \"./admin/Vendors/VendorCatList\";\r\nimport VendorCatDelete from \"./admin/Vendors/VendorCatDelete\";\r\nimport VendorListUser from \"./vendor/VendorProducts/VendorListUser\";\r\nimport VendorCalendarCreate from \"./vendor/VendorCalendar/VendorCalendarCreate\";\r\nimport VendorCalendarList from \"./vendor/VendorCalendar/VendorCalendarList\";\r\nimport VendorCalendarEdit from \"./vendor/VendorCalendar/VendorCalendarEdit\";\r\nimport VendorCalendarBulk from \"./vendor/VendorCalendar/VendorCalendarBulk\";\r\nimport BulkTimeslots from \"./vendor/VendorCalendar/BulkTimeslots\";\r\n\r\nimport StripeCallback from \"./stripe/StripeCallback\";\r\nimport StripeSuccess from \"./stripe/StripeSuccess\";\r\nimport StripeCancel from \"./stripe/StripeCancel\";\r\n\r\nimport { LOGGED_IN_USER } from \"../actions/types\";\r\nimport { currentUser, admintUser } from \"../actions/auth\";\r\nimport axios from \"axios\";\r\n\r\nconst App = () => {\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const { user } = useSelector(state => ({ ...state }));\r\n\r\n  useEffect(() => {\r\n    const unsubscribe = auth.onAuthStateChanged(async (user) => {\r\n      if (user) {\r\n        const idTokenResult = await user.getIdTokenResult();\r\n        currentUser(idTokenResult.token)\r\n          .then((res) => dispatch({\r\n            type: LOGGED_IN_USER,\r\n            payload: {\r\n              name: res.data.name,\r\n              email: res.data.email,\r\n              token: idTokenResult.token,\r\n              role: res.data.role,\r\n              _id: res.data._id,\r\n              address: res.data.address,\r\n              createdAt: res.data.createdAt,\r\n              stripe_account_id: res.data.stripe_account_id,\r\n              stripe_seller: res.data.stripe_seller,\r\n              stripeSession: res.data.stripeSession\r\n            }\r\n          }))\r\n          .catch((err) => console.log(err));\r\n      }\r\n    });\r\n    //clean up\r\n    return () => unsubscribe();\r\n  }, []);\r\n\r\n  axios.interceptors.response.use(\r\n    (res) => res,\r\n    (err) => {\r\n      return new Promise(function (resolve, reject) {\r\n        if (err && err.response && err.response.status === 401) {\r\n          const unsubscribe = auth.onAuthStateChanged(async (user) => {\r\n            if (user) {\r\n              await user.getIdToken(true).\r\n                then((idtoken) => {\r\n                  currentUser(idtoken)\r\n                    .then((res) => {\r\n                      dispatch({\r\n                        type: LOGGED_IN_USER,\r\n                        payload: {\r\n                          name: res.data.name,\r\n                          email: res.data.email,\r\n                          token: idtoken,\r\n                          role: res.data.role,\r\n                          _id: res.data._id,\r\n                          address: res.data.address,\r\n                          createdAt: res.data.createdAt,\r\n                          stripe_account_id: res.data.stripe_account_id,\r\n                          stripe_seller: res.data.stripe_seller,\r\n                          stripeSession: res.data.stripeSession\r\n                        }\r\n                      });\r\n                      err.config.headers[\"authtoken\"] = idtoken;\r\n                      axios.request(err.config).\r\n                        then((d) => {\r\n                          resolve(d);\r\n                        })\r\n                        .catch((ex) => {\r\n                          console.log(ex);\r\n                          reject(ex);\r\n                        });\r\n                    })\r\n                    .catch((err) => {\r\n                      console.log(err)\r\n                      reject(err);\r\n                    });\r\n                })\r\n                .catch((err) => {\r\n                  console.log(err)\r\n                  reject(err);\r\n                });\r\n            }\r\n          });\r\n          return () => unsubscribe();\r\n        }\r\n        throw err;\r\n      });\r\n    }\r\n\r\n  )\r\n\r\n  return (\r\n    <div className=\"App\">\r\n\r\n      <Router history={history}>\r\n        <Header />\r\n        <SideDrawer />\r\n        <ToastContainer />\r\n        {/* login and registration routes */}\r\n        <Switch>\r\n          <Route path=\"/login\" exact component={Login} />\r\n          <Route path=\"/register\" exact component={Register} />\r\n          <Route path=\"/registercomplete\" exact component={RegisterComplete} />\r\n          <Route path=\"/vendorregister\" exact component={VendorRegister} />\r\n          <Route path=\"/vendorregistercomplete\" exact component={VendorRegisterComplete} />\r\n          <Route path=\"/forgot/password\" exact component={ForgotPassword} />\r\n          {/* Home page routes */}\r\n          <Route path=\"/\" exact component={Mainpage} />\r\n          <Route path=\"/vendor\" exact component={VendorDashboard} />\r\n          <Route path=\"/allvendors\" exact component={GetAllVendors} />\r\n          <Route path=\"/vendorcat/:slug\" exact component={GetVendorsSubcat} />\r\n\r\n          <Route path=\"/vendordetails/:id\" exact component={VendorDetails} />\r\n          <Route path=\"/shop\" exact component={Shop} />\r\n          <Route path=\"/cart\" exact component={Cart} />\r\n\r\n          {/* if {user && user.role===\"admin\"}\r\n        ( */}\r\n          {/* admin routes   */}\r\n          {(user && user.role === \"admin\") ?\r\n            <>\r\n              <AdminRoute path=\"/admin/dashboard\" exact component={AdminDashboard} />\r\n              <AdminRoute path=\"/admin/categories/categoriescreate\" exact component={CategoriesCreate} />\r\n              <AdminRoute path=\"/admin/categories/categorieslist\" exact component={CategoriesList} />\r\n              <AdminRoute path=\"/admin/categories/categoriesedit/:slug\" exact component={CategoriesEdit} />\r\n              <AdminRoute path=\"/admin/categories/categoriesdelete/:slug\" component={CategoriesDelete} />\r\n\r\n              <AdminRoute path=\"/admin/subcategories/subcategoriescreate\" exact component={SubcategoriesCreate} />\r\n              <AdminRoute path=\"/admin/subcategories/subcategorieslist\" exact component={SubcategoriesList} />\r\n              <AdminRoute path=\"/admin/subcategories/subcategoriesdelete/:slug\" component={SubcategoriesDelete} />\r\n              <AdminRoute path=\"/admin/subcategories/subcategoriesedit/:slug\" component={SubcategoriesEdit} />\r\n\r\n              <AdminRoute path=\"/admin/questions/questionscreate\" exact component={QuestionsCreate} />\r\n              <AdminRoute path=\"/admin/questions/questionslist\" component={QuestionsList} />\r\n              <AdminRoute path=\"/admin/questions/questionsedit/:id\" component={QuestionsEdit} />\r\n              <AdminRoute path=\"/admin/questions/questionsdelete/:id\" component={QuestionsDelete} />\r\n              <AdminRoute path=\"/vendor/vendorsinfolist\" exact component={VendorsInfoList} />\r\n              <AdminRoute path=\"/vendor/vendorcatlist\" exact component={VendorCatList} />\r\n\r\n              <AdminRoute path=\"/admin/subcatquestions/subcatquestionscreate\" component={SubcategoryQuestionsCreate} />\r\n              <AdminRoute path=\"/admin/subcatquestions/subcatquestionsedit/:id\" component={SubcategoryQuestionsEdit} />\r\n              <AdminRoute path=\"/admin/subcatquestions/subcatquestionsdelete/:id\" component={SubcategoryQuestionsDelete} />\r\n              <AdminRoute path=\"/admin/subcatquestions/subcatquestionslist\" exact component={SubcategoryQuestionsList} />\r\n              <AdminRoute path=\"/admin/vendor\" exact component={Vendor} />\r\n\r\n              <AdminRoute path= \"/admin/timeslot/timeslotcreate\" exact component= {TimeslotCreate} />\r\n              <AdminRoute path= \"/admin/timeslot/listslots\" exact component= {TimeslotList} />\r\n              <AdminRoute path= \"/admin/timeslot/editslot/:id\" exact component= {TimeslotEdit} />\r\n              <AdminRoute path= \"/admin/timeslot/deleteslot/:id\" exact component= {TimeslotDelete} />\r\n\r\n              <AdminRoute path=\"/admin/areas/addareas\" exact component={AreaLoad} />\r\n              <AdminRoute path=\"/admin/areas/listareas\" exact component={ListAreas} />\r\n            </>\r\n            :\r\n            <>\r\n              {/* vendor routes */}\r\n              <UserRoute path=\"/vendor/vendorcreate\" exact component={VendorCreate} />\r\n              <UserRoute path=\"/vendor/vendoredit/:id\" exact component={VendorEdit} />\r\n\r\n              {/* user routes */}\r\n              <UserRoute path=\"/user/history\" exact component={UserHistory} />\r\n              <UserRoute path=\"/user/userpassword\" exact component={UserPassword} />\r\n              <UserRoute exact path=\"/vendor/dashboard\" component={VendorDashboard} />\r\n              <UserRoute path=\"/vendor/password\" exact component={VendorPassword} />\r\n              <UserRoute path=\"/vendor/vendordetails\" exact component={VendorNew} />\r\n              <UserRoute path=\"/vendor/vendorcategories\" exact component={VendorCategories} />\r\n              <UserRoute path=\"/vendor/vendorcatdelete/:id\" exact component={VendorCatDelete} />\r\n              <UserRoute path=\"/vendor/vendorcatlistuser/:userid\" exact component={VendorListUser} />\r\n\r\n              <UserRoute path=\"/vendor/vendorinfocreate\" exact component={VendorInfoCreate} />\r\n              <UserRoute path=\"/vendor/vendorinfoedit/:email\" exact component={VendorInfoEdit} />\r\n              <UserRoute path=\"/vendor/vendorcalcreate/:userid\" exact component={VendorCalendarCreate} />\r\n              <UserRoute path=\"/vendor/vendorcallist/:userid\" exact component={VendorCalendarList} />\r\n              <UserRoute path=\"/vendor/vendorcaledit/:id\" exact component={VendorCalendarEdit} />\r\n              <UserRoute path=\"/vendor/vendorcalbulk/:id\" exact component={VendorCalendarBulk} />\r\n              <UserRoute path=\"/vendor/bulktimeslots/:id/:fromDate/:toDate\" exact component={BulkTimeslots} />\r\n\r\n              <UserRoute path=\"/checkout\" exact component={Checkout} />\r\n              <UserRoute path=\"/payment\" exact component={Payment} />\r\n              <UserRoute path=\"/bookvendor/:id\" exact component={BookVendor} />\r\n              <UserRoute path=\"/selectslot/:vendor/:selectedvalue\" exact component={SelectTimeslot} />\r\n\r\n              {/* Route for vendor stripe callback */}\r\n              <UserRoute path=\"/stripe/callback\" component={StripeCallback} />\r\n              <UserRoute path=\"/stripesuccess/:vendor\" component={StripeSuccess} />\r\n              <UserRoute path=\"/stripecancel\" component={StripeCancel} />\r\n\r\n              {/* <Footer /> */}\r\n            </>}\r\n        </Switch>\r\n\r\n      </Router>\r\n\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\n\r\nexport default connect(null, actions)(App);","import {FETCH_USER} from \"../actions/types\";\r\n\r\nconst authReducer = (state = null, action) => {\r\n  switch(action.type) {\r\n    case FETCH_USER:\r\n     return action.payload||false;\r\n    default:\r\n     return state;\r\n  }\r\n}\r\n\r\nexport default authReducer;\r\n","import _ from \"lodash\";\r\nimport {\r\n    CREATE_SUBCATEGORY,\r\n    FETCH_SUBCATEGORIES,\r\n    FETCH_SUBCATEGORIES_NAME,\r\n    FETCH_SUBCATEGORIES_CATEGORIES,\r\n    EDIT_SUBCATEGORY,\r\n    DELETE_SUBCATEGORY\r\n} from \"../actions/types\";\r\n\r\n const subcategoryReducer =(state = [], action) => {\r\n    console.log(\"Action values from reducer 1:\",action.type);\r\n     switch (action.type) {\r\n         case CREATE_SUBCATEGORY:\r\n             console.log(\"Action values from reducer 2:\",state);\r\n             return {...state, [action.payload.id] : action.payload};\r\n         case FETCH_SUBCATEGORIES:\r\n             return {...state, ..._.mapKeys(action.payload, '_id')};\r\n         case FETCH_SUBCATEGORIES_NAME: \r\n             return {...state, subcategoryName:action.payload} ;         \r\n         case EDIT_SUBCATEGORY :          \r\n            return {...state, [action.payload.id] : action.payload};\r\n         case DELETE_SUBCATEGORY:\r\n             return _.omit( state, action.payload);\r\n         default:\r\n              return state;\r\n     }\r\n}\r\nexport default subcategoryReducer;","import _ from \"lodash\";\r\nimport { FETCH_CATEGORIES_NAME, FETCH_SUBCATEGORIES_NAME, FETCH_QUESTIONS_NAME } from \"../actions/types\";\r\n\r\nconst utilReducer = (state = {}, action ) => {\r\n    console.log(\"Action:\",action.type);\r\n\r\n    switch (action.type)\r\n   {\r\n    //  case FETCH_CATEGORIES_NAME :\r\n    //     console.log(\"State value from util reducer:\",action.payload);\r\n    //     // return { ...state, [action.payload.category] : action.payload};\r\n    //     return {...state, categoryName:action.payload};   \r\n     case FETCH_SUBCATEGORIES_NAME: \r\n       return {...state, subcategoryName:action.payload} ;\r\n     case FETCH_QUESTIONS_NAME :\r\n         return {...state, questionName: action.payload} ;\r\n    \r\n    default: \r\n        return state;\r\n    }  \r\n}\r\n\r\nexport default utilReducer;","import _ from \"lodash\";\r\nimport { CREATE_QUESTION,\r\n         FETCH_QUESTIONS,\r\n         FETCH_QUESTIONS_NAME,\r\n         EDIT_QUESTION,\r\n         DELETE_QUESTION } from \"../actions/types\";\r\nimport categoryReducer from \"./categoryReducer\";\r\n\r\n const questionReducer= (state= [], action) => {\r\n    console.log(\"Action values from question reducer :\",action);\r\n   switch (action.type) {\r\n    case CREATE_QUESTION :\r\n         return { ...state, [action.payload.id]  : action.payload};\r\n    case FETCH_QUESTIONS :\r\n         return {...state, ..._.mapKeys(action.payload, '_id' )};\r\n    case FETCH_QUESTIONS_NAME :\r\n            return {...state, questionName: action.payload} ;\r\n    case EDIT_QUESTION :       \r\n        return {...state, [action.payload.id] : action.payload};\r\n    case DELETE_QUESTION :\r\n        return _.omit( state, action.payload);  \r\n    default:\r\n        return state;\r\n    }\r\n}\r\n\r\nexport default questionReducer;","import _ from \"lodash\";\r\nimport {\r\n    CREATE_SUBCAT_QUESTION,\r\n    FETCH_SUBCAT_QUESTIONS,\r\n    EDIT_SUBCAT_QUESTION,\r\n    DELETE_SUBCAT_QUESTION\r\n} from \"../actions/types\";\r\n\r\n const subcatQuestionReducer= (state = [], action) => {\r\n     switch (action.type) {\r\n         case CREATE_SUBCAT_QUESTION:           \r\n             return {...state, [action.payload.id] : action.payload};\r\n         case FETCH_SUBCAT_QUESTIONS:\r\n            console.log(\"Action values from reducer 3:\",action);\r\n             return {...state, ..._.mapKeys(action.payload, '_id')};\r\n         case EDIT_SUBCAT_QUESTION :          \r\n            return {...state, [action.payload.id] : action.payload};\r\n         case DELETE_SUBCAT_QUESTION:\r\n             return _.omit( state, action.payload);\r\n         default:\r\n              return state;\r\n     }\r\n}\r\nexport default subcatQuestionReducer;","import {SET_ALERT, REMOVE_ALERT} from \"../actions/types\";\r\n\r\nconst initialState= [];\r\n\r\nconst alertReducer = (state= initialState, action) => {\r\n    switch(action.type) {\r\n      case SET_ALERT:\r\n          return [...state, action.payload];\r\n      case REMOVE_ALERT:\r\n          return state.filter( alert => alert.id != action.payload);\r\n      default:\r\n          return state;\r\n    }\r\n}\r\n\r\nexport default alertReducer;","let initialState= [];\r\n\r\n//load cart items in redux store from local storage\r\nif (typeof window != 'undefined') {\r\n    if(localStorage.getItem(\"cart\")) {\r\n        initialState= JSON.parse(localStorage.getItem(\"cart\"));\r\n    } else {\r\n        initialState= [];\r\n    }\r\n}\r\n const cartReducer = ( state= initialState, action) => {\r\n   switch(action.type) {\r\n    case \"ADD_TO_CART\" :\r\n        return action.payload;\r\n    default:\r\n        return state;\r\n   }\r\n}\r\nexport default cartReducer;","const drawerReducer = ( state= false, action) => {\r\n    switch(action.type) {\r\n     case \"SET_VISIBLE\" :\r\n         return action.payload;\r\n     default:\r\n         return state;\r\n    }\r\n }\r\n export default drawerReducer;","let initialState= \"\";\r\n \r\nconst dayReducer = ( state= initialState, action) => {\r\n   switch(action.type) {\r\n    case \"SELECTED_DAY\" :\r\n        return action.payload;       \r\n     default:\r\n        return state;\r\n   }\r\n}\r\nexport default dayReducer;","import _ from \"lodash\";\r\n\r\nlet initialState= {\r\n    timeslotsval: []\r\n};\r\n\r\nconst timeslotReducer = ( state= initialState, action) => {\r\n   switch(action.type) {\r\n    case \"SELECTED_TIMESLOT\":\r\n         let temp= state.timeslotsval;\r\n\r\n    \r\n         let unique=_.uniqWith(temp,_.isEqual); \r\n         let index = unique.findIndex(x => x.tstimeslot[0]._id === action.payload.tstimeslot[0]._id);\r\n         unique.push(action.payload);\r\n         let a= unique.filter(timeslot => timeslot.tsday == action.payload.tsday) \r\n     if(index > -1){\r\n          var uniquevar=_.uniqWith(a,_.isEqual); \r\n          uniquevar.splice(index,1)\r\n     }\r\n              return {\r\n              ...state,\r\n              timeslotsval: uniquevar?.length || index > -1 ? uniquevar : a          \r\n         }   \r\n    default:\r\n        return state;\r\n   }\r\n}\r\nexport default timeslotReducer;\r\n\r\n\r\n\r\n","import {combineReducers} from \"redux\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport authReducer from \"./authReducer\";\r\nimport categoryReducer from \"./categoryReducer\";\r\nimport subcategoryReducer from \"./subcategoryReducer\";\r\nimport utilReducer from \"./utilReducer\";\r\nimport questionReducer from \"./questionReducer\";\r\nimport subcatQuestionReducer from \"./subcatQuestionReducer\";\r\nimport alertReducer from \"./alertReducer\";\r\nimport userReducer from \"./userReducer\";\r\nimport cartReducer from \"./cartReducer\";\r\nimport { serachReducer } from \"./searchReducer\";\r\nimport drawerReducer from \"./drawerReducer\";\r\nimport dayReducer from \"./dayReducer\";\r\nimport timeslotReducer from \"./timeslotReducer\";\r\n\r\nexport default combineReducers(\r\n               { alert: alertReducer,\r\n                auth: authReducer, \r\n                user: userReducer,  \r\n                cart: cartReducer, \r\n                drawer: drawerReducer,\r\n                search: serachReducer,           \r\n                form: formReducer,\r\n                categories: categoryReducer,\r\n                subcategories: subcategoryReducer,\r\n                util: utilReducer,\r\n                questions: questionReducer,\r\n                subquestion: subcatQuestionReducer,\r\n                dayval: dayReducer,\r\n                timeslotsval: timeslotReducer\r\n               });\r\n","export const serachReducer = ( state=  {text: \"\"}, action) => {\r\n \r\nswitch (action.type)  {\r\n    case \"SEARCH_QUERY\" :\r\n        return { ...state, ...action.payload}\r\n    default :\r\n        return state;\r\n}\r\n}","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport {Provider} from \"react-redux\";\r\nimport {createStore, applyMiddleware, compose} from \"redux\";\r\nimport { composeWithDevTools } from \"redux-devtools-extension\";\r\nimport thunk from \"redux-thunk\";\r\nimport styles from \"./styles.css\"\r\nimport App from \"./components/App\";\r\nimport reducers from './reducers';\r\nimport 'antd/dist/antd.css';\r\n<link rel=\"stylesheet\" href= \"./styles.css\" />\r\n\r\n\r\n\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose; \r\nconst store = createStore(reducers,\r\n                          composeEnhancers(applyMiddleware(thunk)));\r\n                          \r\n\r\nReactDOM.render(\r\n  <Provider store= {store}>\r\n    <App />\r\n  </Provider>,document.querySelector('#root')\r\n);\r\n"],"sourceRoot":""}